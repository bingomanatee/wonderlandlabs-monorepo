import{d as Te,j as t,u as Xe,B as d,C as oe,F as Ke,H as P,I as Je,T as c,M as qr,e as Yr,f as L,g as Kr,h as Xr,i as qt,k as Jr,l as J,m as Qr,n as es,o as ts,p as ns,q as rs,r as tt,s as nt,V as j,t as f,S as ie,O as ss,L as v,D as Pe,v as De,w as le,x as R,y as as,z as ir,A as or,E as he,G as Ee,J as lr,K as A,N as _,P as is,Q as cr,R as be,U as Ne,W as Le,X as _e,Y as Ae,Z as Yt,$ as Kt,a0 as Ot,a1 as Pt,a2 as Nt,a3 as Lt,a4 as dn,a5 as we,a6 as os,a7 as ls,a8 as cs,a9 as us,aa as ds}from"./chakra-DZkSEikR.js";import{e as hs,g as ur,b as ye,a as Y,u as ps,L as V,c as hn,f as ms,h as se,B as gs}from"./vendor-BYoL5dE3.js";import{F as ce}from"./forestry-BZ7K4qq1.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ut={},pn;function fs(){if(pn)return ut;pn=1;var e=hs();return ut.createRoot=e.createRoot,ut.hydrateRoot=e.hydrateRoot,ut}var xs=fs();const bs=ur(xs),ys=Te({d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",displayName:"CopyIcon"}),vs=Te({viewBox:"0 0 14 14",d:"M14,7.77 L14,6.17 L12.06,5.53 L11.61,4.44 L12.49,2.6 L11.36,1.47 L9.55,2.38 L8.46,1.93 L7.77,0.01 L6.17,0.01 L5.54,1.95 L4.43,2.4 L2.59,1.52 L1.46,2.65 L2.37,4.46 L1.92,5.55 L0,6.23 L0,7.82 L1.94,8.46 L2.39,9.55 L1.51,11.39 L2.64,12.52 L4.45,11.61 L5.54,12.06 L6.23,13.98 L7.82,13.98 L8.45,12.04 L9.56,11.59 L11.4,12.47 L12.53,11.34 L11.61,9.53 L12.08,8.44 L14,7.75 L14,7.77 Z M7,10 C5.34,10 4,8.66 4,7 C4,5.34 5.34,4 7,4 C8.66,4 10,5.34 10,7 C10,8.66 8.66,10 7,10 Z",displayName:"SettingsIcon"}),te=Te({displayName:"CheckCircleIcon",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}),js=Te({d:"M19.5,9.5h-.75V6.75a6.75,6.75,0,0,0-13.5,0V9.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5ZM7.75,6.75a4.25,4.25,0,0,1,8.5,0V9a.5.5,0,0,1-.5.5H8.25a.5.5,0,0,1-.5-.5Z",displayName:"LockIcon"}),ws=Te({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),Oe=Te({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"}),dt=Te({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"}),Fe=Te({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z",displayName:"WarningIcon"}),W=Te({viewBox:"0 0 14 14",path:t.jsx("g",{fill:"currentColor",children:t.jsx("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"})})});var dr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mn=ye.createContext&&ye.createContext(dr),Ss=["attr","size","title"];function ks(e,n){if(e==null)return{};var r=Es(e,n),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Es(e,n){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(n.indexOf(s)>=0)continue;r[s]=e[s]}return r}function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},yt.apply(this,arguments)}function gn(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vt(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?gn(Object(r),!0).forEach(function(s){_s(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gn(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function _s(e,n,r){return n=As(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function As(e){var n=Ts(e,"string");return typeof n=="symbol"?n:n+""}function Ts(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function hr(e){return e&&e.map((n,r)=>ye.createElement(n.tag,vt({key:r},n.attr),hr(n.child)))}function Xt(e){return n=>ye.createElement(Cs,yt({attr:vt({},e.attr)},n),hr(e.child))}function Cs(e){var n=r=>{var{attr:s,size:a,title:i}=e,o=ks(e,Ss),l=a||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),ye.createElement("svg",yt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,o,{className:u,style:vt(vt({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&ye.createElement("title",null,i),e.children)};return mn!==void 0?ye.createElement(mn.Consumer,null,r=>n(r)):n(dr)}function Fs(e){return Xt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function Se(e,...n){const r=Y.useRef(null);r.current||=e(...n);const[s,a]=Y.useState(r.current?.value);return Y.useEffect(()=>{if(r.current){let i=r.current?.subscribe(a);return()=>{i?.unsubscribe()}}},[]),[s,r.current]}class Is extends ce{constructor(){super({name:"navigation",value:{openMenu:null,hoveredMenu:null}})}openMenu(n){this.mutate(r=>{r.openMenu=n,r.hoveredMenu=n})}closeMenu(){this.mutate(n=>{n.openMenu=null,n.hoveredMenu=null})}setHoveredMenu(n){this.mutate(r=>{r.hoveredMenu=n,r.openMenu=n})}handleMenuEnter(n){this.mutate(r=>{r.hoveredMenu=n,r.openMenu=n})}handleMenuLeave(){this.mutate(n=>{n.hoveredMenu=null,n.openMenu=null})}handleItemClick(){this.mutate(n=>{n.openMenu=null,n.hoveredMenu=null})}}const zs=()=>new Is,Rs={"Getting Started":[{label:"Quick Start",path:"/"},{label:"Why Forestry?",path:"/why"}],"Essential Features":[{label:"Basics",path:"/forest"},{label:"Value Change",path:"/change"},{label:"With React",path:"/react"},{label:"Other Frameworks",path:"/other-frameworks"}],"Power Tools":[{label:"Branching",path:"/branching"},{label:"Validation",path:"/validation"},{label:"Schema",path:"/schemas"},{label:"Transactions",path:"/transactions"},{label:"RxJS / Immer",path:"/rxjs"}],"Practical Examples":[{label:"Overview",path:"/examples"},{label:"Todo App",path:"/examples/todo-app"},{label:"Shopping Cart",path:"/examples/shopping-cart"},{label:"Form Validation",path:"/examples/form-validation"},{label:"Transaction Demo",path:"/examples/transaction-demo"}],"API Reference":[{label:"Overview",path:"/api"},{label:"Forest Class",path:"/api#forest"},{label:"Constructor & Properties",path:"/api#forest-constructor"},{label:"Core Methods",path:"/api#forest-core"},{label:"Branching Methods",path:"/api#forest-branching"},{label:"Transactions",path:"/api#forest-transactions"},{label:"Validation",path:"/api#forest-validation"},{label:"Types",path:"/api#types-config"}]},$s=()=>{const e=ps(),n=Xe("black","gray.500"),r=Xe("white","black"),[s,a]=Se(zs),{openMenu:i}=s,o=l=>e.pathname===l;return t.jsx(d,{position:"fixed",top:0,left:0,right:0,zIndex:1e3,bg:n,shadow:"sm",children:t.jsx(oe,{maxW:"container.xl",children:t.jsxs(Ke,{alignItems:"center",justifyContent:"space-between",children:[t.jsxs(P,{as:V,spacing:2,to:"/",mr:10,children:[t.jsx(Je,{w:"32px",h:"32px",src:"/img/logo-dark.png"}),t.jsx(c,{fontSize:"xl",fontWeight:"bold",color:r,whiteSpace:"nowrap",children:"Forestry 4.0"})]}),t.jsxs(P,{spacing:6,children:[Object.entries(Rs).map(([l,u])=>t.jsxs(qr,{isOpen:i===l,onClose:()=>a.$.closeMenu(),children:[t.jsx(Yr,{as:L,variant:"ghost",colorScheme:"green",color:"green.300",_hover:{bg:"green.700",color:"white"},_active:{bg:"green.600",color:"white"},_focus:{boxShadow:"none",outline:"none"},_focusVisible:{boxShadow:"none",outline:"none"},rightIcon:t.jsx(ws,{}),onMouseEnter:()=>a.handleMenuEnter(l),onClick:()=>{i===l?a.closeMenu():a.openMenu(l)},children:l}),t.jsx(Kr,{onMouseLeave:()=>a.handleMenuLeave(),onMouseEnter:()=>a.setHoveredMenu(l),py:0,overflow:"hidden",children:u.map(h=>t.jsx(Xr,{as:h.external?V:V,to:h.external?void 0:h.path,href:h.external?h.path:void 0,isExternal:h.external,bg:!h.external&&o(h.path)?"forest.50":"transparent",color:!h.external&&o(h.path)?"forest.600":"gray.700",fontWeight:!h.external&&o(h.path)?"semibold":"normal",_hover:{bg:!h.external&&o(h.path)?"forest.100":"gray.50"},onClick:()=>a.handleItemClick(),children:h.label},h.path))})]},l)),t.jsx(L,{as:V,href:"https://github.com/bingomanatee/wonderlandlabs-monorepo",isExternal:!0,variant:"ghost",size:"sm","aria-label":"View source on GitHub",children:t.jsx(c,{color:"white",children:t.jsx(Fs,{})})})]})]})})})};function g(e,n,r){function s(l,u){var h;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(h=l._zod).traits??(h.traits=new Set),l._zod.traits.add(e),n(l,u);for(const b in o.prototype)b in l||Object.defineProperty(l,b,{value:o.prototype[b].bind(l)});l._zod.constr=o,l._zod.def=u}const a=r?.Parent??Object;class i extends a{}Object.defineProperty(i,"name",{value:e});function o(l){var u;const h=r?.Parent?new i:this;s(h,l),(u=h._zod).deferred??(u.deferred=[]);for(const b of h._zod.deferred)b();return h}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>r?.Parent&&l instanceof r.Parent?!0:l?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class Ve extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class pr extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const mr={};function Ie(e){return mr}function Ds(e){const n=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,a])=>n.indexOf(+s)===-1).map(([s,a])=>a)}function Vt(e,n){return typeof n=="bigint"?n.toString():n}function Jt(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function Qt(e){return e==null}function en(e){const n=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(n,r)}function Os(e,n){const r=(e.toString().split(".")[1]||"").length,s=n.toString();let a=(s.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(s)){const u=s.match(/\d?e-(\d?)/);u?.[1]&&(a=Number.parseInt(u[1]))}const i=r>a?r:a,o=Number.parseInt(e.toFixed(i).replace(".","")),l=Number.parseInt(n.toFixed(i).replace(".",""));return o%l/10**i}const fn=Symbol("evaluating");function M(e,n,r){let s;Object.defineProperty(e,n,{get(){if(s!==fn)return s===void 0&&(s=fn,s=r()),s},set(a){Object.defineProperty(e,n,{value:a})},configurable:!0})}function Ps(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Re(e,n,r){Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function He(...e){const n={};for(const r of e){const s=Object.getOwnPropertyDescriptors(r);Object.assign(n,s)}return Object.defineProperties({},n)}function xn(e){return JSON.stringify(e)}const gr="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function jt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Ns=Jt(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function We(e){if(jt(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(jt(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function fr(e){return We(e)?{...e}:Array.isArray(e)?[...e]:e}const Ls=new Set(["string","number","symbol"]);function _t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $e(e,n,r){const s=new e._zod.constr(n??e._zod.def);return(!n||r?.parent)&&(s._zod.parent=e),s}function C(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function Bs(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const Zs={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Ms(e,n){const r=e._zod.def,s=He(e._zod.def,{get shape(){const a={};for(const i in n){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(a[i]=r.shape[i])}return Re(this,"shape",a),a},checks:[]});return $e(e,s)}function Us(e,n){const r=e._zod.def,s=He(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const i in n){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);n[i]&&delete a[i]}return Re(this,"shape",a),a},checks:[]});return $e(e,s)}function Vs(e,n){if(!We(n))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=He(e._zod.def,{get shape(){const i={...e._zod.def.shape,...n};return Re(this,"shape",i),i},checks:[]});return $e(e,a)}function Ws(e,n){if(!We(n))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const s={...e._zod.def.shape,...n};return Re(this,"shape",s),s},checks:e._zod.def.checks};return $e(e,r)}function Hs(e,n){const r=He(e._zod.def,{get shape(){const s={...e._zod.def.shape,...n._zod.def.shape};return Re(this,"shape",s),s},get catchall(){return n._zod.def.catchall},checks:[]});return $e(e,r)}function Gs(e,n,r){const s=He(n._zod.def,{get shape(){const a=n._zod.def.shape,i={...a};if(r)for(const o in r){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=e?new e({type:"optional",innerType:a[o]}):a[o])}else for(const o in a)i[o]=e?new e({type:"optional",innerType:a[o]}):a[o];return Re(this,"shape",i),i},checks:[]});return $e(n,s)}function qs(e,n,r){const s=He(n._zod.def,{get shape(){const a=n._zod.def.shape,i={...a};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new e({type:"nonoptional",innerType:a[o]}))}else for(const o in a)i[o]=new e({type:"nonoptional",innerType:a[o]});return Re(this,"shape",i),i},checks:[]});return $e(n,s)}function Ze(e,n=0){if(e.aborted===!0)return!0;for(let r=n;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Me(e,n){return n.map(r=>{var s;return(s=r).path??(s.path=[]),r.path.unshift(e),r})}function ht(e){return typeof e=="string"?e:e?.message}function ze(e,n,r){const s={...e,path:e.path??[]};if(!e.message){const a=ht(e.inst?._zod.def?.error?.(e))??ht(n?.error?.(e))??ht(r.customError?.(e))??ht(r.localeError?.(e))??"Invalid input";s.message=a}return delete s.inst,delete s.continue,n?.reportInput||delete s.input,s}function tn(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Qe(...e){const[n,r,s]=e;return typeof n=="string"?{message:n,code:"custom",input:r,inst:s}:{...n}}const xr=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,Vt,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},br=g("$ZodError",xr),yr=g("$ZodError",xr,{Parent:Error});function Ys(e,n=r=>r.message){const r={},s=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(n(a))):s.push(n(a));return{formErrors:s,fieldErrors:r}}function Ks(e,n){const r=n||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>a({issues:l}));else if(o.code==="invalid_key")a({issues:o.issues});else if(o.code==="invalid_element")a({issues:o.issues});else if(o.path.length===0)s._errors.push(r(o));else{let l=s,u=0;for(;u<o.path.length;){const h=o.path[u];u===o.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(r(o))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return a(e),s}const nn=e=>(n,r,s,a)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},o=n._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new Ve;if(o.issues.length){const l=new(a?.Err??e)(o.issues.map(u=>ze(u,i,Ie())));throw gr(l,a?.callee),l}return o.value},rn=e=>async(n,r,s,a)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let o=n._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new(a?.Err??e)(o.issues.map(u=>ze(u,i,Ie())));throw gr(l,a?.callee),l}return o.value},At=e=>(n,r,s)=>{const a=s?{...s,async:!1}:{async:!1},i=n._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new Ve;return i.issues.length?{success:!1,error:new(e??br)(i.issues.map(o=>ze(o,a,Ie())))}:{success:!0,data:i.value}},Xs=At(yr),Tt=e=>async(n,r,s)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let i=n._zod.run({value:r,issues:[]},a);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>ze(o,a,Ie())))}:{success:!0,data:i.value}},Js=Tt(yr),Qs=e=>(n,r,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return nn(e)(n,r,a)},ea=e=>(n,r,s)=>nn(e)(n,r,s),ta=e=>async(n,r,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return rn(e)(n,r,a)},na=e=>async(n,r,s)=>rn(e)(n,r,s),ra=e=>(n,r,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return At(e)(n,r,a)},sa=e=>(n,r,s)=>At(e)(n,r,s),aa=e=>async(n,r,s)=>{const a=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Tt(e)(n,r,a)},ia=e=>async(n,r,s)=>Tt(e)(n,r,s),oa=/^[cC][^\s-]{8,}$/,la=/^[0-9a-z]+$/,ca=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ua=/^[0-9a-vA-V]{20}$/,da=/^[A-Za-z0-9]{27}$/,ha=/^[a-zA-Z0-9_-]{21}$/,pa=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ma=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bn=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,ga=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,fa="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function xa(){return new RegExp(fa,"u")}const ba=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ya=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,va=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ja=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wa=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,vr=/^[A-Za-z0-9_-]*$/,Sa=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,ka=/^\+(?:[0-9]){6,14}[0-9]$/,jr="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Ea=new RegExp(`^${jr}$`);function wr(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function _a(e){return new RegExp(`^${wr(e)}$`)}function Aa(e){const n=wr({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${n}(?:${r.join("|")})`;return new RegExp(`^${jr}T(?:${s})$`)}const Ta=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},Ca=/^-?\d+$/,Fa=/^-?\d+(?:\.\d+)?/,Ia=/^(?:true|false)$/i,za=/^[^A-Z]*$/,Ra=/^[^a-z]*$/,me=g("$ZodCheck",(e,n)=>{var r;e._zod??(e._zod={}),e._zod.def=n,(r=e._zod).onattach??(r.onattach=[])}),Sr={number:"number",bigint:"bigint",object:"date"},kr=g("$ZodCheckLessThan",(e,n)=>{me.init(e,n);const r=Sr[typeof n.value];e._zod.onattach.push(s=>{const a=s._zod.bag,i=(n.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<i&&(n.inclusive?a.maximum=n.value:a.exclusiveMaximum=n.value)}),e._zod.check=s=>{(n.inclusive?s.value<=n.value:s.value<n.value)||s.issues.push({origin:r,code:"too_big",maximum:n.value,input:s.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),Er=g("$ZodCheckGreaterThan",(e,n)=>{me.init(e,n);const r=Sr[typeof n.value];e._zod.onattach.push(s=>{const a=s._zod.bag,i=(n.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>i&&(n.inclusive?a.minimum=n.value:a.exclusiveMinimum=n.value)}),e._zod.check=s=>{(n.inclusive?s.value>=n.value:s.value>n.value)||s.issues.push({origin:r,code:"too_small",minimum:n.value,input:s.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),$a=g("$ZodCheckMultipleOf",(e,n)=>{me.init(e,n),e._zod.onattach.push(r=>{var s;(s=r._zod.bag).multipleOf??(s.multipleOf=n.value)}),e._zod.check=r=>{if(typeof r.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%n.value===BigInt(0):Os(r.value,n.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:n.value,input:r.value,inst:e,continue:!n.abort})}}),Da=g("$ZodCheckNumberFormat",(e,n)=>{me.init(e,n),n.format=n.format||"float64";const r=n.format?.includes("int"),s=r?"int":"number",[a,i]=Zs[n.format];e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=n.format,l.minimum=a,l.maximum=i,r&&(l.pattern=Ca)}),e._zod.check=o=>{const l=o.value;if(r){if(!Number.isInteger(l)){o.issues.push({expected:s,format:n.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!n.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!n.abort});return}}l<a&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!n.abort}),l>i&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:i,inst:e})}}),Oa=g("$ZodCheckMaxLength",(e,n)=>{var r;me.init(e,n),(r=e._zod.def).when??(r.when=s=>{const a=s.value;return!Qt(a)&&a.length!==void 0}),e._zod.onattach.push(s=>{const a=s._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<a&&(s._zod.bag.maximum=n.maximum)}),e._zod.check=s=>{const a=s.value;if(a.length<=n.maximum)return;const o=tn(a);s.issues.push({origin:o,code:"too_big",maximum:n.maximum,inclusive:!0,input:a,inst:e,continue:!n.abort})}}),Pa=g("$ZodCheckMinLength",(e,n)=>{var r;me.init(e,n),(r=e._zod.def).when??(r.when=s=>{const a=s.value;return!Qt(a)&&a.length!==void 0}),e._zod.onattach.push(s=>{const a=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>a&&(s._zod.bag.minimum=n.minimum)}),e._zod.check=s=>{const a=s.value;if(a.length>=n.minimum)return;const o=tn(a);s.issues.push({origin:o,code:"too_small",minimum:n.minimum,inclusive:!0,input:a,inst:e,continue:!n.abort})}}),Na=g("$ZodCheckLengthEquals",(e,n)=>{var r;me.init(e,n),(r=e._zod.def).when??(r.when=s=>{const a=s.value;return!Qt(a)&&a.length!==void 0}),e._zod.onattach.push(s=>{const a=s._zod.bag;a.minimum=n.length,a.maximum=n.length,a.length=n.length}),e._zod.check=s=>{const a=s.value,i=a.length;if(i===n.length)return;const o=tn(a),l=i>n.length;s.issues.push({origin:o,...l?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!n.abort})}}),Ct=g("$ZodCheckStringFormat",(e,n)=>{var r,s;me.init(e,n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format=n.format,n.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(n.pattern))}),n.pattern?(r=e._zod).check??(r.check=a=>{n.pattern.lastIndex=0,!n.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:n.format,input:a.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(s=e._zod).check??(s.check=()=>{})}),La=g("$ZodCheckRegex",(e,n)=>{Ct.init(e,n),e._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),Ba=g("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=za),Ct.init(e,n)}),Za=g("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=Ra),Ct.init(e,n)}),Ma=g("$ZodCheckIncludes",(e,n)=>{me.init(e,n);const r=_t(n.includes),s=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=s,e._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(s)}),e._zod.check=a=>{a.value.includes(n.includes,n.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:a.value,inst:e,continue:!n.abort})}}),Ua=g("$ZodCheckStartsWith",(e,n)=>{me.init(e,n);const r=new RegExp(`^${_t(n.prefix)}.*`);n.pattern??(n.pattern=r),e._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=s=>{s.value.startsWith(n.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:s.value,inst:e,continue:!n.abort})}}),Va=g("$ZodCheckEndsWith",(e,n)=>{me.init(e,n);const r=new RegExp(`.*${_t(n.suffix)}$`);n.pattern??(n.pattern=r),e._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=s=>{s.value.endsWith(n.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:s.value,inst:e,continue:!n.abort})}}),Wa=g("$ZodCheckOverwrite",(e,n)=>{me.init(e,n),e._zod.check=r=>{r.value=n.tx(r.value)}});class Ha{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const s=n.split(`
`).filter(o=>o),a=Math.min(...s.map(o=>o.length-o.trimStart().length)),i=s.map(o=>o.slice(a)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const n=Function,r=this?.args,a=[...(this?.content??[""]).map(i=>`  ${i}`)];return new n(...r,a.join(`
`))}}const Ga={major:4,minor:1,patch:8},K=g("$ZodType",(e,n)=>{var r;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=Ga;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const a of s)for(const i of a._zod.onattach)i(e);if(s.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(o,l,u)=>{let h=Ze(o),b;for(const y of l){if(y._zod.def.when){if(!y._zod.def.when(o))continue}else if(h)continue;const T=o.issues.length,k=y._zod.check(o);if(k instanceof Promise&&u?.async===!1)throw new Ve;if(b||k instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await k,o.issues.length!==T&&(h||(h=Ze(o,T)))});else{if(o.issues.length===T)continue;h||(h=Ze(o,T))}}return b?b.then(()=>o):o},i=(o,l,u)=>{if(Ze(o))return o.aborted=!0,o;const h=a(l,s,u);if(h instanceof Promise){if(u.async===!1)throw new Ve;return h.then(b=>e._zod.parse(b,u))}return e._zod.parse(h,u)};e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){const h=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return h instanceof Promise?h.then(b=>i(b,o,l)):i(h,o,l)}const u=e._zod.parse(o,l);if(u instanceof Promise){if(l.async===!1)throw new Ve;return u.then(h=>a(h,s,l))}return a(u,s,l)}}e["~standard"]={validate:a=>{try{const i=Xs(e,a);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return Js(e,a).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),sn=g("$ZodString",(e,n)=>{K.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Ta(e._zod.bag),e._zod.parse=(r,s)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),H=g("$ZodStringFormat",(e,n)=>{Ct.init(e,n),sn.init(e,n)}),qa=g("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=ma),H.init(e,n)}),Ya=g("$ZodUUID",(e,n)=>{if(n.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(s===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=bn(s))}else n.pattern??(n.pattern=bn());H.init(e,n)}),Ka=g("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=ga),H.init(e,n)}),Xa=g("$ZodURL",(e,n)=>{H.init(e,n),e._zod.check=r=>{try{const s=r.value.trim(),a=new URL(s);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Sa.source,input:r.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:e,continue:!n.abort})),n.normalize?r.value=a.href:r.value=s;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!n.abort})}}}),Ja=g("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=xa()),H.init(e,n)}),Qa=g("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=ha),H.init(e,n)}),ei=g("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=oa),H.init(e,n)}),ti=g("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=la),H.init(e,n)}),ni=g("$ZodULID",(e,n)=>{n.pattern??(n.pattern=ca),H.init(e,n)}),ri=g("$ZodXID",(e,n)=>{n.pattern??(n.pattern=ua),H.init(e,n)}),si=g("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=da),H.init(e,n)}),ai=g("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=Aa(n)),H.init(e,n)}),ii=g("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=Ea),H.init(e,n)}),oi=g("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=_a(n)),H.init(e,n)}),li=g("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=pa),H.init(e,n)}),ci=g("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=ba),H.init(e,n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format="ipv4"})}),ui=g("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=ya),H.init(e,n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!n.abort})}}}),di=g("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=va),H.init(e,n)}),hi=g("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=ja),H.init(e,n),e._zod.check=r=>{const s=r.value.split("/");try{if(s.length!==2)throw new Error;const[a,i]=s;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!n.abort})}}});function _r(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const pi=g("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=wa),H.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{_r(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!n.abort})}});function mi(e){if(!vr.test(e))return!1;const n=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return _r(r)}const gi=g("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=vr),H.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{mi(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!n.abort})}}),fi=g("$ZodE164",(e,n)=>{n.pattern??(n.pattern=ka),H.init(e,n)});function xi(e,n=null){try{const r=e.split(".");if(r.length!==3)return!1;const[s]=r;if(!s)return!1;const a=JSON.parse(atob(s));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||n&&(!("alg"in a)||a.alg!==n))}catch{return!1}}const bi=g("$ZodJWT",(e,n)=>{H.init(e,n),e._zod.check=r=>{xi(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!n.abort})}}),Ar=g("$ZodNumber",(e,n)=>{K.init(e,n),e._zod.pattern=e._zod.bag.pattern??Fa,e._zod.parse=(r,s)=>{if(n.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const i=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...i?{received:i}:{}}),r}}),yi=g("$ZodNumber",(e,n)=>{Da.init(e,n),Ar.init(e,n)}),vi=g("$ZodBoolean",(e,n)=>{K.init(e,n),e._zod.pattern=Ia,e._zod.parse=(r,s)=>{if(n.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),ji=g("$ZodUnknown",(e,n)=>{K.init(e,n),e._zod.parse=r=>r}),wi=g("$ZodNever",(e,n)=>{K.init(e,n),e._zod.parse=(r,s)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),Si=g("$ZodDate",(e,n)=>{K.init(e,n),e._zod.parse=(r,s)=>{if(n.coerce)try{r.value=new Date(r.value)}catch{}const a=r.value,i=a instanceof Date;return i&&!Number.isNaN(a.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:a,...i?{received:"Invalid Date"}:{},inst:e}),r}});function yn(e,n,r){e.issues.length&&n.issues.push(...Me(r,e.issues)),n.value[r]=e.value}const ki=g("$ZodArray",(e,n)=>{K.init(e,n),e._zod.parse=(r,s)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const i=[];for(let o=0;o<a.length;o++){const l=a[o],u=n.element._zod.run({value:l,issues:[]},s);u instanceof Promise?i.push(u.then(h=>yn(h,r,o))):yn(u,r,o)}return i.length?Promise.all(i).then(()=>r):r}});function wt(e,n,r,s){e.issues.length&&n.issues.push(...Me(r,e.issues)),e.value===void 0?r in s&&(n.value[r]=void 0):n.value[r]=e.value}function Tr(e){const n=Object.keys(e.shape);for(const s of n)if(!e.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const r=Bs(e.shape);return{...e,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(r)}}function Cr(e,n,r,s,a,i){const o=[],l=a.keySet,u=a.catchall._zod,h=u.def.type;for(const b of Object.keys(n)){if(l.has(b))continue;if(h==="never"){o.push(b);continue}const y=u.run({value:n[b],issues:[]},s);y instanceof Promise?e.push(y.then(T=>wt(T,r,b,n))):wt(y,r,b,n)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:n,inst:i}),e.length?Promise.all(e).then(()=>r):r}const Ei=g("$ZodObject",(e,n)=>{K.init(e,n);const r=Jt(()=>Tr(n));M(e._zod,"propValues",()=>{const o=n.shape,l={};for(const u in o){const h=o[u]._zod;if(h.values){l[u]??(l[u]=new Set);for(const b of h.values)l[u].add(b)}}return l});const s=jt,a=n.catchall;let i;e._zod.parse=(o,l)=>{i??(i=r.value);const u=o.value;if(!s(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};const h=[],b=i.shape;for(const y of i.keys){const k=b[y]._zod.run({value:u[y],issues:[]},l);k instanceof Promise?h.push(k.then(I=>wt(I,o,y,u))):wt(k,o,y,u)}return a?Cr(h,u,o,l,r.value,e):h.length?Promise.all(h).then(()=>o):o}}),_i=g("$ZodObjectJIT",(e,n)=>{Ei.init(e,n);const r=e._zod.parse,s=Jt(()=>Tr(n)),a=T=>{const k=new Ha(["shape","payload","ctx"]),I=s.value,D=m=>{const x=xn(m);return`shape[${x}]._zod.run({ value: input[${x}], issues: [] }, ctx)`};k.write("const input = payload.value;");const $=Object.create(null);let O=0;for(const m of I.keys)$[m]=`key_${O++}`;k.write("const newResult = {};");for(const m of I.keys){const x=$[m],w=xn(m);k.write(`const ${x} = ${D(m)};`),k.write(`
        if (${x}.issues.length) {
          payload.issues = payload.issues.concat(${x}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${w}, ...iss.path] : [${w}]
          })));
        }
        
        
        if (${x}.value === undefined) {
          if (${w} in input) {
            newResult[${w}] = undefined;
          }
        } else {
          newResult[${w}] = ${x}.value;
        }
        
      `)}k.write("payload.value = newResult;"),k.write("return payload;");const p=k.compile();return(m,x)=>p(T,m,x)};let i;const o=jt,l=!mr.jitless,h=l&&Ns.value,b=n.catchall;let y;e._zod.parse=(T,k)=>{y??(y=s.value);const I=T.value;return o(I)?l&&h&&k?.async===!1&&k.jitless!==!0?(i||(i=a(n.shape)),T=i(T,k),b?Cr([],I,T,k,y,e):T):r(T,k):(T.issues.push({expected:"object",code:"invalid_type",input:I,inst:e}),T)}});function vn(e,n,r,s){for(const i of e)if(i.issues.length===0)return n.value=i.value,n;const a=e.filter(i=>!Ze(i));return a.length===1?(n.value=a[0].value,a[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:e.map(i=>i.issues.map(o=>ze(o,s,Ie())))}),n)}const Ai=g("$ZodUnion",(e,n)=>{K.init(e,n),M(e._zod,"optin",()=>n.options.some(a=>a._zod.optin==="optional")?"optional":void 0),M(e._zod,"optout",()=>n.options.some(a=>a._zod.optout==="optional")?"optional":void 0),M(e._zod,"values",()=>{if(n.options.every(a=>a._zod.values))return new Set(n.options.flatMap(a=>Array.from(a._zod.values)))}),M(e._zod,"pattern",()=>{if(n.options.every(a=>a._zod.pattern)){const a=n.options.map(i=>i._zod.pattern);return new RegExp(`^(${a.map(i=>en(i.source)).join("|")})$`)}});const r=n.options.length===1,s=n.options[0]._zod.run;e._zod.parse=(a,i)=>{if(r)return s(a,i);let o=!1;const l=[];for(const u of n.options){const h=u._zod.run({value:a.value,issues:[]},i);if(h instanceof Promise)l.push(h),o=!0;else{if(h.issues.length===0)return h;l.push(h)}}return o?Promise.all(l).then(u=>vn(u,a,e,i)):vn(l,a,e,i)}}),Ti=g("$ZodIntersection",(e,n)=>{K.init(e,n),e._zod.parse=(r,s)=>{const a=r.value,i=n.left._zod.run({value:a,issues:[]},s),o=n.right._zod.run({value:a,issues:[]},s);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([u,h])=>jn(r,u,h)):jn(r,i,o)}});function Wt(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(We(e)&&We(n)){const r=Object.keys(n),s=Object.keys(e).filter(i=>r.indexOf(i)!==-1),a={...e,...n};for(const i of s){const o=Wt(e[i],n[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};a[i]=o.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let s=0;s<e.length;s++){const a=e[s],i=n[s],o=Wt(a,i);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function jn(e,n,r){if(n.issues.length&&e.issues.push(...n.issues),r.issues.length&&e.issues.push(...r.issues),Ze(e))return e;const s=Wt(n.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const Ci=g("$ZodRecord",(e,n)=>{K.init(e,n),e._zod.parse=(r,s)=>{const a=r.value;if(!We(a))return r.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),r;const i=[];if(n.keyType._zod.values){const o=n.keyType._zod.values;r.value={};for(const u of o)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){const h=n.valueType._zod.run({value:a[u],issues:[]},s);h instanceof Promise?i.push(h.then(b=>{b.issues.length&&r.issues.push(...Me(u,b.issues)),r.value[u]=b.value})):(h.issues.length&&r.issues.push(...Me(u,h.issues)),r.value[u]=h.value)}let l;for(const u in a)o.has(u)||(l=l??[],l.push(u));l&&l.length>0&&r.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:l})}else{r.value={};for(const o of Reflect.ownKeys(a)){if(o==="__proto__")continue;const l=n.keyType._zod.run({value:o,issues:[]},s);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(h=>ze(h,s,Ie())),input:o,path:[o],inst:e}),r.value[l.value]=l.value;continue}const u=n.valueType._zod.run({value:a[o],issues:[]},s);u instanceof Promise?i.push(u.then(h=>{h.issues.length&&r.issues.push(...Me(o,h.issues)),r.value[l.value]=h.value})):(u.issues.length&&r.issues.push(...Me(o,u.issues)),r.value[l.value]=u.value)}}return i.length?Promise.all(i).then(()=>r):r}}),Fi=g("$ZodEnum",(e,n)=>{K.init(e,n);const r=Ds(n.entries),s=new Set(r);e._zod.values=s,e._zod.pattern=new RegExp(`^(${r.filter(a=>Ls.has(typeof a)).map(a=>typeof a=="string"?_t(a):a.toString()).join("|")})$`),e._zod.parse=(a,i)=>{const o=a.value;return s.has(o)||a.issues.push({code:"invalid_value",values:r,input:o,inst:e}),a}}),Ii=g("$ZodTransform",(e,n)=>{K.init(e,n),e._zod.parse=(r,s)=>{if(s.direction==="backward")throw new pr(e.constructor.name);const a=n.transform(r.value,r);if(s.async)return(a instanceof Promise?a:Promise.resolve(a)).then(o=>(r.value=o,r));if(a instanceof Promise)throw new Ve;return r.value=a,r}});function wn(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const zi=g("$ZodOptional",(e,n)=>{K.init(e,n),e._zod.optin="optional",e._zod.optout="optional",M(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),M(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${en(r.source)})?$`):void 0}),e._zod.parse=(r,s)=>{if(n.innerType._zod.optin==="optional"){const a=n.innerType._zod.run(r,s);return a instanceof Promise?a.then(i=>wn(i,r.value)):wn(a,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,s)}}),Ri=g("$ZodNullable",(e,n)=>{K.init(e,n),M(e._zod,"optin",()=>n.innerType._zod.optin),M(e._zod,"optout",()=>n.innerType._zod.optout),M(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${en(r.source)}|null)$`):void 0}),M(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(r,s)=>r.value===null?r:n.innerType._zod.run(r,s)}),$i=g("$ZodDefault",(e,n)=>{K.init(e,n),e._zod.optin="optional",M(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,s)=>{if(s.direction==="backward")return n.innerType._zod.run(r,s);if(r.value===void 0)return r.value=n.defaultValue,r;const a=n.innerType._zod.run(r,s);return a instanceof Promise?a.then(i=>Sn(i,n)):Sn(a,n)}});function Sn(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const Di=g("$ZodPrefault",(e,n)=>{K.init(e,n),e._zod.optin="optional",M(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,s)=>(s.direction==="backward"||r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,s))}),Oi=g("$ZodNonOptional",(e,n)=>{K.init(e,n),M(e._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(s=>s!==void 0)):void 0}),e._zod.parse=(r,s)=>{const a=n.innerType._zod.run(r,s);return a instanceof Promise?a.then(i=>kn(i,e)):kn(a,e)}});function kn(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const Pi=g("$ZodCatch",(e,n)=>{K.init(e,n),M(e._zod,"optin",()=>n.innerType._zod.optin),M(e._zod,"optout",()=>n.innerType._zod.optout),M(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,s)=>{if(s.direction==="backward")return n.innerType._zod.run(r,s);const a=n.innerType._zod.run(r,s);return a instanceof Promise?a.then(i=>(r.value=i.value,i.issues.length&&(r.value=n.catchValue({...r,error:{issues:i.issues.map(o=>ze(o,s,Ie()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=n.catchValue({...r,error:{issues:a.issues.map(i=>ze(i,s,Ie()))},input:r.value}),r.issues=[]),r)}}),Ni=g("$ZodPipe",(e,n)=>{K.init(e,n),M(e._zod,"values",()=>n.in._zod.values),M(e._zod,"optin",()=>n.in._zod.optin),M(e._zod,"optout",()=>n.out._zod.optout),M(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(r,s)=>{if(s.direction==="backward"){const i=n.out._zod.run(r,s);return i instanceof Promise?i.then(o=>pt(o,n.in,s)):pt(i,n.in,s)}const a=n.in._zod.run(r,s);return a instanceof Promise?a.then(i=>pt(i,n.out,s)):pt(a,n.out,s)}});function pt(e,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:e.value,issues:e.issues},r)}const Li=g("$ZodReadonly",(e,n)=>{K.init(e,n),M(e._zod,"propValues",()=>n.innerType._zod.propValues),M(e._zod,"values",()=>n.innerType._zod.values),M(e._zod,"optin",()=>n.innerType._zod.optin),M(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(r,s)=>{if(s.direction==="backward")return n.innerType._zod.run(r,s);const a=n.innerType._zod.run(r,s);return a instanceof Promise?a.then(En):En(a)}});function En(e){return e.value=Object.freeze(e.value),e}const Bi=g("$ZodCustom",(e,n)=>{me.init(e,n),K.init(e,n),e._zod.parse=(r,s)=>r,e._zod.check=r=>{const s=r.value,a=n.fn(s);if(a instanceof Promise)return a.then(i=>_n(i,r,s,e));_n(a,r,s,e)}});function _n(e,n,r,s){if(!e){const a={code:"custom",input:r,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(a.params=s._zod.def.params),n.issues.push(Qe(a))}}class Zi{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...r){const s=r[0];if(this._map.set(n,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const s={...this.get(r)??{}};delete s.id;const a={...s,...this._map.get(n)};return Object.keys(a).length?a:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function Mi(){return new Zi}const mt=Mi();function Ui(e,n){return new e({type:"string",...C(n)})}function Fr(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...C(n)})}function An(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...C(n)})}function Vi(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...C(n)})}function Wi(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...C(n)})}function Hi(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...C(n)})}function Gi(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...C(n)})}function qi(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...C(n)})}function Yi(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...C(n)})}function Ki(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...C(n)})}function Xi(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...C(n)})}function Ji(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...C(n)})}function Qi(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...C(n)})}function eo(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...C(n)})}function to(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...C(n)})}function no(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...C(n)})}function ro(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...C(n)})}function so(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...C(n)})}function ao(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...C(n)})}function io(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...C(n)})}function oo(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...C(n)})}function lo(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...C(n)})}function co(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...C(n)})}function uo(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...C(n)})}function ho(e,n){return new e({type:"string",format:"date",check:"string_format",...C(n)})}function po(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...C(n)})}function mo(e,n){return new e({type:"string",format:"duration",check:"string_format",...C(n)})}function go(e,n){return new e({type:"number",checks:[],...C(n)})}function fo(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...C(n)})}function xo(e,n){return new e({type:"boolean",...C(n)})}function bo(e){return new e({type:"unknown"})}function yo(e,n){return new e({type:"never",...C(n)})}function vo(e,n){return new e({type:"date",...C(n)})}function Tn(e,n){return new kr({check:"less_than",...C(n),value:e,inclusive:!1})}function xt(e,n){return new kr({check:"less_than",...C(n),value:e,inclusive:!0})}function Cn(e,n){return new Er({check:"greater_than",...C(n),value:e,inclusive:!1})}function bt(e,n){return new Er({check:"greater_than",...C(n),value:e,inclusive:!0})}function Fn(e,n){return new $a({check:"multiple_of",...C(n),value:e})}function Ir(e,n){return new Oa({check:"max_length",...C(n),maximum:e})}function St(e,n){return new Pa({check:"min_length",...C(n),minimum:e})}function zr(e,n){return new Na({check:"length_equals",...C(n),length:e})}function jo(e,n){return new La({check:"string_format",format:"regex",...C(n),pattern:e})}function wo(e){return new Ba({check:"string_format",format:"lowercase",...C(e)})}function So(e){return new Za({check:"string_format",format:"uppercase",...C(e)})}function ko(e,n){return new Ma({check:"string_format",format:"includes",...C(n),includes:e})}function Eo(e,n){return new Ua({check:"string_format",format:"starts_with",...C(n),prefix:e})}function _o(e,n){return new Va({check:"string_format",format:"ends_with",...C(n),suffix:e})}function rt(e){return new Wa({check:"overwrite",tx:e})}function Ao(e){return rt(n=>n.normalize(e))}function To(){return rt(e=>e.trim())}function Co(){return rt(e=>e.toLowerCase())}function Fo(){return rt(e=>e.toUpperCase())}function Io(e,n,r){return new e({type:"array",element:n,...C(r)})}function zo(e,n,r){return new e({type:"custom",check:"custom",fn:n,...C(r)})}function Ro(e){const n=$o(r=>(r.addIssue=s=>{if(typeof s=="string")r.issues.push(Qe(s,r.value,n._zod.def));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=n),a.continue??(a.continue=!n._zod.def.abort),r.issues.push(Qe(a))}},e(r.value,r)));return n}function $o(e,n){const r=new me({check:"custom",...C(n)});return r._zod.check=e,r}const Do=g("ZodISODateTime",(e,n)=>{ai.init(e,n),X.init(e,n)});function Oo(e){return uo(Do,e)}const Po=g("ZodISODate",(e,n)=>{ii.init(e,n),X.init(e,n)});function No(e){return ho(Po,e)}const Lo=g("ZodISOTime",(e,n)=>{oi.init(e,n),X.init(e,n)});function Bo(e){return po(Lo,e)}const Zo=g("ZodISODuration",(e,n)=>{li.init(e,n),X.init(e,n)});function Mo(e){return mo(Zo,e)}const Uo=(e,n)=>{br.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Ks(e,r)},flatten:{value:r=>Ys(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Vt,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Vt,2)}},isEmpty:{get(){return e.issues.length===0}}})},ve=g("ZodError",Uo,{Parent:Error}),Vo=nn(ve),Wo=rn(ve),Ho=At(ve),Go=Tt(ve),qo=Qs(ve),Yo=ea(ve),Ko=ta(ve),Xo=na(ve),Jo=ra(ve),Qo=sa(ve),el=aa(ve),tl=ia(ve),ee=g("ZodType",(e,n)=>(K.init(e,n),e.def=n,e.type=n.type,Object.defineProperty(e,"_def",{value:n}),e.check=(...r)=>e.clone({...n,checks:[...n.checks??[],...r.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),e.clone=(r,s)=>$e(e,r,s),e.brand=()=>e,e.register=((r,s)=>(r.add(e,s),e)),e.parse=(r,s)=>Vo(e,r,s,{callee:e.parse}),e.safeParse=(r,s)=>Ho(e,r,s),e.parseAsync=async(r,s)=>Wo(e,r,s,{callee:e.parseAsync}),e.safeParseAsync=async(r,s)=>Go(e,r,s),e.spa=e.safeParseAsync,e.encode=(r,s)=>qo(e,r,s),e.decode=(r,s)=>Yo(e,r,s),e.encodeAsync=async(r,s)=>Ko(e,r,s),e.decodeAsync=async(r,s)=>Xo(e,r,s),e.safeEncode=(r,s)=>Jo(e,r,s),e.safeDecode=(r,s)=>Qo(e,r,s),e.safeEncodeAsync=async(r,s)=>el(e,r,s),e.safeDecodeAsync=async(r,s)=>tl(e,r,s),e.refine=(r,s)=>e.check(ql(r,s)),e.superRefine=r=>e.check(Yl(r)),e.overwrite=r=>e.check(rt(r)),e.optional=()=>$n(e),e.nullable=()=>Dn(e),e.nullish=()=>$n(Dn(e)),e.nonoptional=r=>Zl(e,r),e.array=()=>st(e),e.or=r=>Fl([e,r]),e.and=r=>zl(e,r),e.transform=r=>On(e,Dl(r)),e.default=r=>Nl(e,r),e.prefault=r=>Bl(e,r),e.catch=r=>Ul(e,r),e.pipe=r=>On(e,r),e.readonly=()=>Hl(e),e.describe=r=>{const s=e.clone();return mt.add(s,{description:r}),s},Object.defineProperty(e,"description",{get(){return mt.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return mt.get(e);const s=e.clone();return mt.add(s,r[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Rr=g("_ZodString",(e,n)=>{sn.init(e,n),ee.init(e,n);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...s)=>e.check(jo(...s)),e.includes=(...s)=>e.check(ko(...s)),e.startsWith=(...s)=>e.check(Eo(...s)),e.endsWith=(...s)=>e.check(_o(...s)),e.min=(...s)=>e.check(St(...s)),e.max=(...s)=>e.check(Ir(...s)),e.length=(...s)=>e.check(zr(...s)),e.nonempty=(...s)=>e.check(St(1,...s)),e.lowercase=s=>e.check(wo(s)),e.uppercase=s=>e.check(So(s)),e.trim=()=>e.check(To()),e.normalize=(...s)=>e.check(Ao(...s)),e.toLowerCase=()=>e.check(Co()),e.toUpperCase=()=>e.check(Fo())}),nl=g("ZodString",(e,n)=>{sn.init(e,n),Rr.init(e,n),e.email=r=>e.check(Fr($r,r)),e.url=r=>e.check(qi(sl,r)),e.jwt=r=>e.check(co(yl,r)),e.emoji=r=>e.check(Yi(al,r)),e.guid=r=>e.check(An(In,r)),e.uuid=r=>e.check(Vi(gt,r)),e.uuidv4=r=>e.check(Wi(gt,r)),e.uuidv6=r=>e.check(Hi(gt,r)),e.uuidv7=r=>e.check(Gi(gt,r)),e.nanoid=r=>e.check(Ki(il,r)),e.guid=r=>e.check(An(In,r)),e.cuid=r=>e.check(Xi(ol,r)),e.cuid2=r=>e.check(Ji(ll,r)),e.ulid=r=>e.check(Qi(cl,r)),e.base64=r=>e.check(io(fl,r)),e.base64url=r=>e.check(oo(xl,r)),e.xid=r=>e.check(eo(ul,r)),e.ksuid=r=>e.check(to(dl,r)),e.ipv4=r=>e.check(no(hl,r)),e.ipv6=r=>e.check(ro(pl,r)),e.cidrv4=r=>e.check(so(ml,r)),e.cidrv6=r=>e.check(ao(gl,r)),e.e164=r=>e.check(lo(bl,r)),e.datetime=r=>e.check(Oo(r)),e.date=r=>e.check(No(r)),e.time=r=>e.check(Bo(r)),e.duration=r=>e.check(Mo(r))});function B(e){return Ui(nl,e)}const X=g("ZodStringFormat",(e,n)=>{H.init(e,n),Rr.init(e,n)}),$r=g("ZodEmail",(e,n)=>{Ka.init(e,n),X.init(e,n)});function rl(e){return Fr($r,e)}const In=g("ZodGUID",(e,n)=>{qa.init(e,n),X.init(e,n)}),gt=g("ZodUUID",(e,n)=>{Ya.init(e,n),X.init(e,n)}),sl=g("ZodURL",(e,n)=>{Xa.init(e,n),X.init(e,n)}),al=g("ZodEmoji",(e,n)=>{Ja.init(e,n),X.init(e,n)}),il=g("ZodNanoID",(e,n)=>{Qa.init(e,n),X.init(e,n)}),ol=g("ZodCUID",(e,n)=>{ei.init(e,n),X.init(e,n)}),ll=g("ZodCUID2",(e,n)=>{ti.init(e,n),X.init(e,n)}),cl=g("ZodULID",(e,n)=>{ni.init(e,n),X.init(e,n)}),ul=g("ZodXID",(e,n)=>{ri.init(e,n),X.init(e,n)}),dl=g("ZodKSUID",(e,n)=>{si.init(e,n),X.init(e,n)}),hl=g("ZodIPv4",(e,n)=>{ci.init(e,n),X.init(e,n)}),pl=g("ZodIPv6",(e,n)=>{ui.init(e,n),X.init(e,n)}),ml=g("ZodCIDRv4",(e,n)=>{di.init(e,n),X.init(e,n)}),gl=g("ZodCIDRv6",(e,n)=>{hi.init(e,n),X.init(e,n)}),fl=g("ZodBase64",(e,n)=>{pi.init(e,n),X.init(e,n)}),xl=g("ZodBase64URL",(e,n)=>{gi.init(e,n),X.init(e,n)}),bl=g("ZodE164",(e,n)=>{fi.init(e,n),X.init(e,n)}),yl=g("ZodJWT",(e,n)=>{bi.init(e,n),X.init(e,n)}),Dr=g("ZodNumber",(e,n)=>{Ar.init(e,n),ee.init(e,n),e.gt=(s,a)=>e.check(Cn(s,a)),e.gte=(s,a)=>e.check(bt(s,a)),e.min=(s,a)=>e.check(bt(s,a)),e.lt=(s,a)=>e.check(Tn(s,a)),e.lte=(s,a)=>e.check(xt(s,a)),e.max=(s,a)=>e.check(xt(s,a)),e.int=s=>e.check(zn(s)),e.safe=s=>e.check(zn(s)),e.positive=s=>e.check(Cn(0,s)),e.nonnegative=s=>e.check(bt(0,s)),e.negative=s=>e.check(Tn(0,s)),e.nonpositive=s=>e.check(xt(0,s)),e.multipleOf=(s,a)=>e.check(Fn(s,a)),e.step=(s,a)=>e.check(Fn(s,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function pe(e){return go(Dr,e)}const vl=g("ZodNumberFormat",(e,n)=>{yi.init(e,n),Dr.init(e,n)});function zn(e){return fo(vl,e)}const jl=g("ZodBoolean",(e,n)=>{vi.init(e,n),ee.init(e,n)});function ue(e){return xo(jl,e)}const wl=g("ZodUnknown",(e,n)=>{ji.init(e,n),ee.init(e,n)});function Rn(){return bo(wl)}const Sl=g("ZodNever",(e,n)=>{wi.init(e,n),ee.init(e,n)});function kl(e){return yo(Sl,e)}const El=g("ZodDate",(e,n)=>{Si.init(e,n),ee.init(e,n),e.min=(s,a)=>e.check(bt(s,a)),e.max=(s,a)=>e.check(xt(s,a));const r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function _l(e){return vo(El,e)}const Al=g("ZodArray",(e,n)=>{ki.init(e,n),ee.init(e,n),e.element=n.element,e.min=(r,s)=>e.check(St(r,s)),e.nonempty=r=>e.check(St(1,r)),e.max=(r,s)=>e.check(Ir(r,s)),e.length=(r,s)=>e.check(zr(r,s)),e.unwrap=()=>e.element});function st(e,n){return Io(Al,e,n)}const Tl=g("ZodObject",(e,n)=>{_i.init(e,n),ee.init(e,n),M(e,"shape",()=>n.shape),e.keyof=()=>et(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Rn()}),e.loose=()=>e.clone({...e._zod.def,catchall:Rn()}),e.strict=()=>e.clone({...e._zod.def,catchall:kl()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Vs(e,r),e.safeExtend=r=>Ws(e,r),e.merge=r=>Hs(e,r),e.pick=r=>Ms(e,r),e.omit=r=>Us(e,r),e.partial=(...r)=>Gs(Or,e,r[0]),e.required=(...r)=>qs(Pr,e,r[0])});function xe(e,n){const r={type:"object",get shape(){return Re(this,"shape",e?Ps(e):{}),this.shape},...C(n)};return new Tl(r)}const Cl=g("ZodUnion",(e,n)=>{Ai.init(e,n),ee.init(e,n),e.options=n.options});function Fl(e,n){return new Cl({type:"union",options:e,...C(n)})}const Il=g("ZodIntersection",(e,n)=>{Ti.init(e,n),ee.init(e,n)});function zl(e,n){return new Il({type:"intersection",left:e,right:n})}const Rl=g("ZodRecord",(e,n)=>{Ci.init(e,n),ee.init(e,n),e.keyType=n.keyType,e.valueType=n.valueType});function Bt(e,n,r){return new Rl({type:"record",keyType:e,valueType:n,...C(r)})}const Ht=g("ZodEnum",(e,n)=>{Fi.init(e,n),ee.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));e.extract=(s,a)=>{const i={};for(const o of s)if(r.has(o))i[o]=n.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Ht({...n,checks:[],...C(a),entries:i})},e.exclude=(s,a)=>{const i={...n.entries};for(const o of s)if(r.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new Ht({...n,checks:[],...C(a),entries:i})}});function et(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new Ht({type:"enum",entries:r,...C(n)})}const $l=g("ZodTransform",(e,n)=>{Ii.init(e,n),ee.init(e,n),e._zod.parse=(r,s)=>{if(s.direction==="backward")throw new pr(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(Qe(i,r.value,n));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(Qe(o))}};const a=n.transform(r.value,r);return a instanceof Promise?a.then(i=>(r.value=i,r)):(r.value=a,r)}});function Dl(e){return new $l({type:"transform",transform:e})}const Or=g("ZodOptional",(e,n)=>{zi.init(e,n),ee.init(e,n),e.unwrap=()=>e._zod.def.innerType});function $n(e){return new Or({type:"optional",innerType:e})}const Ol=g("ZodNullable",(e,n)=>{Ri.init(e,n),ee.init(e,n),e.unwrap=()=>e._zod.def.innerType});function Dn(e){return new Ol({type:"nullable",innerType:e})}const Pl=g("ZodDefault",(e,n)=>{$i.init(e,n),ee.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Nl(e,n){return new Pl({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():fr(n)}})}const Ll=g("ZodPrefault",(e,n)=>{Di.init(e,n),ee.init(e,n),e.unwrap=()=>e._zod.def.innerType});function Bl(e,n){return new Ll({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():fr(n)}})}const Pr=g("ZodNonOptional",(e,n)=>{Oi.init(e,n),ee.init(e,n),e.unwrap=()=>e._zod.def.innerType});function Zl(e,n){return new Pr({type:"nonoptional",innerType:e,...C(n)})}const Ml=g("ZodCatch",(e,n)=>{Pi.init(e,n),ee.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Ul(e,n){return new Ml({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const Vl=g("ZodPipe",(e,n)=>{Ni.init(e,n),ee.init(e,n),e.in=n.in,e.out=n.out});function On(e,n){return new Vl({type:"pipe",in:e,out:n})}const Wl=g("ZodReadonly",(e,n)=>{Li.init(e,n),ee.init(e,n),e.unwrap=()=>e._zod.def.innerType});function Hl(e){return new Wl({type:"readonly",innerType:e})}const Gl=g("ZodCustom",(e,n)=>{Bi.init(e,n),ee.init(e,n)});function ql(e,n={}){return zo(Gl,e,n)}function Yl(e){return Ro(e)}var Zt={exports:{}},Pn;function Kl(){return Pn||(Pn=1,(function(e){var n=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=(function(s){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,o={},l={manual:s.Prism&&s.Prism.manual,disableWorkerMessageHandler:s.Prism&&s.Prism.disableWorkerMessageHandler,util:{encode:function p(m){return m instanceof u?new u(m.type,p(m.content),m.alias):Array.isArray(m)?m.map(p):m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++i}),p.__id},clone:function p(m,x){x=x||{};var w,S;switch(l.util.type(m)){case"Object":if(S=l.util.objId(m),x[S])return x[S];w={},x[S]=w;for(var z in m)m.hasOwnProperty(z)&&(w[z]=p(m[z],x));return w;case"Array":return S=l.util.objId(m),x[S]?x[S]:(w=[],x[S]=w,m.forEach(function(N,F){w[F]=p(N,x)}),w);default:return m}},getLanguage:function(p){for(;p;){var m=a.exec(p.className);if(m)return m[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,m){p.className=p.className.replace(RegExp(a,"gi"),""),p.classList.add("language-"+m)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(w){var p=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(w.stack)||[])[1];if(p){var m=document.getElementsByTagName("script");for(var x in m)if(m[x].src==p)return m[x]}return null}},isActive:function(p,m,x){for(var w="no-"+m;p;){var S=p.classList;if(S.contains(m))return!0;if(S.contains(w))return!1;p=p.parentElement}return!!x}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(p,m){var x=l.util.clone(l.languages[p]);for(var w in m)x[w]=m[w];return x},insertBefore:function(p,m,x,w){w=w||l.languages;var S=w[p],z={};for(var N in S)if(S.hasOwnProperty(N)){if(N==m)for(var F in x)x.hasOwnProperty(F)&&(z[F]=x[F]);x.hasOwnProperty(N)||(z[N]=S[N])}var U=w[p];return w[p]=z,l.languages.DFS(l.languages,function(ne,je){je===U&&ne!=p&&(this[ne]=z)}),z},DFS:function p(m,x,w,S){S=S||{};var z=l.util.objId;for(var N in m)if(m.hasOwnProperty(N)){x.call(m,N,m[N],w||N);var F=m[N],U=l.util.type(F);U==="Object"&&!S[z(F)]?(S[z(F)]=!0,p(F,x,null,S)):U==="Array"&&!S[z(F)]&&(S[z(F)]=!0,p(F,x,N,S))}}},plugins:{},highlightAll:function(p,m){l.highlightAllUnder(document,p,m)},highlightAllUnder:function(p,m,x){var w={callback:x,container:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",w),w.elements=Array.prototype.slice.apply(w.container.querySelectorAll(w.selector)),l.hooks.run("before-all-elements-highlight",w);for(var S=0,z;z=w.elements[S++];)l.highlightElement(z,m===!0,w.callback)},highlightElement:function(p,m,x){var w=l.util.getLanguage(p),S=l.languages[w];l.util.setLanguage(p,w);var z=p.parentElement;z&&z.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(z,w);var N=p.textContent,F={element:p,language:w,grammar:S,code:N};function U(je){F.highlightedCode=je,l.hooks.run("before-insert",F),F.element.innerHTML=F.highlightedCode,l.hooks.run("after-highlight",F),l.hooks.run("complete",F),x&&x.call(F.element)}if(l.hooks.run("before-sanity-check",F),z=F.element.parentElement,z&&z.nodeName.toLowerCase()==="pre"&&!z.hasAttribute("tabindex")&&z.setAttribute("tabindex","0"),!F.code){l.hooks.run("complete",F),x&&x.call(F.element);return}if(l.hooks.run("before-highlight",F),!F.grammar){U(l.util.encode(F.code));return}if(m&&s.Worker){var ne=new Worker(l.filename);ne.onmessage=function(je){U(je.data)},ne.postMessage(JSON.stringify({language:F.language,code:F.code,immediateClose:!0}))}else U(l.highlight(F.code,F.grammar,F.language))},highlight:function(p,m,x){var w={code:p,grammar:m,language:x};if(l.hooks.run("before-tokenize",w),!w.grammar)throw new Error('The language "'+w.language+'" has no grammar.');return w.tokens=l.tokenize(w.code,w.grammar),l.hooks.run("after-tokenize",w),u.stringify(l.util.encode(w.tokens),w.language)},tokenize:function(p,m){var x=m.rest;if(x){for(var w in x)m[w]=x[w];delete m.rest}var S=new y;return T(S,S.head,p),b(p,S,m,S.head,0),I(S)},hooks:{all:{},add:function(p,m){var x=l.hooks.all;x[p]=x[p]||[],x[p].push(m)},run:function(p,m){var x=l.hooks.all[p];if(!(!x||!x.length))for(var w=0,S;S=x[w++];)S(m)}},Token:u};s.Prism=l;function u(p,m,x,w){this.type=p,this.content=m,this.alias=x,this.length=(w||"").length|0}u.stringify=function p(m,x){if(typeof m=="string")return m;if(Array.isArray(m)){var w="";return m.forEach(function(U){w+=p(U,x)}),w}var S={type:m.type,content:p(m.content,x),tag:"span",classes:["token",m.type],attributes:{},language:x},z=m.alias;z&&(Array.isArray(z)?Array.prototype.push.apply(S.classes,z):S.classes.push(z)),l.hooks.run("wrap",S);var N="";for(var F in S.attributes)N+=" "+F+'="'+(S.attributes[F]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+N+">"+S.content+"</"+S.tag+">"};function h(p,m,x,w){p.lastIndex=m;var S=p.exec(x);if(S&&w&&S[1]){var z=S[1].length;S.index+=z,S[0]=S[0].slice(z)}return S}function b(p,m,x,w,S,z){for(var N in x)if(!(!x.hasOwnProperty(N)||!x[N])){var F=x[N];F=Array.isArray(F)?F:[F];for(var U=0;U<F.length;++U){if(z&&z.cause==N+","+U)return;var ne=F[U],je=ne.inside,Be=!!ne.lookbehind,Ge=!!ne.greedy,at=ne.alias;if(Ge&&!ne.pattern.global){var it=ne.pattern.toString().match(/[imsuy]*$/)[0];ne.pattern=RegExp(ne.pattern.source,it+"g")}for(var qe=ne.pattern||ne,re=w.next,G=S;re!==m.tail&&!(z&&G>=z.reach);G+=re.value.length,re=re.next){var de=re.value;if(m.length>p.length)return;if(!(de instanceof u)){var ke=1,ge;if(Ge){if(ge=h(qe,G,p,Be),!ge||ge.index>=p.length)break;var ot=ge.index,Hr=ge.index+ge[0].length,Ce=G;for(Ce+=re.value.length;ot>=Ce;)re=re.next,Ce+=re.value.length;if(Ce-=re.value.length,G=Ce,re.value instanceof u)continue;for(var Ye=re;Ye!==m.tail&&(Ce<Hr||typeof Ye.value=="string");Ye=Ye.next)ke++,Ce+=Ye.value.length;ke--,de=p.slice(G,Ce),ge.index-=G}else if(ge=h(qe,0,de,Be),!ge)continue;var ot=ge.index,lt=ge[0],Rt=de.slice(0,ot),un=de.slice(ot+lt.length),$t=G+de.length;z&&$t>z.reach&&(z.reach=$t);var ct=re.prev;Rt&&(ct=T(m,ct,Rt),G+=Rt.length),k(m,ct,ke);var Gr=new u(N,je?l.tokenize(lt,je):lt,at,lt);if(re=T(m,ct,Gr),un&&T(m,re,un),ke>1){var Dt={cause:N+","+U,reach:$t};b(p,m,x,re.prev,G,Dt),z&&Dt.reach>z.reach&&(z.reach=Dt.reach)}}}}}}function y(){var p={value:null,prev:null,next:null},m={value:null,prev:p,next:null};p.next=m,this.head=p,this.tail=m,this.length=0}function T(p,m,x){var w=m.next,S={value:x,prev:m,next:w};return m.next=S,w.prev=S,p.length++,S}function k(p,m,x){for(var w=m.next,S=0;S<x&&w!==p.tail;S++)w=w.next;m.next=w,w.prev=m,p.length-=S}function I(p){for(var m=[],x=p.head.next;x!==p.tail;)m.push(x.value),x=x.next;return m}if(!s.document)return s.addEventListener&&(l.disableWorkerMessageHandler||s.addEventListener("message",function(p){var m=JSON.parse(p.data),x=m.language,w=m.code,S=m.immediateClose;s.postMessage(l.highlight(w,l.languages[x],x)),S&&s.close()},!1)),l;var D=l.util.currentScript();D&&(l.filename=D.src,D.hasAttribute("data-manual")&&(l.manual=!0));function $(){l.manual||l.highlightAll()}if(!l.manual){var O=document.readyState;O==="loading"||O==="interactive"&&D&&D.defer?document.addEventListener("DOMContentLoaded",$):window.requestAnimationFrame?window.requestAnimationFrame($):window.setTimeout($,16)}return l})(n);e.exports&&(e.exports=r),typeof hn<"u"&&(hn.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(s){s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(a,i){var o={};o["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[i]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};l["language-"+i]={pattern:/[\s\S]+/,inside:r.languages[i]};var u={};u[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:l},r.languages.insertBefore("markup","cdata",u)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(s,a){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+s+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[a,"language-"+a],inside:r.languages[a]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,(function(s){var a=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;s.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+a.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+a.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+a.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+a.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:a,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},s.languages.css.atrule.inside.rest=s.languages.css;var i=s.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))})(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,(function(){if(typeof r>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var s="Loading",a=function(D,$){return" Error "+D+" while fetching file: "+$},i=" Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",u="loading",h="loaded",b="failed",y="pre[data-src]:not(["+l+'="'+h+'"]):not(['+l+'="'+u+'"])';function T(D,$,O){var p=new XMLHttpRequest;p.open("GET",D,!0),p.onreadystatechange=function(){p.readyState==4&&(p.status<400&&p.responseText?$(p.responseText):p.status>=400?O(a(p.status,p.statusText)):O(i))},p.send(null)}function k(D){var $=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(D||"");if($){var O=Number($[1]),p=$[2],m=$[3];return p?m?[O,Number(m)]:[O,void 0]:[O,O]}}r.hooks.add("before-highlightall",function(D){D.selector+=", "+y}),r.hooks.add("before-sanity-check",function(D){var $=D.element;if($.matches(y)){D.code="",$.setAttribute(l,u);var O=$.appendChild(document.createElement("CODE"));O.textContent=s;var p=$.getAttribute("data-src"),m=D.language;if(m==="none"){var x=(/\.(\w+)$/.exec(p)||[,"none"])[1];m=o[x]||x}r.util.setLanguage(O,m),r.util.setLanguage($,m);var w=r.plugins.autoloader;w&&w.loadLanguages(m),T(p,function(S){$.setAttribute(l,h);var z=k($.getAttribute("data-range"));if(z){var N=S.split(/\r\n?|\n/g),F=z[0],U=z[1]==null?N.length:z[1];F<0&&(F+=N.length),F=Math.max(0,Math.min(F-1,N.length)),U<0&&(U+=N.length),U=Math.max(0,Math.min(U,N.length)),S=N.slice(F,U).join(`
`),$.hasAttribute("data-start")||$.setAttribute("data-start",String(F+1))}O.textContent=S,r.highlightElement(O)},function(S){$.setAttribute(l,b),O.textContent=S})}}),r.plugins.fileHighlight={highlight:function($){for(var O=($||document).querySelectorAll(y),p=0,m;m=O[p++];)r.highlightElement(m)}};var I=!1;r.fileHighlight=function(){I||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),I=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(Zt)),Zt.exports}var Xl=Kl();const Nr=ur(Xl),Jl=xe({content:B(),imports:B(),mainContent:B(),language:B(),title:B().optional(),snippetName:B().optional(),folder:B().optional(),showImportsToggle:ue(),showCopyButton:ue(),showExpandButton:ue(),maxHeight:B(),isExpanded:ue(),isImportsExpanded:ue(),needsExpansion:ue(),enableDOMObservation:ue(),enablePrismHighlighting:ue(),loading:ue(),error:B().nullable()});class Ql extends ce{contentRef=null;codeRef=null;resizeObserver=null;mutationObserver=null;resizing=!1;constructor(n){if(!(n.snippetName&&n.language))throw console.log("bad config:",n),new Error("bad Config on CodePanel");super({name:"code-panel",schema:Jl,value:{language:n.language,title:n.title,snippetName:n.snippetName,folder:n.folder??"",content:"// Loading",imports:"",mainContent:"",showImportsToggle:!0,showCopyButton:!0,showExpandButton:!0,maxHeight:"300px",isExpanded:!1,isImportsExpanded:!1,needsExpansion:!1,enableDOMObservation:!0,enablePrismHighlighting:!0,loading:!1,error:null}}),this.loadSnippet()}get hasImports(){return this.value.imports.trim().length>0}get hasMainContent(){return this.value.mainContent.trim().length>0}get displayContent(){return this.value.loading?`// Loading snippet: ${this.path}...
// Please wait...`:this.value.error?`// Failed to load snippet: ${this.path}
// Error: ${this.value.error}
// Please check the file path and try again.`:this.hasImports&&this.hasMainContent?this.value.isImportsExpanded?`${this.value.imports}

${this.value.mainContent}`:this.value.mainContent:this.value.content}get fullContent(){return this.hasImports&&this.hasMainContent?`${this.value.imports}

${this.value.mainContent}`:this.value.content}get shouldShowImportsToggle(){return this.value.showImportsToggle&&this.hasImports}toggleExpansion(){this.mutate(n=>{n.isExpanded=!n.isExpanded})}toggleImports(){this.mutate(n=>{n.isImportsExpanded=!n.isImportsExpanded})}setExpanded(n){this.mutate(r=>{r.isExpanded=n})}setImportsExpanded(n){this.mutate(r=>{r.isImportsExpanded=n})}setNeedsExpansion(n){this.mutate(r=>{r.needsExpansion=n})}updateContent(n,r,s){this.mutate(a=>{a.content=n,r!==void 0&&(a.imports=r),s!==void 0&&(a.mainContent=s)})}getFileExtension(n){switch(n.toLowerCase()){case"typescript":return"ts";case"tsx":return"tsx";case"javascript":return"js";case"jsx":return"jsx";case"vue":return"vue";case"html":return"html";case"css":return"css";case"scss":case"sass":return"scss";case"python":return"py";case"java":return"java";case"c":return"c";case"cpp":case"c++":return"cpp";case"csharp":case"c#":return"cs";case"php":return"php";case"ruby":return"rb";case"go":return"go";case"rust":return"rs";case"swift":return"swift";case"kotlin":return"kt";case"dart":return"dart";case"bash":case"shell":return"sh";case"powershell":return"ps1";case"json":return"json";case"yaml":case"yml":return"yml";case"xml":return"xml";case"markdown":case"md":return"md";case"sql":return"sql";case"dockerfile":return"dockerfile";default:return n.toLowerCase()}}get path(){const{folder:n,snippetName:r,language:s}=this.value,a=this.getFileExtension(s);return n?`/snippets/${n}/${r}.${a}`:`/snippets/${r}.${a}`}async loadSnippet(){const{snippetName:n}=this.value;this.setLoading(!0);try{const r=await fetch(this.path);if(!r.ok)throw console.error("snippet load failure:",this.value,r),new Error(`Failed to load snippet: ${n}`);const a=(await r.text()).split(`
`).filter(l=>!l.startsWith("// Auto-generated snippet from:")).filter(l=>!l.startsWith("// Description:")).filter(l=>!l.startsWith("// Last synced:")).filter(l=>!l.startsWith("// DO NOT EDIT")).join(`
`).replace(/^\n+/,""),{imports:i,mainContent:o}=this.separateImports(a);this.updateContent(a,i,o),this.setLoading(!1)}catch(r){this.setError(r instanceof Error?r.message:"Unknown error")}}separateImports(n){const r=n.split(`
`);let s=-1;for(let l=0;l<r.length;l++)r[l].trim().startsWith("import ")&&(s=l);if(s===-1)return{imports:"",mainContent:n};let a=s;for(let l=s;l<r.length;l++){const u=r[l];if((u.includes("'")||u.includes('"'))&&l<=s+10)a=l;else if(u.trim()===""&&l===a+1){a=l;break}else if(u.trim()!==""&&l>s)break}const i=r.slice(0,a+1).join(`
`),o=r.slice(a+1).join(`
`).replace(/^\n+/,"");return{imports:i,mainContent:o}}setLoading(n){this.mutate(r=>{r.loading=n,n&&(r.error=null)})}setError(n){this.mutate(r=>{r.error=n,r.loading=!1})}setRefs(n,r){this.contentRef=n,this.codeRef=r}checkExpansionNeeds(){if(this.contentRef?.current){const n=this.contentRef.current,r=n.scrollHeight,s=n.clientHeight,a=r>s;a!==this.value.needsExpansion&&this.setNeedsExpansion(a)}}checkExpansionWithHighlight=()=>{this.resizing||(this.checkExpansionNeeds(),this.value.enablePrismHighlighting&&this.codeRef?.current&&(this.resizing=!0,Nr.highlightElement(this.codeRef.current),setTimeout(()=>{this.resizing=!1},200)))};startDOMObservation(){!this.value.enableDOMObservation||!this.contentRef?.current||(this.checkExpansionWithHighlight(),this.mutationObserver=new MutationObserver(this.checkExpansionWithHighlight),this.mutationObserver.observe(this.contentRef.current,{childList:!0,subtree:!0,characterData:!0,attributes:!0,attributeFilter:["style","class"]}),window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.checkExpansionWithHighlight),this.resizeObserver.observe(this.contentRef.current)))}stopDOMObservation(){this.mutationObserver?.disconnect(),this.resizeObserver?.disconnect(),this.mutationObserver=null,this.resizeObserver=null}async copyToClipboard(){try{return await navigator.clipboard.writeText(this.fullContent),{success:!0,message:"Copied to clipboard"}}catch{return{success:!1,message:"Failed to copy"}}}destroy(){this.stopDOMObservation(),super.destroy?.()}}const ec=e=>new Ql(e);function tc(e){switch(e.toLowerCase()){case"tsx":return"typescript";case"jsx":return"javascript";case"vue":return"markup";case"html":return"markup";case"scss":case"sass":return"scss";case"c++":case"cpp":return"cpp";case"csharp":case"c#":return"csharp";case"shell":return"bash";case"yml":return"yaml";case"md":return"markdown";case"dockerfile":return"docker";default:return e.toLowerCase()}}const Q=({language:e,snippetName:n,folder:r,ts:s,content:a,children:i,title:o,containerProps:l={},codeProps:u={}})=>{const h=Xe("gray.900","gray.800"),b=Xe("gray.200","gray.600"),y=qt(),T={language:e,snippetName:n,folder:r,title:o,content:a||i?.toString()||"",children:i},[k,I]=Se(ec,T),D=Y.useRef(null),$=Y.useRef(null);Y.useEffect(()=>{I.setRefs(D,$)},[I]),Y.useEffect(()=>{n&&I.loadSnippet(n,r,s)},[n,r,s,I]);const O=async()=>{const p=await I.copyToClipboard();y({title:p.message,status:p.success?"success":"error",duration:2e3,isClosable:!0})};return Y.useEffect(()=>{k.enableDOMObservation?I.startDOMObservation():I.checkExpansionNeeds();const p=setTimeout(()=>{I.checkExpansionWithHighlight()},800);return()=>{clearTimeout(p),I.stopDOMObservation()}},[k.enableDOMObservation,I,I.displayContent]),t.jsxs(d,{border:"1px",borderColor:b,borderRadius:"md",width:"full",overflow:"hidden",my:4,...l,children:[(k.title||o)&&t.jsx(d,{bg:"gray.100",px:4,py:2,borderBottom:"1px",borderColor:b,children:t.jsx(c,{fontSize:"sm",fontWeight:"medium",children:o||k.title})}),t.jsxs(d,{position:"relative",children:[(k.showImportsToggle||k.showCopyButton)&&t.jsxs(Ke,{position:"absolute",top:2,right:8,zIndex:10,align:"center",gap:2,bg:"blackAlpha.300",px:k.showImportsToggle?4:2,py:1,borderRadius:"md",backdropFilter:"blur(4px)",children:[I.shouldShowImportsToggle&&t.jsxs(Ke,{align:"center",gap:1,children:[t.jsx("input",{type:"checkbox",checked:k.isImportsExpanded,onChange:I.$.toggleImports,style:{width:"12px",height:"12px",accentColor:"#3182ce"}}),t.jsx(c,{fontSize:"xs",color:"gray.300",cursor:"pointer",userSelect:"none",onClick:I.$.toggleImports,children:"show imports"})]}),k.showCopyButton&&t.jsx(Jr,{"aria-label":"Copy code",icon:t.jsx(ys,{}),size:"xs",colorScheme:"gray",variant:"ghost",color:"gray.400",_hover:{color:"white",bg:"gray.600"},onClick:O})]}),t.jsx(d,{ref:D,as:"pre",bg:h,color:"white",p:4,overflow:"auto",fontSize:"sm",fontFamily:"mono",lineHeight:"1.5",maxHeight:k.isExpanded?"none":k.maxHeight,transition:"max-height 0.3s ease",...u,children:t.jsx(J,{as:"code",className:`language-${tc(k.language)}`,bg:"transparent",color:"inherit",p:0,fontSize:"inherit",fontFamily:"inherit",whiteSpace:"pre",ref:$,children:i??I.displayContent})}),k.showExpandButton&&(k.needsExpansion||k.isExpanded)&&t.jsx(d,{position:"absolute",bottom:0,left:0,right:0,bg:k.isExpanded?"transparent":`linear-gradient(transparent, ${h})`,p:4,children:t.jsx(Ke,{direction:"row",justify:"flex-end",pr:k.showImportsToggle||k.showCopyButton?8:0,children:t.jsx(L,{size:"sm",variant:"outline",colorScheme:"blue",onClick:I.$.toggleExpansion,bg:h,color:"white",borderColor:"blue.400",_hover:{bg:"blue.600"},children:k.isExpanded?"Show Less":"Show More"})})})]})]})},nc=({tab:e})=>t.jsx(Qr,{p:0,mt:0,children:t.jsx(Q,{language:e.language,snippetName:e.snippet,folder:e.folder,content:e.code,containerProps:{border:"none",borderRadius:0,my:0},codeProps:{bg:"gray.700"}})});var Nn={},Ln;function rc(){return Ln||(Ln=1,(function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var n=e.languages.extend("typescript",{});delete n["class-name"],e.languages.typescript["class-name"].inside=n,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),e.languages.ts=e.languages.typescript})(Prism)),Nn}rc();(function(e){var n=e.util.clone(e.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,s=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,a=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function i(u,h){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return s}).replace(/<SPREAD>/g,function(){return a}),RegExp(u,h)}a=i(a).source,e.languages.jsx=e.languages.extend("markup",n),e.languages.jsx.tag.pattern=i(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=n.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:i(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:i(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var o=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(o).join(""):""},l=function(u){for(var h=[],b=0;b<u.length;b++){var y=u[b],T=!1;if(typeof y!="string"&&(y.type==="tag"&&y.content[0]&&y.content[0].type==="tag"?y.content[0].content[0].content==="</"?h.length>0&&h[h.length-1].tagName===o(y.content[0].content[1])&&h.pop():y.content[y.content.length-1].content==="/>"||h.push({tagName:o(y.content[0].content[1]),openedBraces:0}):h.length>0&&y.type==="punctuation"&&y.content==="{"?h[h.length-1].openedBraces++:h.length>0&&h[h.length-1].openedBraces>0&&y.type==="punctuation"&&y.content==="}"?h[h.length-1].openedBraces--:T=!0),(T||typeof y=="string")&&h.length>0&&h[h.length-1].openedBraces===0){var k=o(y);b<u.length-1&&(typeof u[b+1]=="string"||u[b+1].type==="plain-text")&&(k+=o(u[b+1]),u.splice(b+1,1)),b>0&&(typeof u[b-1]=="string"||u[b-1].type==="plain-text")&&(k=o(u[b-1])+k,u.splice(b-1,1),b--),u[b]=new e.Token("plain-text",k,null,k)}y.content&&typeof y.content!="string"&&l(y.content)}};e.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||l(u.tokens)})})(Prism);(function(e){function n(r,s){return"___"+r.toUpperCase()+s+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(r,s,a,i){if(r.language===s){var o=r.tokenStack=[];r.code=r.code.replace(a,function(l){if(typeof i=="function"&&!i(l))return l;for(var u=o.length,h;r.code.indexOf(h=n(s,u))!==-1;)++u;return o[u]=l,h}),r.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(r,s){if(r.language!==s||!r.tokenStack)return;r.grammar=e.languages[s];var a=0,i=Object.keys(r.tokenStack);function o(l){for(var u=0;u<l.length&&!(a>=i.length);u++){var h=l[u];if(typeof h=="string"||h.content&&typeof h.content=="string"){var b=i[a],y=r.tokenStack[b],T=typeof h=="string"?h:h.content,k=n(s,b),I=T.indexOf(k);if(I>-1){++a;var D=T.substring(0,I),$=new e.Token(s,e.tokenize(y,r.grammar),"language-"+s,y),O=T.substring(I+k.length),p=[];D&&p.push.apply(p,o([D])),p.push($),O&&p.push.apply(p,o([O])),typeof h=="string"?l.splice.apply(l,[u,1].concat(p)):h.content=p}}else h.content&&o(h.content)}return l}o(r.tokens)}}})})(Prism);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;(function(e){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+n.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(Prism);Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;(function(e){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},s={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:s},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:s},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:s.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:s.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=e.languages.bash;for(var a=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],i=s.variable[1].inside,o=0;o<a.length;o++)i[a[o]]=e.languages.bash[a[o]];e.languages.sh=e.languages.bash,e.languages.shell=e.languages.bash})(Prism);var Bn={},Zn;function sc(){return Zn||(Zn=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),Bn}sc();var Mn={},Un;function ac(){return Un||(Un=1,(function(e){var n=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,r=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,s={pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[s,{pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:s.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+r+/[A-Z]\w*\b/.source),lookbehind:!0,inside:s.inside}],keyword:n,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":s,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+r+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:s.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+r+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:s.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism)),Mn}ac();Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;var Vn={},Wn;function ic(){return Wn||(Wn=1,(function(e){var n=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return n.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:n,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return r})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])})(Prism)),Vn}ic();var Hn={},Gn;function oc(){return Gn||(Gn=1,(function(e){function n(G,de){return G.replace(/<<(\d+)>>/g,function(ke,ge){return"(?:"+de[+ge]+")"})}function r(G,de,ke){return RegExp(n(G,de),"")}function s(G,de){for(var ke=0;ke<de;ke++)G=G.replace(/<<self>>/g,function(){return"(?:"+G+")"});return G.replace(/<<self>>/g,"[^\\s\\S]")}var a={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function i(G){return"\\b(?:"+G.trim().replace(/ /g,"|")+")\\b"}var o=i(a.typeDeclaration),l=RegExp(i(a.type+" "+a.typeDeclaration+" "+a.contextual+" "+a.other)),u=i(a.typeDeclaration+" "+a.contextual+" "+a.other),h=i(a.type+" "+a.typeDeclaration+" "+a.other),b=s(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),y=s(/\((?:[^()]|<<self>>)*\)/.source,2),T=/@?\b[A-Za-z_]\w*\b/.source,k=n(/<<0>>(?:\s*<<1>>)?/.source,[T,b]),I=n(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[u,k]),D=/\[\s*(?:,\s*)*\]/.source,$=n(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[I,D]),O=n(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[b,y,D]),p=n(/\(<<0>>+(?:,<<0>>+)+\)/.source,[O]),m=n(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[p,I,D]),x={keyword:l,punctuation:/[<>()?,.:[\]]/},w=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,S=/"(?:\\.|[^\\"\r\n])*"/.source,z=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:r(/(^|[^$\\])<<0>>/.source,[z]),lookbehind:!0,greedy:!0},{pattern:r(/(^|[^@$\\])<<0>>/.source,[S]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:r(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[I]),lookbehind:!0,inside:x},{pattern:r(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[T,m]),lookbehind:!0,inside:x},{pattern:r(/(\busing\s+)<<0>>(?=\s*=)/.source,[T]),lookbehind:!0},{pattern:r(/(\b<<0>>\s+)<<1>>/.source,[o,k]),lookbehind:!0,inside:x},{pattern:r(/(\bcatch\s*\(\s*)<<0>>/.source,[I]),lookbehind:!0,inside:x},{pattern:r(/(\bwhere\s+)<<0>>/.source,[T]),lookbehind:!0},{pattern:r(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[$]),lookbehind:!0,inside:x},{pattern:r(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[m,h,T]),inside:x}],keyword:l,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:r(/([(,]\s*)<<0>>(?=\s*:)/.source,[T]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:r(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[T]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:r(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[y]),lookbehind:!0,alias:"class-name",inside:x},"return-type":{pattern:r(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[m,I]),inside:x,alias:"class-name"},"constructor-invocation":{pattern:r(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[m]),lookbehind:!0,inside:x,alias:"class-name"},"generic-method":{pattern:r(/<<0>>\s*<<1>>(?=\s*\()/.source,[T,b]),inside:{function:r(/^<<0>>/.source,[T]),generic:{pattern:RegExp(b),alias:"class-name",inside:x}}},"type-list":{pattern:r(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[o,k,T,m,l.source,y,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:r(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[k,y]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:l,"class-name":{pattern:RegExp(m),greedy:!0,inside:x},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var N=S+"|"+w,F=n(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[N]),U=s(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[F]),2),ne=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,je=n(/<<0>>(?:\s*\(<<1>>*\))?/.source,[I,U]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:r(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[ne,je]),lookbehind:!0,greedy:!0,inside:{target:{pattern:r(/^<<0>>(?=\s*:)/.source,[ne]),alias:"keyword"},"attribute-arguments":{pattern:r(/\(<<0>>*\)/.source,[U]),inside:e.languages.csharp},"class-name":{pattern:RegExp(I),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Be=/:[^}\r\n]+/.source,Ge=s(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[F]),2),at=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Ge,Be]),it=s(n(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[N]),2),qe=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[it,Be]);function re(G,de){return{interpolation:{pattern:r(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[G]),lookbehind:!0,inside:{"format-string":{pattern:r(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[de,Be]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:r(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[at]),lookbehind:!0,greedy:!0,inside:re(at,Ge)},{pattern:r(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[qe]),lookbehind:!0,greedy:!0,inside:re(qe,it)}],char:{pattern:RegExp(w),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp})(Prism)),Hn}oc();var qn={},Yn;function lc(){return Yn||(Yn=1,(function(e){var n=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,r=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],s=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,a=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,i=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:n,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:s,operator:a,punctuation:i};var o={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},l=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:o}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:o}}];e.languages.insertBefore("php","variable",{string:l,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:n,string:l,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,number:s,operator:a,punctuation:i}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(u){if(/<\?/.test(u.code)){var h=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;e.languages["markup-templating"].buildPlaceholders(u,"php",h)}}),e.hooks.add("after-tokenize",function(u){e.languages["markup-templating"].tokenizePlaceholders(u,"php")})})(Prism)),qn}lc();var Kn={},Xn;function cc(){return Xn||(Xn=1,(function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var n={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var r="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",s=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+r+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+s),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+s+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+r),greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+r),greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby})(Prism)),Kn}cc();Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/});Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}});delete Prism.languages.go["class-name"];var Jn={},Qn;function uc(){return Qn||(Qn=1,(function(e){for(var n=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)n=n.replace(/<self>/g,function(){return n});n=n.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+n),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string})(Prism)),Jn}uc();Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=Prism.languages.swift});(function(e){e.languages.kotlin=e.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete e.languages.kotlin["class-name"];var n={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.kotlin}};e.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:n},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:n},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete e.languages.kotlin.string,e.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),e.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),e.languages.kt=e.languages.kotlin,e.languages.kts=e.languages.kotlin})(Prism);(function(e){var n=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],r=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,s={pattern:RegExp(r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};e.languages.dart=e.languages.extend("clike",{"class-name":[s,{pattern:RegExp(r+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:s.inside}],keyword:n,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),e.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.dart}}},string:/[\s\S]+/}},string:void 0}),e.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),e.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":s,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(Prism);(function(e){var n=e.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};n.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:n},boolean:n.boolean,variable:n.variable}})(Prism);(function(e){var n=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,s="(?:"+r.source+"(?:[ 	]+"+n.source+")?|"+n.source+"(?:[ 	]+"+r.source+")?)",a=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),i=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function o(l,u){u=(u||"").replace(/m/g,"")+"m";var h=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return s}).replace(/<<value>>/g,function(){return l});return RegExp(h,u)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return s})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return s}).replace(/<<key>>/g,function(){return"(?:"+a+"|"+i+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:o(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:o(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:o(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:o(i),lookbehind:!0,greedy:!0},number:{pattern:o(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:r,important:n,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml})(Prism);(function(e){function n(i,o){e.languages[i]&&e.languages.insertBefore(i,"comment",{"doc-comment":o})}var r=e.languages.markup.tag,s={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:r}},a={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:r}};n("csharp",s),n("fsharp",s),n("vbnet",a)})(Prism);(function(e){var n=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(b){return b=b.replace(/<inner>/g,function(){return n}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+b+")")}var s=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,a=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return s}),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+a+i+"(?:"+a+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+a+i+")(?:"+a+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(s),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+a+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+a+"$"),inside:{"table-header":{pattern:RegExp(s),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(b){["url","bold","italic","strike","code-snippet"].forEach(function(y){b!==y&&(e.languages.markdown[b].inside.content.inside[y]=e.languages.markdown[y])})}),e.hooks.add("after-tokenize",function(b){if(b.language!=="markdown"&&b.language!=="md")return;function y(T){if(!(!T||typeof T=="string"))for(var k=0,I=T.length;k<I;k++){var D=T[k];if(D.type!=="code"){y(D.content);continue}var $=D.content[1],O=D.content[3];if($&&O&&$.type==="code-language"&&O.type==="code-block"&&typeof $.content=="string"){var p=$.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");p=(/[a-z][\w-]*/i.exec(p)||[""])[0].toLowerCase();var m="language-"+p;O.alias?typeof O.alias=="string"?O.alias=[O.alias,m]:O.alias.push(m):O.alias=[m]}}}y(b.tokens)}),e.hooks.add("wrap",function(b){if(b.type==="code-block"){for(var y="",T=0,k=b.classes.length;T<k;T++){var I=b.classes[T],D=/language-(.+)/.exec(I);if(D){y=D[1];break}}var $=e.languages[y];if($)b.content=e.highlight(h(b.content),$,y);else if(y&&y!=="none"&&e.plugins.autoloader){var O="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);b.attributes.id=O,e.plugins.autoloader.loadLanguages(y,function(){var p=document.getElementById(O);p&&(p.innerHTML=e.highlight(p.textContent,e.languages[y],y))})}}});var o=RegExp(e.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},u=String.fromCodePoint||String.fromCharCode;function h(b){var y=b.replace(o,"");return y=y.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(T,k){if(k=k.toLowerCase(),k[0]==="#"){var I;return k[1]==="x"?I=parseInt(k.slice(2),16):I=Number(k.slice(1)),u(I)}else{var D=l[k];return D||T}}),y}e.languages.md=e.languages.markdown})(Prism);Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(e){var n=/\\[\r\n](?:\s|\\[\r\n]|#.*(?!.))*(?![\s#]|\\[\r\n])/.source,r=/(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)/.source.replace(/<SP_BS>/g,function(){return n}),s=/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"|'(?:[^'\\\r\n]|\\(?:\r\n|[\s\S]))*'/.source,a=/--[\w-]+=(?:<STR>|(?!["'])(?:[^\s\\]|\\.)+)/.source.replace(/<STR>/g,function(){return s}),i={pattern:RegExp(s),greedy:!0},o={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function l(u,h){return u=u.replace(/<OPT>/g,function(){return a}).replace(/<SP>/g,function(){return r}),RegExp(u,h)}e.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:l(/(^(?:ONBUILD<SP>)?\w+<SP>)<OPT>(?:<SP><OPT>)*/.source,"i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[i,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:l(/(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\b/.source,"i"),lookbehind:!0,greedy:!0},{pattern:l(/(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\]+<SP>)AS/.source,"i"),lookbehind:!0,greedy:!0},{pattern:l(/(^ONBUILD<SP>)\w+/.source,"i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:o,string:i,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:o},e.languages.dockerfile=e.languages.docker})(Prism);Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(n,r){var s={};s["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[r]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};a["language-"+r]={pattern:/[\s\S]+/,inside:Prism.languages[r]};var i={};i[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:a},Prism.languages.insertBefore("markup","cdata",i)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,n){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:Prism.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(e){var n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,r;e.languages.css.selector={pattern:e.languages.css.selector.pattern,lookbehind:!0,inside:r={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},e.languages.css.atrule.inside["selector-function-argument"].inside=r,e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var s={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},a={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:s,number:a,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:s,number:a})})(Prism);var er={},tr;function dc(){return tr||(tr=1,Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),Prism.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),Prism.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),Prism.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),Prism.languages.scss.atrule.inside.rest=Prism.languages.scss),er}dc();const q=({tabs:e,defaultIndex:n=0})=>{const r=Xe("gray.200","gray.600"),[s,a]=ye.useState(n);return Y.useEffect(()=>{setTimeout(()=>Nr.highlightAll(),10)},[s]),t.jsx(d,{border:"1px",borderColor:r,borderRadius:"md",overflow:"hidden",my:4,width:"full",children:t.jsxs(es,{index:s,onChange:a,variant:"enclosed",children:[t.jsx(ts,{bg:"gray.100",borderBottom:"1px",borderColor:r,children:e.map((i,o)=>t.jsx(ns,{fontSize:"sm",fontWeight:"medium",_selected:{bg:"black",color:"white",borderBottomColor:"black"},children:i.label},o))}),t.jsx(rs,{mt:0,children:e.map((i,o)=>t.jsx(nc,{tab:i,tabIndex:o},o))})]})})},E=({children:e,title:n,titleSize:r="xl",spacing:s=6,noVStack:a=!1,...i})=>{const o=n?t.jsx(f,{textAlign:"center",size:r,children:n}):"";return t.jsx(tt,{width:"full",mb:3,children:t.jsxs(nt,{...i,children:[o,a?e:t.jsx(j,{spacing:s,align:"stretch",children:e})]})})};class hc extends ce{constructor(){super({name:"demo-counter",value:{count:0}})}increment(){this.mutate(n=>{n.count+=1})}decrement(){this.mutate(n=>{n.count-=1})}reset(){this.mutate(n=>{n.count=0})}}const pc=()=>new hc,mc=()=>{const[e,n]=Se(pc),{count:r}=e;return t.jsxs(d,{p:6,bg:"gray.100",borderRadius:"md",textAlign:"center",minW:"300px",children:[t.jsx(c,{fontSize:"3xl",fontWeight:"bold",color:"forest.600",mb:4,children:r}),t.jsxs(P,{spacing:4,justify:"center",children:[t.jsx(L,{colorScheme:"forest",onClick:n.$.increment,children:"+1"}),t.jsx(L,{variant:"outline",onClick:n.$.decrement,children:"-1"}),t.jsx(L,{colorScheme:"red",variant:"outline",onClick:n.$.reset,children:"Reset"})]})]})},gc=()=>t.jsxs(oe,{maxW:"container.xl",py:8,children:[" ",t.jsxs(P,{spacing:2,width:"full",justify:"space-between",align:"flex-start",children:[t.jsx(L,{as:V,to:"/why",colorScheme:"forest",size:"lg",children:"Why Forestry?"}),t.jsxs(j,{spacing:2,textAlign:"center",mb:6,children:[t.jsxs(P,{align:"center",gap:6,children:[t.jsx(Je,{w:"64px",h:"64px",src:"/img/logo.png"}),t.jsx(f,{size:"2xl",color:"gray.800",m:0,children:"Forestry 4.0"})]}),t.jsxs(d,{children:[t.jsx(c,{textStyle:"hero",children:"A simple, powerful state management library for React."}),t.jsx(c,{textStyle:"hero",children:"Forestry allows you to collect instances that manage values with predefined schema and modify them with custom methods. It allows you to create control systems that are faster, more consistent, and more reliable update systems."}),t.jsx(c,{textStyle:"hero",children:"It is designed not only to supercharge short term execution but to enhance project evolution including testing, variation, and delegation."})]})]}),t.jsx(L,{as:V,to:"/store",variant:"outline",size:"lg",children:"Get Started"})]}),t.jsxs(ie,{columns:{base:1,lg:2},spacing:8,mb:12,children:[t.jsxs(E,{children:[t.jsxs(j,{spacing:0,children:[t.jsx(f,{size:"lg",color:"forest.700",my:2,children:"Get productive in 5 minutes"}),t.jsx(c,{color:"gray.600",children:"Everything you need to manage state in React applications. Simple, predictable, and powerful."})]}),t.jsxs(j,{align:"start",spacing:2,fontSize:"sm",children:[t.jsxs(P,{children:[t.jsx(c,{children:""}),t.jsx(c,{as:V,to:"/store",color:"forest.600",_hover:{textDecoration:"underline"},children:"Create stores with initial state"})]}),t.jsxs(P,{children:[t.jsx(c,{children:""}),t.jsx(c,{as:V,to:"/change",color:"forest.600",_hover:{textDecoration:"underline"},children:"change state with custom methods or build in setters"})]}),t.jsxs(P,{children:[t.jsx(c,{children:""}),t.jsx(c,{as:V,to:"/react",color:"forest.600",_hover:{textDecoration:"underline"},children:"React hooks integration"})]})]})]}),t.jsxs(E,{children:[t.jsxs(j,{spacing:0,align:"start",children:[t.jsx(f,{size:"lg",color:"purple.700",my:2,children:"Advanced capabilities"}),t.jsx(c,{color:"gray.600",children:"Unlock advanced features for complex applications: validation, transactions, and reactive patterns."})]}),t.jsxs(j,{align:"start",spacing:2,fontSize:"sm",children:[t.jsxs(P,{children:[t.jsx(c,{children:""}),t.jsx(c,{as:V,to:"/validation",color:"purple.600",_hover:{textDecoration:"underline"},children:"Built-in validation system"})]}),t.jsxs(P,{children:[t.jsx(c,{children:""}),t.jsx(c,{as:V,to:"/transactions",color:"purple.600",_hover:{textDecoration:"underline"},children:"Atomic transactions with rollback"})]}),t.jsxs(P,{children:[t.jsx(c,{children:""}),t.jsx(c,{as:V,to:"/rxjs",color:"purple.600",_hover:{textDecoration:"underline"},children:"RxJS reactive programming"})]})]})]})]}),t.jsx(E,{title:"Creating your First State",children:t.jsxs(d,{children:[t.jsx(c,{textStyle:"body",children:"Follow these steps to create your first state"}),t.jsxs(ss,{children:[t.jsx(v,{children:"Define the value you wish to modify; ideally both the initial state and its TS definition."}),t.jsxs(v,{children:["create a class definition that extends Forest and pass"," ",t.jsx("code",{children:"super({value: initialValue})"})," in its constructor."]}),t.jsx(v,{children:"define methods in your superclass that modify or report on the values in state"}),t.jsx(v,{children:"In React, use useLocalForest and a factory function producing instances of your class into local context of your component"}),t.jsx(v,{children:"Pass your state downstream in props or context to make your state and its value available any time you need it."})]})]})}),t.jsxs(E,{title:"Example - basic counter",children:[t.jsx(mc,{}),t.jsx(Pe,{}),t.jsx(q,{tabs:[{label:"Store Factory",language:"typescript",snippet:"demo-store-definition",folder:"home"},{label:"Component",language:"tsx",snippet:"demo-jsx-template",folder:"home"}]})]})]}),fc=()=>t.jsxs(j,{spacing:8,align:"stretch",children:[t.jsxs(d,{textAlign:"center",children:[t.jsx(f,{size:"xl",mb:4,children:"Why Choose Forestry?"}),t.jsx(c,{textStyle:"hero",children:"Forestry provides a powerful, type-safe, and intuitive approach to state management that scales from simple components to complex applications."})]}),t.jsxs(ie,{columns:{base:1,md:2,lg:3},spacing:6,children:[t.jsxs(d,{layerStyle:"card",bg:"blue.50",children:[t.jsx(De,{as:Oe,color:"blue.500",boxSize:8,mb:4}),t.jsx(f,{variant:"card",color:"blue.700",children:"Type Safety First"}),t.jsxs(le,{spacing:2,children:[t.jsxs(v,{children:[t.jsx(R,{as:W,color:"blue.500"}),"Full TypeScript integration"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"blue.500"}),"Compile-time error detection"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"blue.500"}),"IntelliSense support"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"blue.500"}),"Zod schema validation"]})]})]}),t.jsxs(d,{layerStyle:"card",bg:"green.50",children:[t.jsx(De,{as:Oe,color:"green.500",boxSize:8,mb:4}),t.jsx(f,{variant:"card",color:"green.700",children:"Reactive by Design"}),t.jsxs(le,{spacing:2,children:[t.jsxs(v,{children:[t.jsx(R,{as:W,color:"green.500"}),"RxJS-powered reactivity"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"green.500"}),"Automatic UI updates"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"green.500"}),"Efficient change detection"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"green.500"}),"Subscription management"]})]})]}),t.jsxs(d,{layerStyle:"card",bg:"purple.50",children:[t.jsx(De,{as:Oe,color:"purple.500",boxSize:8,mb:4}),t.jsx(f,{variant:"card",color:"purple.700",children:"Developer Experience"}),t.jsxs(le,{spacing:2,children:[t.jsxs(v,{children:[t.jsx(R,{as:W,color:"purple.500"}),"Intuitive API design"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"purple.500"}),"Minimal boilerplate"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"purple.500"}),"Designed for easy testing"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"purple.500"}),"Easy to leverage working pattens through extension"]})]})]}),t.jsxs(d,{layerStyle:"card",bg:"orange.50",children:[t.jsx(De,{as:Oe,color:"orange.500",boxSize:8,mb:4}),t.jsx(f,{variant:"card",color:"orange.700",children:"Validation & Quality"}),t.jsxs(le,{spacing:2,children:[t.jsxs(v,{children:[t.jsx(R,{as:W,color:"orange.500"}),"Three-layer validation"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"orange.500"}),"Runtime type checking"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"orange.500"}),"Quality feedback system"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"orange.500"}),"Error boundary support"]})]})]}),t.jsxs(d,{layerStyle:"card",bg:"teal.50",children:[t.jsx(De,{as:Oe,color:"teal.500",boxSize:8,mb:4}),t.jsx(f,{variant:"card",color:"teal.700",children:"Scalable Architecture"}),t.jsxs(le,{spacing:2,children:[t.jsxs(v,{children:[t.jsx(R,{as:W,color:"teal.500"}),"Modular store design"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"teal.500"}),"Forest branching system"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"teal.500"}),"Factory pattern support"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"teal.500"}),"Dependency injection"]})]})]}),t.jsxs(d,{layerStyle:"card",bg:"red.50",children:[t.jsx(De,{as:Oe,color:"red.500",boxSize:8,mb:4}),t.jsx(f,{variant:"card",color:"red.700",children:"React Integration"}),t.jsxs(le,{spacing:2,children:[t.jsxs(v,{children:[t.jsx(R,{as:W,color:"red.500"}),"Custom React hooks"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"red.500"}),"Automatic cleanup"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"red.500"}),"SSR compatibility"]}),t.jsxs(v,{children:[t.jsx(R,{as:W,color:"red.500"}),"DevTools integration"]})]})]})]})]}),Ft=({children:e,title:n,...r})=>t.jsx(E,{title:n,children:t.jsx(ie,{columns:{base:1,lg:2},spacing:6,...r,children:e})}),It=({title:e=" Best Practices",children:n,...r})=>t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:3,color:"green.600",children:e}),t.jsx(j,{spacing:3,align:"stretch",...r,children:n})]}),Lr=({title:e,children:n,isDont:r=!1,...s})=>{const a=r?"red.200":"green.200";return t.jsx(d,{layerStyle:"doDontItem",borderColor:a,...s,children:t.jsxs(d,{layerStyle:"card",children:[t.jsx(c,{textStyle:"body",fontWeight:"semibold",children:e}),t.jsx(c,{textStyle:"description",children:n})]})})},ae=({title:e,children:n,...r})=>t.jsx(Lr,{title:e,isDont:!1,...r,children:n}),zt=({title:e=" Things that won't work",children:n,...r})=>t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:3,color:"red.600",children:e}),t.jsx(j,{spacing:3,align:"stretch",...r,children:n})]}),fe=({title:e,children:n,...r})=>t.jsx(Lr,{title:e,isDont:!0,...r,children:n}),xc=()=>t.jsxs(j,{spacing:8,align:"stretch",children:[t.jsx(f,{variant:"page",children:"Yet Another Store System?"}),t.jsx(d,{children:t.jsxs(E,{title:"Yes and here's why",children:[t.jsxs(d,{children:[t.jsx(c,{textStyle:"body",children:"Forestry grew from a profound disaffection in the status quo. Redux, mainly but also a lot of other alternatives including hooks. I saw the same patterns happening over and over again:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("b",{children:"A lack of the ability to synchronously update state"}),". There is no (good) reason that local state needs to be forced into async patterns. (as is the case in hooks) like RxJs (the backbone of Forestry) you should be able to change state and see results in real time. hooks for instance are particularly poor at reflecting the real time state of anything given the large refresh cycle of useState. In my experience, the federation that asynchronous code creates is a drag on comprehension, testability, reliability and maintainability; if it is not a natural side effect of activities that are naturally async, you're paying these costs not because your use case demands it but because you have adopted a control system that uses async processes for no good reason."]}),t.jsxs("li",{children:[t.jsx("b",{children:"Far too much magic"}),". Actions should be straight up javascript code with as little magic as necessary."]}),t.jsxs("li",{children:[t.jsx("b",{children:"Had coded state that is difficult to test"}),". Most state systems are so wed to their context that they are difficult to isolate; this violates separation of concerns and frankly most React testing is so painful that it behooves you to extricate the business logic and enable independent testing."]}),t.jsxs("li",{children:[t.jsx("b",{children:"Abdication of responsibility for schema enforcement"}),'; validation of change values before they are submitted into state is not something to be put in as optional nice to have or assumed to be a "solved problem" with typescript. State data is dynamic and often comes from sources outside the codebase (fetch), so typescript cannot enforce type sanity - state must take that responsibility to heart.']}),t.jsxs("li",{children:[t.jsx("b",{children:"Lack of transactional atomicity"}),"; often you need to make several changes in sequence and have them all succeed or fail; especially important with the use of nested actions. Forestry even allows you to temporarily suspend validation constraints while you change state over several steps as long as the net effect of transactions produce valid data."]}),t.jsxs("li",{children:[t.jsx("b",{children:"Nested Actions"}),"; composition is very difficult or impossible in many state systems; Forestry allows you to drill deep into multiple actions."]}),t.jsxs("li",{children:[t.jsx("b",{children:'Complex or "magical" architecture'}),"; it's easy to develop insular meta-languages that steepen the learning curve without commensurate gains in performance or scalability. This is true of Redux and equally true of systems like Saga."]})]}),t.jsxs(c,{textStyle:"body",children:['Foresty has been written to address these features point by point. Many of the solutions are "passive" - some like ',t.jsx(V,{to:"/validation",children:"Validation"}),"require some tooling."]})]}),t.jsxs(d,{children:[t.jsx(f,{variant:"subtle",children:"Simplicity that doesn't scale is a net loss in productivity"}),t.jsx(c,{textStyle:"body",children:'A lot of stores exist and trade off of their "simplicity". This is well and good - but simplicity is only good if it scales. Part of this is "can it be tested"; but part is also does it address mid and long term concerns or force the developers to invent custom solutions for routine tasks.'}),t.jsxs(c,{textStyle:"body",children:["Its easy to assume that TypeScript will enforce type sanity; however Typescript only ensures that the elements ",t.jsx("i",{children:"coded by you"}),' are internally consistent; and since you are chored with writing your own gate functions, even that is not always guaranteed. Real databases always ensure that the structure of your updates is consistent with the store. "Unopinionated" stores like Redux or hooks abdicate this responsibility to the developer.']}),t.jsxs(c,{textStyle:"body",children:[`Similarly most backend controllers execute multiple sub-tasks with changes including validation, distribution of data, comparison with existing conditions and other "change triggered" utilities. Designing change systems that don't allow for "strategic" actions to trigger sub-actions for a more orchestrated process.`," "]}),t.jsx(c,{textStyle:"body",children:"This is key for scaling apps past inception because at some point the strategic methods may delegate to variations based on conditions; using sub-actions that you can switch is much more scalable than creating multiple nearly identical top-level actions. Consider for instance, a work flow that has three stages with two variations for each stage. Varying this requires either one central method with complex switching boilerplate inside it, or eight different top level functions with severe repetition."})]})]})}),t.jsxs(E,{title:"The problem with deep data",children:[t.jsxs(c,{textStyle:"body",children:['Most store systems are simply not set up to handle "Deep" data structrures; they are optimized to flat or flattish key value stores and when the data gets significantly complex and detailed -- and it is a ',t.jsx("i",{children:"when"}),', not if -- you end up either dealing with artificially managing detail in a cluttered "Top down" manner or balkanizing your data int a set of interrelated states that access each others content in a somewhat sloppy "ad hock graph DB" manner.']}),t.jsxs(c,{textStyle:"body",children:["Forestry allows you to manage deep structures through ",t.jsx("b",{children:"branching"}),': creating arbitrarily deep sub-objects to manage any level of sub-scopes with custom methods appropriate to their scope. The complete tree is maintained by the "root" forest but the branch instances can give you focused methods for managing any level of detail in the structure you want. These sub-objects can be used temporarily to affect change at a detailed level or persist within a sub-component to provide a more focused access to the part of the state the component is concerned with.']})]}),t.jsxs(d,{layerStyle:"card",bg:"gray.50",children:[t.jsx(f,{variant:"section",children:"Feature Comparison"}),t.jsx(as,{children:t.jsxs(ir,{variant:"simple",size:"sm",children:[t.jsx(or,{children:t.jsxs(he,{children:[t.jsx(Ee,{children:"Feature"}),t.jsx(Ee,{textAlign:"center",children:"Forestry"}),t.jsx(Ee,{textAlign:"center",children:"Redux"}),t.jsx(Ee,{textAlign:"center",children:"Zustand"}),t.jsx(Ee,{textAlign:"center",children:"Jotai"})]})}),t.jsxs(lr,{children:[t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"TypeScript Support"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Excellent"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Good"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Excellent"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Excellent"})})]}),t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"Boilerplate"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Minimal"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"Heavy"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Minimal"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Medium"})})]}),t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"Validation"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Built-in"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"External"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"External"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"External"})})]}),t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"Reactivity"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"RxJS"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Manual"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Manual"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Automatic"})})]}),t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"DevTools"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Built-in"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Excellent"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Basic"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Basic"})})]}),t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"Learning Curve"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Gentle"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"Steep"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Gentle"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Medium"})})]}),t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"Action Testability"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Excellent"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Complex"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Manual"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Manual"})})]}),t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"Atomic Operations"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Built-in"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"Manual"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"Manual"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"Manual"})})]}),t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"Context Independence"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Complete"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"Coupled"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Partial"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Partial"})})]}),t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"Real-time Feedback"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Synchronous"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"Async Only"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Limited"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Limited"})})]}),t.jsxs(he,{children:[t.jsx(A,{fontWeight:"semibold",children:"Bundle Size"}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"yellow",children:"Medium"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"red",children:"Large"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Small"})}),t.jsx(A,{textAlign:"center",children:t.jsx(_,{colorScheme:"green",children:"Small"})})]})]})]})})]}),t.jsxs(Ft,{children:[t.jsxs(It,{title:" Forestry Advantages",children:[t.jsx(ae,{title:"Built-in Validation",children:"Three-layer validation system with runtime checks"}),t.jsx(ae,{title:"RxJS Integration",children:"Powerful reactive programming capabilities"}),t.jsx(ae,{title:"Forest Branching",children:"Unique field-level state management for forms"}),t.jsx(ae,{title:"Quality Feedback",children:"User-friendly validation messages"}),t.jsx(ae,{title:"Very Testable",children:"States can easily be tested without magical test library as it is self contained and synchronous"})]}),t.jsxs(zt,{title:"Potential Costs",children:[t.jsx(fe,{title:"Learning Curve",children:"New concepts like Forest branching and validation layers"}),t.jsx(fe,{title:"Bundle Size",children:"RxJS dependency adds to bundle size"}),t.jsx(fe,{title:"Ecosystem",children:"Newer library with smaller community"})]})]})]}),Gt=100,Br=xe({id:pe().positive("Todo ID must be positive"),text:B().min(1,"Todo text cannot be empty").max(Gt,"Todo text too long"),completed:ue()}),bc=xe({todos:st(Br).max(100,"Too many todos"),filter:et(["all","active","completed"]),newTodoText:B().max(200,"New todo text too long")});function nr(e){return typeof e!="string"?"":e.trim().toLocaleLowerCase()}class yc extends ce{constructor(){const n=[{id:1,text:"Learn Forestry 4",completed:!0},{id:2,text:"Build a React app",completed:!1},{id:3,text:"Master state management",completed:!1}];super({name:"todo-app",value:{todos:n,filter:"all",newTodoText:""},schema:bc,tests:[r=>{const s=r.todos.map(a=>a.text.toLowerCase()).filter((a,i,o)=>o.indexOf(a)!==i);return s.length>0?`Duplicate todos found: ${s.join(", ")}`:null}]})}get newTodoTextIsValid(){return!this.newTodoErrors}get newTodoErrors(){if(this.value.todos.find(r=>nr(r.text)===nr(this.value.newTodoText)))return"Todo exists in collection";const{newTodoText:n}=this.value;return n.length>Gt?`Todo too long (${n.length} chars, ${n.length-Gt} over)`:""}get filteredTodos(){const n=this.value;switch(n.filter){case"active":return n.todos.filter(r=>!r.completed);case"completed":return n.todos.filter(r=>r.completed);default:return n.todos}}get completedCount(){return this.value.todos.filter(n=>n.completed).length}get activeCount(){return this.value.todos.filter(n=>!n.completed).length}isAddDisabled(){return!this.value.newTodoText.trim()}setFilterAll(){this.setFilter("all")}setFilterActive(){this.setFilter("active")}setFilterCompleted(){this.setFilter("completed")}handleKeyPress(n){n.key==="Enter"&&this.addTodo()}onChange(n){const{name:r,value:s}=n.target;this.set(r,s)}addTodo(){const n=this.value;if(!n.newTodoText.trim())return;const r={id:Date.now(),text:n.newTodoText.trim(),completed:!1},s=Br.safeParse(r);if(!s.success){console.error("Invalid todo item:",s.error.issues);return}this.mutate(a=>{a.todos.push(r),a.newTodoText=""})}toggleTodo(n){const r=this.value.todos.map(s=>s.id===n?{...s,completed:!s.completed}:s);this.set("todos",r)}removeTodo(n){const r=this.value.todos.filter(s=>s.id!==n);this.set("todos",r)}setFilter(n){this.set("filter",n)}clearCompleted(){const n=this.value.todos.filter(r=>!r.completed);this.set("todos",n)}}const vc=()=>new yc,jc=({count:e,children:n})=>t.jsx(_,{position:"absolute",top:"-6px",right:"-6px",borderRadius:"full",colorScheme:"red",variant:"solid",minW:"18px",h:"18px",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"xs",lineHeight:"none",border:"1px solid",borderColor:"white",children:e??n}),ft=Y.memo(jc),an=()=>{const[e,n]=Se(vc);if(!e)return t.jsx(c,{children:"Loading..."});const r=n.filteredTodos;return t.jsxs(ie,{columns:{base:1,xl:2},spacing:6,children:[t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(P,{width:"full",justify:"between",children:[t.jsx(f,{variant:"card",flex:1,children:"Todo List"}),n.completedCount>0?t.jsxs(L,{size:"sm",colorScheme:"red",variant:"solid",disabled:!n.completedCount,onClick:n.$.clearCompleted,children:["Clear Completed",t.jsx(ft,{children:n.completedCount})]}):null]}),t.jsx(d,{maxH:"400px",overflowY:"auto",border:"1px solid",borderColor:"gray.200",borderRadius:"md",p:4,children:r.length===0?t.jsx(c,{color:"gray.500",fontStyle:"italic",textAlign:"center",children:e.filter==="all"?"No todos yet!":e.filter==="active"?"No active todos!":"No completed todos!"}):t.jsx(j,{spacing:3,align:"stretch",children:r.map(s=>t.jsxs(P,{p:3,bg:"gray.50",borderRadius:"md",children:[t.jsx(is,{isChecked:s.completed,title:"click to complete task",onChange:()=>n.$.toggleTodo(s.id)}),t.jsx(c,{flex:1,textDecoration:s.completed?"line-through":"none",color:s.completed?"gray.500":"inherit",children:s.text}),t.jsx(cr,{size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>n.$.removeTodo(s.id)})]},s.id))})})]}),t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{variant:"card",children:"Add New Todo"}),t.jsxs(P,{children:[t.jsx(be,{name:"newTodoText",placeholder:"What needs to be done?",value:e.newTodoText,onChange:n.$.onChange,okKeyUp:n.$.handleKeyPress}),t.jsx(L,{colorScheme:"forest",onClick:n.$.addTodo,isDisabled:!n.newTodoTextIsValid,children:"Add"})]}),!e.newTodoText||n.newTodoTextIsValid?null:t.jsx(c,{color:"red",children:n.newTodoErrors})]}),t.jsxs(d,{children:[t.jsx(f,{variant:"card",children:"Filter Todos"}),t.jsxs(P,{children:[t.jsxs(L,{size:"sm",variant:e.filter==="all"?"solid":"outline",colorScheme:"forest",onClick:n.$.setFilterAll,children:["Show All Tasks",e.todos.length&&t.jsx(ft,{children:e.todos.length})]}),t.jsxs(L,{size:"sm",variant:e.filter==="active"?"solid":"outline",colorScheme:"forest",onClick:n.$.setFilterActive,children:["Active",n.activeCount?t.jsx(ft,{children:n.activeCount}):null]}),t.jsxs(L,{size:"sm",variant:e.filter==="completed"?"solid":"outline",colorScheme:"forest",onClick:n.$.setFilterCompleted,children:["Completed",n.completedCount?t.jsx(ft,{children:n.completedCount}):null]})]})]})]})]})},wc=()=>t.jsx(oe,{maxW:"6xl",py:8,children:t.jsxs(j,{spacing:12,align:"stretch",children:[t.jsxs(d,{textAlign:"center",children:[t.jsx(f,{size:"3xl",mb:6,children:"Why Forestry?"}),t.jsx(c,{textStyle:"hero",children:"Forestry is a next-generation state management library that combines the power of RxJS reactivity with TypeScript safety and an intuitive developer experience."})]}),t.jsx(xc,{}),t.jsx(Pe,{}),t.jsx(fc,{}),t.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/bGzanfKVFeU?si=XVsdcSKOh3CcEYFm",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0}),t.jsx(c,{children:"Why useEffect is not a panacea"}),t.jsx(Pe,{}),t.jsx(E,{title:"Try Forestry Live",children:t.jsx(an,{})}),t.jsx(E,{title:"Implementation",children:t.jsx(q,{tabs:[{label:"Store Structure",language:"typescript",snippet:"createTodoStore"},{label:"Component Usage",language:"tsx",snippet:"TodoApp"}]})})]})}),Sc=xe({name:B(),age:pe,email:rl()});function kc(){return new ce({name:"user-store",value:{name:"John Doe",age:30,email:"john@example.com"},schema:Sc,actions:{onChange(e,n){const{name:r,value:s,type:a}=n.target,i=a==="number"?parseInt(s)||0:s;this.set(r,i)},setName(e,n){this.set("name",n)},setAge(e,n){this.set("age",n)},setEmail(e,n){this.set("email",n)},updateProfile:function(e,n){this.next({...e,...n})},reset:function(){this.next({name:"John Doe",age:30,email:"john@example.com"})}},tests:[e=>e.age<0?"Age cannot be negative":null,e=>e.age>150?"Age seems unrealistic":null,e=>e.email.includes("@")?null:"Invalid email format",e=>e.name.length===0?"Name cannot be empty":null]})}const Ec=()=>{const[e,n]=Se(kc),[r,s]=Y.useState("");return t.jsxs(ie,{columns:{base:1,lg:2},spacing:8,children:[t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsx(f,{size:"md",children:"Update Profile"}),t.jsxs(Ne,{children:[t.jsx(Le,{children:"Name"}),t.jsx(be,{name:"name",value:e.name,onChange:n?.$.onChange})]}),t.jsxs(Ne,{children:[t.jsx(Le,{children:"Age"}),t.jsx(be,{name:"age",type:"number",value:e.age.toString(),onChange:n?.$.onChange})]}),t.jsxs(Ne,{children:[t.jsx(Le,{children:"Email"}),t.jsx(be,{name:"email",type:"email",value:e.email,onChange:n?.$.onChange})]}),t.jsx(P,{children:t.jsx(L,{variant:"outline",onClick:()=>n?.$.reset(),children:"Reset to Defaults"})}),r&&t.jsxs(_e,{status:"error",children:[t.jsx(Ae,{}),r]})]}),t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsx(f,{size:"md",children:"Current State"}),t.jsx(d,{bg:"gray.50",p:4,borderRadius:"md",children:t.jsx("pre",{children:JSON.stringify(e,null,2)})}),t.jsxs(d,{children:[t.jsx(c,{fontWeight:"semibold",mb:2,children:"Profile Stats:"}),t.jsxs(j,{align:"start",spacing:1,fontSize:"sm",children:[t.jsxs(c,{children:["Name length: ",t.jsx(_,{children:e.name.length})]}),t.jsxs(c,{children:["Valid email:"," ",t.jsx(_,{colorScheme:e.email.includes("@")?"green":"red",children:e.email.includes("@")?"Yes":"No"})]}),t.jsxs(c,{children:["Age range:"," ",t.jsx(_,{colorScheme:e.age>=0&&e.age<=150?"green":"red",children:e.age>=0&&e.age<=150?"Valid":"Invalid"})]})]})]})]})]})},_c=[{label:"Basic Store",language:"typescript",snippet:"basicStore",folder:"StoreBasics"},{label:"With Validation",language:"typescript",snippet:"storeWithValidation",folder:"StoreBasics"},{label:"React Hook",language:"tsx",snippet:"reactHookPattern",folder:"StoreBasics"}],rr=()=>t.jsx(oe,{maxW:"container.xl",py:8,children:t.jsxs(j,{spacing:8,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{variant:"page",children:"Forest Overview"}),t.jsx(c,{textStyle:"hero",children:"The Forest class is the core of Forestry 4, providing reactive state management with validation and transaction support. Stores extend off of this class to decorate it with actions and property selectors"})]}),t.jsxs(E,{title:"Constructor",children:[t.jsxs(c,{color:"gray.600",children:["Create a new Forest class for the root Store, with configuration options and"," ",t.jsx(V,{to:"actions",children:"methods for modifying state"}),". They are all optional except for value."]}),t.jsx(Q,{language:"typescript",snippetName:"storeConstructorSignature",folder:"StoreBasics",ts:!0}),t.jsx(f,{variant:"subtle",children:"Config properties"}),t.jsxs(ie,{columns:{base:1,md:2},spacing:6,children:[t.jsxs(d,{children:[t.jsxs(f,{size:"md",mb:3,children:["value ",t.jsx(_,{colorScheme:"red",children:"Required"})]}),t.jsx(c,{color:"gray.600",mb:3,children:"Initial state value for the store. It can be an object, static (number, string), Map, Set, Array, etc.; it is an Immerable value; in short any JSON-able entity with the addition of Map and Set options."}),t.jsx(Q,{language:"typescript",snippetName:"valueExample",folder:"StoreBasics",ts:!0})]}),t.jsxs(d,{children:[t.jsxs(f,{size:"md",mb:3,children:["tests ",t.jsx(_,{colorScheme:"orange",children:"Function | Function[]"})," and schema"," ",t.jsx(_,{colorScheme:"orange",children:"Zod instance"})]}),t.jsx(c,{color:"gray.600",mb:3,children:t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("b",{children:"Schema"}),t.jsx("br",{})," (a la Zod) defines the required structure of data in the value."]}),t.jsxs("li",{children:[t.jsx("b",{children:"tests"}),t.jsx("br",{}),"A function (or an array of functions) to ensure state integrity."]})]})}),t.jsx(Q,{language:"typescript",snippetName:"testsExample",folder:"StoreBasics",ts:!0}),t.jsxs(c,{size:"sm",children:["See ",t.jsx(V,{to:"/validation",children:"Validation"})," for more details on Vaidation parameters"]})]}),t.jsxs(d,{children:[t.jsxs(f,{size:"md",mb:3,children:["name ",t.jsx(_,{colorScheme:"blue",children:"string"})]}),t.jsx(c,{color:"gray.600",mb:3,children:"Unique identifier for the store instance."}),t.jsx(Q,{language:"typescript",snippetName:"nameExample",folder:"StoreBasics",ts:!0})]})]})]}),t.jsxs(E,{children:[t.jsx(f,{children:"The Forestry Lifecycle"}),t.jsx(Je,{src:"/img/forstry-flowchart-simple.svg",width:"full",mx:8,maxHeight:"80vh"}),t.jsx(c,{children:"Instead of an unregulated update (as is the case with useState/Redux) Forest offers optional interrupts to both sanitize and validate the data before it is committed. This includes comparing it to the defined schema and running any manual test functions."})]}),t.jsx(E,{title:"Code Examples",children:t.jsx(q,{tabs:_c})}),t.jsxs(E,{title:"Live Example",children:[t.jsx(c,{color:"gray.600",children:"Try updating the user profile below to see validation in action:"}),t.jsx(Ec,{})]}),t.jsxs(E,{title:"Update Patterns",children:[t.jsx(c,{color:"gray.600",children:"Forestry 4 provides different methods for updating store values efficiently:"}),t.jsx(q,{tabs:[{label:"Form onChange Handler",language:"typescript",snippet:"formOnChangeHandler",folder:"StoreBasics"},{label:"Single Field Updates",language:"typescript",snippet:"singleFieldUpdates",folder:"StoreBasics"},{label:"Multiple Field Updates",language:"typescript",snippet:"multipleFieldUpdates",folder:"StoreBasics"},{label:"Complex Updates",language:"typescript",snippet:"complexUpdates",folder:"StoreBasics"},{label:"Validation Patterns",language:"typescript",snippet:"validationPatterns",folder:"StoreBasics"}]})]}),t.jsxs(E,{title:"Live Example Source Code",children:[t.jsx(c,{color:"gray.600",children:"Here's the complete source code for the user profile demo above:"}),t.jsx(q,{tabs:[{label:"Store Definition",language:"typescript",snippet:"liveExampleStoreDefinition",folder:"StoreBasics"},{label:"React Integration",language:"tsx",snippet:"reactIntegration",folder:"StoreBasics"},{label:"Form Component",language:"tsx",snippet:"formComponent",folder:"StoreBasics"}]})]})]})}),Ac=xe({count:pe().int(),history:st(B()),multiplier:pe().int().min(0),qualityMessage:B()});class Tc extends ce{constructor(){super({name:"actions-demo",value:{count:0,history:[],multiplier:1,qualityMessage:""},schema:Ac})}increment(){this.mutate(n=>{const r=n.count+n.multiplier;n.count=r,n.history.push(`Incremented to ${r}`)})}decrement(){this.mutate(n=>{const r=n.count-n.multiplier;n.count=r,n.history.push(`Decremented to ${r}`)})}setMultiplier(n){this.set("multiplier",n)}doubleAndLog(){this.mutate(n=>{const r=n.count;n.count=r*2,n.history.push(`Doubled from ${r} to ${n.count}`)})}incrementTwice(){this.$.increment(),this.$.increment()}reset(){this.next({count:0,history:["Reset to 0"],multiplier:1,qualityMessage:""})}clearHistory(){this.mutate(n=>{n.history.length=0})}prep(n,r){const s={...r,...n};let a="";return s.count<-100?a="Count is getting very low":s.count>100?a="Count is getting very high":s.multiplier<1&&(a="Multiplier works best at 1 or higher"),{...s,qualityMessage:a}}}function Cc(){return new Tc}const Fc=()=>{const[e,n]=Se(Cc);return t.jsxs(ie,{columns:{base:1,lg:2},spacing:6,children:[t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(c,{fontSize:"lg",fontWeight:"semibold",mb:3,children:"Counter Controls"}),t.jsxs(j,{spacing:3,align:"stretch",children:[t.jsxs(P,{children:[t.jsxs(L,{colorScheme:"forest",onClick:()=>n.$.increment(),children:["+",e.multiplier]}),t.jsxs(L,{colorScheme:"forest",variant:"outline",onClick:()=>n.$.decrement(),children:["-",e.multiplier]}),t.jsx(L,{colorScheme:"blue",onClick:()=>n.$.doubleAndLog(),children:"Double"})]}),t.jsxs(P,{children:[t.jsxs(L,{colorScheme:"purple",onClick:()=>n.$.incrementTwice(),children:["+",e.multiplier*2," (Twice)"]}),t.jsx(L,{variant:"outline",onClick:()=>n.$.reset(),children:"Reset"})]})]})]}),t.jsx(d,{children:t.jsxs(Ne,{children:[t.jsx(Le,{children:"Multiplier"}),t.jsx(be,{type:"number",value:e.multiplier,onChange:r=>n.$.setMultiplier(parseInt(r.target.value)||1)})]})}),e.qualityMessage&&t.jsxs(_e,{status:"info",children:[t.jsx(Ae,{}),e.qualityMessage]})]}),t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(c,{fontSize:"lg",fontWeight:"semibold",mb:3,children:"Current State"}),t.jsxs(d,{p:4,bg:"gray.50",borderRadius:"md",children:[t.jsxs(P,{mb:2,children:[t.jsx(c,{fontWeight:"semibold",children:"Count:"}),t.jsx(_,{colorScheme:e.count===0?"gray":e.count>0?"green":"red",fontSize:"lg",children:e.count})]}),t.jsxs(P,{children:[t.jsx(c,{fontWeight:"semibold",children:"Multiplier:"}),t.jsx(_,{colorScheme:"blue",children:e.multiplier})]})]})]}),t.jsxs(d,{children:[t.jsxs(P,{justify:"space-between",align:"center",mb:3,children:[t.jsx(c,{fontSize:"lg",fontWeight:"semibold",children:"Action History"}),t.jsx(L,{size:"sm",variant:"ghost",onClick:()=>n.$.clearHistory(),isDisabled:e.history.length===0,children:"Clear"})]}),t.jsx(d,{maxH:"200px",overflowY:"auto",border:"1px solid",borderColor:"gray.200",borderRadius:"md",p:3,children:e.history.length===0?t.jsx(c,{color:"gray.500",fontStyle:"italic",textAlign:"center",children:"No actions yet"}):t.jsx(j,{spacing:1,align:"stretch",children:e.history.map((r,s)=>t.jsxs(c,{fontSize:"sm",fontFamily:"mono",children:[s+1,". ",r]},s))})})]}),t.jsx(d,{children:t.jsxs(c,{textStyle:"description",children:[t.jsx("strong",{children:"Try:"})," Use different multipliers, try to exceed limits (-100 to +100), or set multiplier below 1 to see validation in action."]})})]})]})},Z=({title:e,children:n,code:r,snippetName:s,snippetFolder:a,language:i="typescript",codeTitle:o,titleSize:l="sm",titleAsCode:u=!1,codeColorScheme:h=""})=>{const b=r||s;return Y.useEffect(()=>{b&&typeof window<"u"&&window.Prism&&setTimeout(()=>{window.Prism.highlightAll()},100)},[b,s,r]),t.jsxs(d,{children:[t.jsx(f,{size:l,layerStyle:"methodSignature",children:u?t.jsx(J,{fontSize:"sm",colorScheme:h,mb:1,children:e}):e}),t.jsx(c,{textStyle:"body",fontSize:u?"sm":void 0,color:u?"gray.600":void 0,mt:u?1:3,children:n}),b&&t.jsx(d,{mt:4,children:s?t.jsx(Q,{title:o,language:i,snippetName:s,folder:a}):t.jsx(Q,{language:i,title:o,children:r})})]})},Ic=()=>t.jsx(oe,{maxW:"container.xl",py:8,children:t.jsxs(j,{spacing:8,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{variant:"page",children:"Change methods & State Management"}),t.jsx(c,{textStyle:"body",children:"Learn how to define actions and manage state updates in Forestry 4."})]}),t.jsx(E,{title:"Accessing current state inside methods",children:t.jsxs(c,{textStyle:"body",children:["Actions can access current state by examining ",t.jsx("code",{children:"this.value"}),". As well, the mutate method will give you access to the current state as draft."]})}),t.jsx(E,{title:`
              Bound methods on state.$
          `,children:t.jsxs(c,{textStyle:"body",children:["The ",t.jsx("code",{children:".$"}),' parameter gives you access to any custom methods you define in an extended class. (provided they do not start with "$".) This does not include getter/props. If you have a local method'," ",t.jsx("code",{children:"onChangeName(e){this.set('name', e.target.value)"})," and pass"," ",t.jsxs("code",{children:["onChange=","state.$.onChangeName"]})," it will work as expected; this vastly reduces noisy onCallbacks or lambdas."]})}),t.jsxs(E,{title:"Interactive Actions Demo",children:[t.jsx(c,{textStyle:"body",children:"Try different action patterns and see how they update the state:"}),t.jsx(Fc,{})]}),t.jsxs(E,{title:"Source Code",children:[t.jsx(c,{textStyle:"body",children:"Here's the complete implementation of the actions demo above:"}),t.jsx(q,{tabs:[{label:"Store Definition",language:"typescript",snippet:"storeDefinition",folder:"ActionsState"},{label:"React Integration",language:"tsx",snippet:"reactIntegrationDemo",folder:"ActionsState"},{label:"Action Patterns",language:"typescript",snippet:"actionPatterns",folder:"ActionsState"}]})]}),t.jsx(E,{title:"Can change methods be async?",children:t.jsxs(c,{textStyle:"body",children:["Yes - methods can be async. However a few considerations: Transactions cannot contain async actions. Its just not tenable to implement rollback and async behavior in the same system. however you can call (sync) transactions from ",t.jsx("i",{children:"inside"})," an async function."]})}),t.jsxs(E,{title:"Updating State",children:[t.jsx(f,{variant:"subtle",children:"How to update state"}),t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsx(Z,{title:"set(path: string | string[], value: any): void",titleAsCode:!0,snippetName:"set-examples",snippetFolder:"actions-state",language:"typescript",children:"Sets a property in the state structure with a new value. Path can be a string or dot-separated deep path. Path can be the name of a single sub-property or can drill deep down into sub-properties of state."}),t.jsxs(Z,{title:"mutate(updater: (draft: T) => void | T): void",titleAsCode:!0,snippetName:"mutate-examples",snippetFolder:"actions-state",language:"typescript",ts:!0,children:["Allows you to edit the state as a normal mutable JavaScript object using Immer's produce function. ",t.jsx("code",{children:"mudate(fn)"})," is a wrapper for"," ",t.jsx("a",{target:"_new",href:"https://immerjs.github.io/immer/produce/",children:"Immer's produce(fn)"}),"utility."]}),t.jsxs(Z,{title:"next(value: T): void",titleAsCode:!0,snippetName:"next-examples",snippetFolder:"actions-state",language:"typescript",ts:!0,children:["Replaces the entire state with a new value. The update must be ",t.jsx("b",{children:"complete"}),". Generally the least useful method - prefer ",t.jsx("code",{children:"set()"}),"or ",t.jsx("code",{children:"mutate()"})," for most cases. (FWIW",t.jsx("code",{children:"set"})," and ",t.jsx("code",{children:"mutate"})," are wrappers for next.)"]})]})]}),t.jsxs(Ft,{title:"Action Best Practices",children:[t.jsxs(It,{title:" Best Practices for State Change",children:[t.jsx(ae,{title:"Keep methods focused",children:"One method should do one thing well; delegate detailed up complex behaviors into several small helpers"}),t.jsx(ae,{title:"Replace useState and callbacks",children:"Forestry can replace most callbacks and useState artifacts in react; this makes your code cleaner and more testable."}),t.jsx(ae,{title:"Use the simplest change method available",children:"Prefer using set to change a single property. If you want to change several properties or modify a complex type (eg pushing into an array) use mutate. On the rare case where you want to completely change every element of the state use next; but the less you use next the more maintainable your code is."}),t.jsx(ae,{title:"Use $.method in event listeners",children:'There is no reason to wrap state methods - the "$" object has your custom methods pre-bound to your state and can be used directly in event listeners.'})]}),t.jsxs(zt,{children:[t.jsxs(fe,{title:"You cannot edit the value parameter",children:["the value parameter ",t.jsx("i",{children:"and"})," ",t.jsx("code",{children:"this.value"})," are both",t.jsx("a",{href:"https://immerjs.github.io/immer/",children:"Immer"})," immutables that"," ",t.jsx("i",{children:"cannot be edited"}),' - this is even "more const than const";',t.jsx("code",{children:"Map.set"})," or ",t.jsx("code",{children:"array.push/pop/etc"})," do not work on values. (this by the way is also true of Redux Toolkit actions).",t.jsx("br",{}),t.jsx("br",{}),"The ",t.jsx("code",{children:".mutate(lambda)"})," method is how you can directly edit state value."]}),t.jsxs(fe,{title:"Actions cannot be arrow functions (lambdas)",children:["you cannot bind or change a lambdas' definiton of this so actions cannot be bound to state from the constructor definitions: eg.,",t.jsx(Q,{snippetName:"arrow-function-antipattern",folder:"actions-state",language:"typescript",ts:!0}),'will not give you the desired result as "this" will not be the store.']})]})]})]})});function on(e){const[n,r]=Y.useState(e.value);return Y.useEffect(()=>{let s=e.subscribe(r);return()=>{s?.unsubscribe()}},[e]),n}class zc extends ce{get displayName(){return`${this.value.name} (${this.value.age})`}get isAdult(){return this.value.age>=18}updateName(n){this.set("name",n)}updateEmail(n){this.set("email",n)}updateAge(n){this.set("age",n)}celebrateBirthday(){this.mutate(n=>{n.age+=1})}}class Rc extends ce{get itemCount(){return this.value.items.length}addItem(n,r){this.mutate(s=>{const a=Date.now().toString();s.items.push({id:a,name:n,price:r,quantity:1}),s.total+=r})}removeItem(n){this.mutate(r=>{const s=r.items.findIndex(a=>a.id===n);if(s>=0){const a=r.items[s];r.total-=a.price*a.quantity,r.items.splice(s,1)}})}clearCart(){this.next({items:[],total:0})}}class $c extends ce{constructor(){super({value:{user:{profile:{name:"John Doe",email:"john@example.com",age:25},preferences:{theme:"light"}},cart:{items:[],total:0},counter:0},name:"demo-app"})}getUserProfile(){return this.$branch(["user","profile"],{subclass:zc,schema:xe({name:B().min(1,"Name is required"),email:B().email("Invalid email"),age:pe().min(0).max(150)})})}getShoppingCart(){return this.$branch(["cart"],{subclass:Rc})}incrementCounter(){this.mutate(n=>{n.counter+=1})}}const kt=new $c,Dc=()=>{const e=kt.getUserProfile(),n=on(e),[r,s]=Y.useState(""),a=(i,o)=>{try{s(""),i==="name"?e.updateName(o):i==="email"?e.updateEmail(o):i==="age"&&e.updateAge(Number(o))}catch(l){s(l.message)}};return t.jsxs(tt,{children:[t.jsxs(Yt,{children:[t.jsx(f,{size:"md",children:"User Profile Branch"}),t.jsx(c,{fontSize:"sm",color:"gray.600",children:"Path: ['user', 'profile']"})]}),t.jsx(nt,{children:t.jsxs(j,{spacing:4,align:"stretch",children:[r&&t.jsxs(_e,{status:"error",size:"sm",children:[t.jsx(Ae,{}),r]}),t.jsxs(d,{children:[t.jsxs(c,{fontWeight:"bold",children:["Display Name: ",e.displayName]}),t.jsx(_,{colorScheme:e.isAdult?"green":"orange",children:e.isAdult?"Adult":"Minor"})]}),t.jsx(be,{placeholder:"Name",value:n.name,onChange:i=>a("name",i.target.value)}),t.jsx(be,{placeholder:"Email",value:n.email,onChange:i=>a("email",i.target.value)}),t.jsx(be,{type:"number",placeholder:"Age",value:n.age,onChange:i=>a("age",i.target.value)}),t.jsx(L,{onClick:()=>e.celebrateBirthday(),children:" Celebrate Birthday"})]})})]})},Oc=()=>{const e=kt.getShoppingCart(),n=on(e),[r,s]=Y.useState(""),[a,i]=Y.useState(""),o=()=>{r&&a&&(e.addItem(r,parseFloat(a)),s(""),i(""))};return t.jsxs(tt,{children:[t.jsxs(Yt,{children:[t.jsx(f,{size:"md",children:"Shopping Cart Branch"}),t.jsx(c,{fontSize:"sm",color:"gray.600",children:"Path: ['cart']"})]}),t.jsx(nt,{children:t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(d,{children:[t.jsxs(c,{fontWeight:"bold",children:["Items: ",e.itemCount]}),t.jsxs(c,{fontWeight:"bold",children:["Total: $",n.total.toFixed(2)]})]}),t.jsxs(P,{children:[t.jsx(be,{placeholder:"Item name",value:r,onChange:l=>s(l.target.value)}),t.jsx(be,{type:"number",placeholder:"Price",value:a,onChange:l=>i(l.target.value)}),t.jsx(L,{onClick:o,colorScheme:"blue",children:"Add"})]}),t.jsx(j,{spacing:2,align:"stretch",children:n.items.map(l=>t.jsxs(P,{justify:"space-between",children:[t.jsxs(c,{children:[l.name," - $",l.price]}),t.jsx(L,{size:"sm",onClick:()=>e.removeItem(l.id),children:"Remove"})]},l.id))}),n.items.length>0&&t.jsx(L,{onClick:()=>e.clearCart(),colorScheme:"red",variant:"outline",children:"Clear Cart"})]})})]})},Pc=()=>{const e=on(kt);return t.jsxs(tt,{children:[t.jsxs(Yt,{children:[t.jsx(f,{size:"md",children:"Full App State"}),t.jsx(c,{fontSize:"sm",color:"gray.600",children:"Root store - all branches sync here"})]}),t.jsx(nt,{children:t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(d,{children:[t.jsxs(c,{fontWeight:"bold",children:["Counter: ",e.counter]}),t.jsx(L,{onClick:()=>kt.incrementCounter(),children:"Increment Counter"})]}),t.jsx(Pe,{}),t.jsx(d,{children:t.jsx(c,{fontSize:"sm",fontFamily:"mono",whiteSpace:"pre-wrap",children:JSON.stringify(e,null,2)})})]})})]})},Nc=()=>t.jsxs(d,{children:[t.jsx(c,{mb:4,color:"gray.600",children:"This demo shows how branches work in practice. Each card represents a different branch of the same root store. Notice how changes in branches automatically sync with the parent store and other branches."}),t.jsxs(ie,{columns:{base:1,lg:2},spacing:6,children:[t.jsx(Dc,{}),t.jsx(Oc,{})]}),t.jsx(d,{mt:6,children:t.jsx(Pc,{})})]}),Lc=()=>t.jsx(oe,{maxW:"container.xl",py:8,children:t.jsxs(j,{spacing:8,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{variant:"page",children:"Branching Deep Dive"}),t.jsx(c,{textStyle:"hero",children:"Master Forestry's branching system to create focused, maintainable, and testable state management. Learn the how and more importantly, the why behind branches."})]}),t.jsxs(E,{title:"Why Use Branches?",children:[t.jsxs(c,{textStyle:"body",mb:4,children:["Branches solve the fundamental problem of ",t.jsx("strong",{children:"state organization"}),"in complex applications. Instead of managing everything in one monolithic store, branches let you create focused, single-responsibility sub-stores that automatically stay synchronized with their parent."]}),t.jsxs(_e,{status:"info",mb:4,children:[t.jsx(Ae,{}),t.jsx(c,{children:"Think of branches like focused teams in a company - each team has its own responsibilities and expertise, but they all work toward the same organizational goals and share information when needed."})]}),t.jsx(q,{tabs:[{label:"The Problem",language:"typescript",snippet:"whyBranching",folder:"Branching"}]})]}),t.jsxs(E,{title:"Interactive Branching Demo",children:[t.jsx(c,{textStyle:"body",mb:4,children:"Experience how branches work in practice. Each section below represents a different branch of the same root store. Notice how changes automatically synchronize:"}),t.jsx(Nc,{})]}),t.jsxs(E,{title:"Branch Lifespan",children:[t.jsxs(c,{textStyle:"body",children:["Branches can be as short-lived as you want - you can even create a branch, call a method on it, then ",t.jsx("code",{children:".complete()"})," it. Unlike calling root-level complete which freezes the entire store (and all its branches), completing a branch only terminates the utility of ",t.jsx("i",{children:"that branch"}),"and all its' branches; the parent and all other sibling branches (and the root) remain functional. In fact, if you don't need a branch, its a good idea to complete() it and lower the bandwidth for the entire system."]}),t.jsx(c,{textStyle:"body",children:"Similarly you can create a branch as late as you want - you don't need to create all the branches at once of you don't need them until later."})]}),t.jsxs(E,{title:"How Branches Work",children:[t.jsxs(c,{textStyle:"body",mb:4,children:["Branches are ",t.jsx("strong",{children:"focused sub-stores"})," that represent a specific path in your state tree. They maintain automatic two-way synchronization with their parent store and provide all the same capabilities as root stores."]}),t.jsxs(c,{textStyle:"body",children:['In reality only the root "owns" the value - all the branches ',t.jsx("i",{children:"refer"}),' to part of the store (a "sub path" of the overall data) with methods specific to changing and analyzing that branch. This can be repeated to any depth you want. why this matters, for instance, is that all transactions are actually managed by the root store, even if they are created in a branch store.']}),t.jsx(q,{tabs:[{label:"Basic Creation",language:"typescript",snippet:"basicBranchCreation",folder:"Branching"},{label:"Synchronization",language:"typescript",snippet:"branchSynchronization",folder:"Branching"}]})]}),t.jsxs(E,{title:"Custom Branch Classes",children:[t.jsx(c,{textStyle:"body",mb:4,children:"The real power of branches comes from creating custom subclasses with domain-specific methods and computed properties. This creates focused, reusable components that encapsulate business logic."}),t.jsx(q,{tabs:[{label:"Custom Branch Classes",language:"typescript",snippet:"branchSubclassing",folder:"Branching"}]})]}),t.jsxs(E,{title:"Branch Validation",children:[t.jsxs(c,{textStyle:"body",mb:4,children:["Branches can have their own validation schemas and rules, providing focused validation at the appropriate level of your state tree. This is especially powerful for form validation and data integrity. Be careful though - the more validation you add to branch instances, the more limited ",t.jsx("i",{children:"every"})," store becomes. If you create a store with schema and tests, then even changes to data in the root scope will trigger schema and branch validation to ",t.jsx("i",{children:"all the branches"})," - all the way down the hierarchy - which if they become too numerous may become a performance consideration, as well as a burden to developers to understand why their changes are being blocked.",t.jsxs(_e,{status:"info",mb:4,children:[t.jsx(Ae,{}),t.jsxs(c,{children:["One thing you may ",t.jsx("i",{children:"not"})," want to do is define schema for every branch; if the top level schema is inclusive it's redundant and just creates more work for you to maintain, and for the state system to process with every update."]})]})]}),t.jsx(q,{tabs:[{label:"Validation Examples",language:"typescript",snippet:"branchValidation",folder:"Branching"}]})]}),t.jsxs(E,{title:"React Integration",children:[t.jsxs(c,{textStyle:"body",mb:4,children:["Branches shine in React applications by allowing components to subscribe to only the data they need. This improves performance and makes components more focused and testable. That is, if you create a memoized component and have it depend on the data from a branch, ",t.jsx("b",{children:"it will re-render less often"})," than if you pass the value of the global state into it and select part of that data inside the components' context."]}),t.jsx(q,{tabs:[{label:"React Components",language:"tsx",snippet:"reactBranchIntegration",folder:"Branching"}]})]}),t.jsx(E,{title:"Branch API Reference",children:t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsx(Z,{title:"$branch<T, S>(path: Path, params: BranchParams<T, S>): S",titleAsCode:!0,children:"Creates a new branch at the specified path. The branch automatically synchronizes with the parent store and can have its own subclass, validation, and configuration."}),t.jsx(Z,{title:"$parent: StoreIF | undefined",titleAsCode:!0,children:"Reference to the parent store. Root stores have no parent (undefined)."}),t.jsxs(Z,{title:"$path: Path | undefined",titleAsCode:!0,children:["The path from the parent store to this branch (e.g., ['user', 'profile']). note - paths are ",t.jsx("i",{children:"relative"})," to the parent not ",t.jsx("i",{children:"absolute"})," to the root. (the"," ",t.jsx("code",{children:"fullPath"})," property will give you the absolute path between the current and the root store in complex branching)"]}),t.jsx(Z,{title:"$root: StoreIF",titleAsCode:!0,children:"Reference to the root store in the hierarchy. For root stores, returns self."}),t.jsx(Z,{title:"$isRoot: boolean",titleAsCode:!0,children:"True if this is a root store, false if it's a branch."})]})}),t.jsxs(Ft,{title:"Branching Best Practices",children:[t.jsxs(It,{title:" Best Practices",children:[t.jsx(ae,{title:"Create focused, single-responsibility branches",children:"Each branch should represent a logical domain or feature area."}),t.jsxs(ae,{title:"Use factory methods (.$branch) for branch creation",children:["Although you ",t.jsx("i",{children:"can"})," branch manually by creating an instance with a parent and branch defined in their configuration, its best to use the"," ",t.jsx("code",{children:".$branch(path, config)"})," method to branch from one store."]}),t.jsx(ae,{title:"Keep branch hierarchies shallow",children:"Aim for 2-3 levels maximum. Deep hierarchies become hard to understand and maintain."}),t.jsx(ae,{title:"Use branches for testing isolation",children:"Branches make it easy to test individual features in isolation without setting up complex state scenarios."}),t.jsx(ae,{title:"Leverage branch validation",children:"Use Zod schemas or custom validation functions to ensure data integrity at the appropriate level of your state tree."}),t.jsx(ae,{title:"Create reusable branch patterns",children:"For common patterns like lists or forms, create reusable branch classes that can be applied to different data types."})]}),t.jsxs(zt,{children:[t.jsx(fe,{title:"Don't over-branch",children:"Branches should represent logical units, not individual properties. Creating too many micro-branches adds complexity without benefit. You may find a deep list with hundreds of records may not perform well - in such a case you may perfer a more top-down pattern of data management."}),t.jsx(fe,{title:"Don't mix unrelated concerns",children:"Keep user profile logic separate from shopping cart logic separate from UI state. Each branch should have a clear, focused purpose."}),t.jsx(fe,{title:"Don't ignore validation opportunities",children:"You may find it easier to define detailed validation in a branch; given their focus on deeper parts of the structure it can clean out the code at the higher levels of the store."}),t.jsxs(fe,{title:"Don't create multiple nested branches you don't need",children:["the ",t.jsx("code",{children:"branch"})," parameter can be many levels deep as in ['users', 200]; you don't have to create branches for every level of depth if you are really only concerned with the last level of detail."]})]})]}),t.jsxs(E,{title:"Advanced Patterns",children:[t.jsx(c,{textStyle:"body",mb:4,children:"Once you master basic branching, these advanced patterns will help you build more sophisticated and maintainable applications:"}),t.jsx(q,{tabs:[{label:"Best Practices",language:"typescript",snippet:"branchBestPractices",folder:"Branching"}]})]}),t.jsxs(E,{title:"Related Topics",children:[t.jsx(c,{textStyle:"body",children:"Now that you understand branching, explore these related topics:"}),t.jsxs(j,{spacing:2,align:"start",mt:4,children:[t.jsxs(c,{children:[" ",t.jsx(V,{to:"/validation",children:"Validation System"})," - Deep dive into validation with branches"]}),t.jsxs(c,{children:[" ",t.jsx(V,{to:"/transactions",children:"Transactions"})," - Atomic operations across branches"]}),t.jsxs(c,{children:[" ",t.jsx(V,{to:"/react-integration",children:"React Integration"})," - Using branches in React components"]}),t.jsxs(c,{children:[" ",t.jsx(V,{to:"/examples",children:"Examples"})," - Real-world applications using branches"]})]})]})]})}),Bc=()=>t.jsx(E,{children:t.jsxs(j,{layerStyle:"section",children:[t.jsx(f,{size:"lg",children:"Integration Patterns"}),t.jsx(c,{textStyle:"body",children:"Forestry 4 integrates seamlessly with React using standard hooks and patterns."}),t.jsxs(d,{width:"full",children:[t.jsx(f,{size:"md",mb:3,children:"Hook Usage"}),t.jsx(c,{textStyle:"body",children:"Use Forestry hooks to connect stores to React components."}),t.jsx(Q,{language:"typescript",snippetName:"forestryHooks",folder:"ReactIntegration"})]})]})}),Zc=()=>t.jsx(E,{children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(f,{size:"lg",children:"Live Todo App Demo"}),t.jsx(c,{color:"gray.600",children:"A complete todo app showing React + Forestry 4 integration patterns:"}),t.jsx(an,{})]})}),Mc=()=>t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(E,{title:"React Hook Patterns",children:t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:3,children:"Forestry Hook Source Code"}),t.jsx(c,{textStyle:"body",children:"Here are the complete implementations of Forestry's React integration hooks:"}),t.jsxs(j,{layerStyle:"section",align:"stretch",width:"full",children:[t.jsxs(d,{children:[t.jsx(c,{fontWeight:"bold",mb:2,children:"useForestryLocal - Local Store Management"}),t.jsx(c,{textStyle:"description",children:"Creates and manages a store instance using useRef pattern, returns [value, store]"}),t.jsx(Q,{language:"typescript",snippetName:"useForestryLocalSource",folder:"ReactIntegration"})]}),t.jsxs(d,{children:[t.jsx(c,{fontWeight:"bold",mb:2,children:"useObserveForest - External Store Observation"}),t.jsx(c,{textStyle:"description",children:"Observes an existing store/forest instance, returns just the value"}),t.jsx(Q,{language:"typescript",snippetName:"useObserveForestSource",folder:"ReactIntegration"})]})]})]})}),t.jsxs(E,{title:"Referential Integrity with Immer",children:[t.jsx(c,{textStyle:"body",children:"Forestry uses Immer internally, which ensures that any changed value is always referentially unique. This means you can trust any component of state to drive useEffect dependencies correctly."}),t.jsx(Q,{language:"typescript",snippetName:"referentialIntegrity",folder:"ReactIntegration"}),t.jsxs(_e,{status:"info",mt:4,children:[t.jsx(Ae,{}),t.jsxs(d,{children:[t.jsx(c,{fontWeight:"bold",children:"Key Benefit:"}),t.jsx(c,{children:"Unlike manual state management where you might accidentally mutate objects and break React's dependency system, Forestry eliminates this entire class of bugs through Immer's referential integrity."})]})]})]})]}),Uc=()=>t.jsx(E,{children:t.jsxs(j,{layerStyle:"section",children:[t.jsx(f,{size:"lg",children:"Complete Source Code"}),t.jsx(c,{textStyle:"body",children:"Here's the complete implementation of the todo app above:"}),t.jsx(q,{tabs:[{label:"Store Factory",language:"typescript",snippet:"todoStoreFactory",folder:"ReactIntegration"},{label:"React Component",language:"tsx",snippet:"todoAppComponent",folder:"ReactIntegration"}]})]})}),Vc=()=>t.jsxs(t.Fragment,{children:[t.jsx(c,{mb:4,children:'React is "quirky" about some features; the hooks above take care of all these concerns but if you plan to integrate Forestry with your own code or custom hooks follow these guidelines.'}),t.jsxs(Ft,{title:"React Integration Best Practices",children:[t.jsxs(It,{children:[t.jsx(ae,{title:"Use Forestry hooks to reduce blend boilerplate",children:"You can subscribe in useEffect and store stores in ref -- but the hooks take care of a lot of housekeeping. At this point the hooks are not in the component - you'll have to bring the in, because it frees you to use your current react version (or Preact or whatever)"}),t.jsx(ae,{title:"Trust referential integrity",children:"given all parts of a store changes when part of it changes, you can trust any part of the store in dependency arrays to properly trigger useEffect"}),t.jsx(ae,{title:"Diminish Hooks whenever possible",children:"Using store values or selector actions reduces the number of callbacks or memos you have to put in your component body."}),t.jsx(ae,{title:"Pass whole stores via context or params",children:"Rather than deconstructing actions or values down deep paths, pass the whole store and its value down or through context."})]}),t.jsxs(zt,{title:" Things that will not work well",children:[t.jsx(fe,{title:"Mutate store values directly",children:"Immer won't let you do that - use mutate or set to alter parts or all of the store value."}),t.jsx(fe,{title:"Create stores in component function body",children:"If you don't use the factory hooks, create stores in memos or via careful use of refs."}),t.jsx(fe,{title:"Pass methods and values through multiple properties",children:"It's not that it won't work - but passing value and store directly makes it much easier to track and debug issues and makes your code much easier to read."}),t.jsxs(fe,{title:"use useEffect on store values",children:["If you want to react to store changes use",t.jsx(J,{style:{background:"transparent",whiteSpace:"pre"},children:`
myStore.$subject.pipe(
  distinctUntilChanged(
    isEqual,
    (value) => value.cartItems
    )
).subscribe((value) => console.log('cart items changed'));
                `}),"It's faster than useEffect, doesn't have any of the double-call issues, and allows you to further update state without requiring a second render cycle. This also gives you access to nuance from RxJS including debounce and throttle."]})]})]})]}),Wc=()=>t.jsx(oe,{maxW:"container.xl",py:8,children:t.jsxs(j,{layerStyle:"section",spacing:8,children:[t.jsxs(d,{children:[t.jsx(f,{size:"xl",mb:4,children:"React Integration"}),t.jsx(c,{textStyle:"hero",children:"Learn how to integrate Forestry 4 stores with React components and hooks."})]}),t.jsx(Bc,{}),t.jsx(Zc,{}),t.jsx(Mc,{}),t.jsx(Uc,{}),t.jsx(Vc,{})]})}),Zr=({title:e,subtitle:n,badge:r,centered:s=!0,maxWidth:a="2xl",children:i})=>{if(!(e||i))return"";const o=typeof r=="string"?r:r?.text,l=typeof r=="object"?r?.colorScheme??"green":"green";return t.jsx(d,{textAlign:s?"center":"left",mb:8,children:t.jsxs(j,{spacing:4,align:s?"center":"flex-start",children:[t.jsx(d,{children:t.jsxs(f,{variant:"page",mb:r?3:0,children:[e??i,o&&t.jsx(_,{ml:3,colorScheme:l,variant:"subtle",children:o})]})}),n&&t.jsx(c,{fontSize:"lg",color:"gray.600",maxW:a,textAlign:s?"center":"left",children:n})]})})},Hc=()=>t.jsxs(oe,{maxW:"container.xl",py:8,children:[t.jsx(Zr,{children:"Other Frameworks"}),t.jsxs(j,{layerStyle:"section",spacing:8,children:[t.jsx(d,{textAlign:"center",children:t.jsx(c,{textStyle:"hero",children:"Forestry 4 is framework-agnostic. Use it with Vue, Angular, Express, or any JavaScript environment."})}),t.jsx(E,{title:"general Principle: Stores are Observables",children:t.jsx(c,{textStyle:"body",children:"Stores are for all practial purposes decorated RxJS BehaviorSubjects; so in general any use cases for RxJS are de facto adaption patterns for Forest based stores. The only catches are how class methods are presented and they can either be accessed straight off the store or adapted as in with the vue example."})}),t.jsxs(E,{title:"Vue.js Integration",children:[t.jsx(c,{mb:4,children:"Forestry integrates seamlessly with Vue's reactivity system. Use stores in computed properties and watch for changes with RxJS subscriptions."}),t.jsx(q,{tabs:[{label:"Vue Store Setup",language:"typescript",snippet:"vueStoreSetup",folder:"OtherFrameworks"},{label:"Vue Component",language:"html",snippet:"vueComponentExample",folder:"OtherFrameworks"},{label:"Composition API",language:"typescript",snippet:"vueCompositionApi",folder:"OtherFrameworks"}]})]}),t.jsxs(E,{title:"Angular Integration",children:[t.jsx(c,{mb:4,children:"Use Forestry stores as Angular services with dependency injection. Perfect for state management across components and services."}),t.jsx(q,{tabs:[{label:"Angular Service",language:"typescript",snippet:"angularService",folder:"OtherFrameworks"},{label:"Angular Component",language:"typescript",snippet:"angularComponent",folder:"OtherFrameworks"},{label:"Injectable Store",language:"typescript",snippet:"angularInjectableStore",folder:"OtherFrameworks"}]})]}),t.jsxs(E,{title:"Express/Node.js Integration",children:[t.jsx(c,{mb:4,children:"Use Forestry for server-side state management, caching, and business logic. Perfect for API state, session management, and data validation."}),t.jsx(q,{tabs:[{label:"Express Middleware",language:"typescript",snippet:"expressMiddleware",folder:"OtherFrameworks"},{label:"API Route Handler",language:"typescript",snippet:"expressRouteHandler",folder:"OtherFrameworks"},{label:"Session Store",language:"typescript",snippet:"expressSessionStore",folder:"OtherFrameworks"}]})]}),t.jsxs(E,{title:"Vanilla JavaScript",children:[t.jsx(c,{mb:4,children:"Forestry works perfectly in vanilla JavaScript environments. No framework required! Fans of Backbone will recognize a log of whats going on here."}),t.jsx(q,{tabs:[{label:"Basic Usage",language:"javascript",snippet:"vanillaBasic",folder:"OtherFrameworks"},{label:"DOM Integration",language:"javascript",snippet:"vanillaDom",folder:"OtherFrameworks"}]})]})]})]});function ln(){const e=qt(),n=Y.useCallback((a,i)=>{const o=typeof a=="string"?a:a.message;e({title:i||"Validation Error",description:o,status:"error",duration:4e3,isClosable:!0})},[e]),r=Y.useCallback((a,i)=>{e({title:i||"Success",description:a,status:"success",duration:3e3,isClosable:!0})},[e]),s=Y.useCallback((a,i)=>{e({title:i||"Warning",description:a,status:"warning",duration:4e3,isClosable:!0})},[e]);return{handleError:n,handleSuccess:r,handleWarning:s}}const cn=e=>xe({value:e,isDirty:ue(),error:B().nullable(),title:B(),type:B()}),Et=cn(B()),Mr=cn(pe());cn(ue());const Gc=xe({username:Et,email:Et,age:Mr,isSubmitting:ue(),canSubmit:ue(),submitError:B()}),sr={username:{value:"",isDirty:!1,error:null,title:"Username",type:"text"},email:{value:"",isDirty:!1,error:null,title:"Email",type:"email"},age:{value:0,isDirty:!1,error:null,title:"Age",type:"number"},isSubmitting:!1,canSubmit:!1,submitError:""};class qc extends ce{constructor(n,r){super({name:"advanced-form",schema:Gc,value:sr,res:new Map([["handleError",n],["handleSuccess",r]]),prep:(s,a)=>{const i={...a,...s},o=!!i.username.error,l=!!i.email.error,u=!!i.age.error,h=o||l||u,b=i.username.value.length>0,y=i.email.value.length>0,T=i.age.value>0;return b&&y&&T?h?(i.canSubmit=!1,i.submitError="Please fix validation errors before submitting"):(i.canSubmit=!0,i.submitError=""):(i.canSubmit=!1,i.submitError="Please fill out all fields"),i},tests:[s=>s.username.value==="admin"&&s.email.value.includes("admin")?"Username and email combination already exists":null]})}setSubmitting(n){this.set("isSubmitting",!!n)}onChange(n){const{name:r,value:s,type:a}=n.target,i=a==="number"?parseInt(s)||0:s;this.set([r,"value"],i)}reset(){this.next(sr)}get isFormValid(){return!this.value.username.error&&!this.value.email.error&&!this.value.age.error}get canSubmit(){return this.value.canSubmit&&!this.value.isSubmitting}get isFormFilled(){return this.value.username.value.length>0&&this.value.email.value.length>0&&this.value.age.value>0}submit(){if(!this.canSubmit)return this.$res.get("handleError")?.("you cannot submit data","Submission Blocked");this.set("isSubmitting",!0),this.$res.get("handleSuccess")?.("Your data has been submitted","Sim Submit");const n=this;setTimeout(()=>{n.reset()},2e3)}get hasErrors(){return!this.isFormValid}get isDirty(){return this.value.username.isDirty||this.value.email.isDirty||this.value.age.isDirty}}function Yc(e,n){return new qc(e,n)}const Kc=[e=>e.length<3?"Username too short (min 3 characters)":null,e=>e.length>20?"Username too long (max 20 characters)":null,e=>e.includes(" ")?"Username cannot contain spaces":null,e=>["admin","root","system","api","null","undefined"].includes(e.toLowerCase())?"Username is reserved and cannot be used":null,e=>["spam","test123","delete","hack"].some(r=>e.toLowerCase().includes(r))?"Username contains inappropriate content":null];class Xc extends ce{constructor(n){super({...n,prep:(r,s)=>{const a={...s,...r};this.$res.has("initialValue")||this.$res.set("initialValue",s.value);const i=this.$res.get("initialValue");a.isDirty||(a.isDirty=a.value!==i);let o=null;if(a.isDirty)for(const l of Kc){const u=l(a.value);if(u){o=u;break}}return a.error=o,a}})}setFromEvent(n){this.$root?.value?.isSubmitting||this.setValue(n.target.value)}setValue(n){this.$root?.value?.isSubmitting||this.mutate(r=>{r.value=n,r.isDirty=!0})}clear(){this.$root?.value?.isSubmitting||this.setValue("")}get isValidLength(){const n=this.value.value.length;return n>=3&&n<=20}get isAvailable(){return!["admin","root","system","api","null","undefined"].includes(this.value.value.toLowerCase())}}function Jc(){return{subclass:Xc,schema:Et}}const Qc=[e=>e.length>100?"Email too long (max 100 characters)":null,e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Invalid email format",e=>{const n=e.split("@")[1]?.toLowerCase();return n&&["10minutemail.com","tempmail.org","guerrillamail.com","mailinator.com"].includes(n)?"Disposable email addresses are not allowed":null},e=>{const n=e.split("@")[1]?.toLowerCase();return n&&["competitor.com","blocked-company.com"].includes(n)?"Email domain is not allowed for registration":null}];class eu extends ce{constructor(n){super({...n,prep:(r,s)=>{const a={...s,...r};this.$res.has("initialValue")||this.$res.set("initialValue",s.value);const i=this.$res.get("initialValue");a.isDirty||(a.isDirty=a.value!==i);let o=null;if(a.isDirty)for(const l of Qc){const u=l(a.value);if(u){o=u;break}}return a.error=o,a}})}setFromEvent(n){this.$root?.value?.isSubmitting||this.setValue(n.target.value)}setValue(n){this.$root?.value?.isSubmitting||this.mutate(r=>{r.value=n,r.isDirty=!0})}clear(){this.$root?.value?.isSubmitting||this.setValue("")}get domain(){const r=this.value.value.split("@");return r.length===2?r[1].toLowerCase():null}get isValidFormat(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value.value)}get isDisposable(){const n=this.domain;return n?["10minutemail.com","tempmail.org","guerrillamail.com","mailinator.com"].includes(n):!1}get isRestricted(){const n=this.domain;return n?["competitor.com","blocked-company.com"].includes(n):!1}}function tu(){return{subclass:eu,schema:Et}}const nu=[e=>Number.isFinite(e)?null:"Please enter a valid number",e=>e<0?"Age cannot be negative":null,e=>Number.isInteger(e)?null:"Age must be a whole number",e=>e<13?"Users under 13 cannot create accounts due to COPPA regulations":null,e=>e>120?"Age must be realistic (max 120)":null];class ru extends ce{constructor(n){super({...n,prep:(r,s)=>{const a={...s,...r};this.$res.has("initialValue")||this.$res.set("initialValue",s.value);const i=this.$res.get("initialValue");a.isDirty||(a.isDirty=a.value!==i);let o=null;if(a.isDirty)for(const l of nu){const u=l(a.value);if(u){o=u;break}}return a.error=o,a}})}setFromEvent(n){if(this.$root?.value?.isSubmitting)return;const r=parseInt(n.target.value)||0;this.setValue(r)}setValue(n){this.$root?.value?.isSubmitting||this.mutate(r=>{r.value=n,r.isDirty=!0})}clear(){this.$root?.value?.isSubmitting||this.setValue(0)}increment(){this.$root?.value?.isSubmitting||this.setValue(this.value.value+1)}decrement(){this.$root?.value?.isSubmitting||this.value.value>0&&this.setValue(this.value.value-1)}get isMinor(){return this.value.value<18}get isSenior(){return this.value.value>=65}get isValidForRegistration(){return this.value.value>=13&&this.value.value<=120}get ageGroup(){const n=this.value.value;return n<0||n>120?"invalid":n<13?"child":n<18?"teen":n<65?"adult":"senior"}}function su(){return{subclass:ru,schema:Mr}}function au(e,n,r,...s){const a=Y.useRef(null);if(!a.current&&e&&typeof e?.$branch=="function"){const l=r(...s);a.current=e.$branch(n,l)}else a.current||console.error("bad store ",e);const[i,o]=Y.useState(a.current?.value);return Y.useEffect(()=>{if(a.current){const l=a.current.subscribe(o);return()=>{l?.unsubscribe()}}},[a.current]),[i??a.current?.value,a.current]}function Mt({parentStore:e,path:n,branchFactory:r,type:s,placeholder:a}){const[i,o]=au(e,n,r),l=i.error!==null,u=l?"red.300":"gray.200",h=!!o.$root?.value?.isSubmitting;return t.jsxs(d,{children:[t.jsx(c,{mb:2,fontWeight:"semibold",children:i.title}),t.jsx(be,{type:s,value:i.value,onChange:o.$.setFromEvent,borderColor:u,placeholder:a,disabled:h,opacity:h?.6:1,cursor:h?"not-allowed":"text"}),l&&t.jsx(c,{textStyle:"description",color:"red.500",mt:1,children:i.error}),h&&t.jsx(c,{textStyle:"description",color:"blue.500",mt:1,children:"Form is submitting..."})]})}const Ur=()=>{const{handleSuccess:e,handleError:n}=ln(),[r,s]=Se(Yc,n,e);return t.jsx(E,{children:t.jsxs(ie,{columns:{base:1,lg:2},spacing:6,children:[t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsx(f,{size:"md",children:"Form Fields"}),t.jsx(Mt,{parentStore:s,path:"username",branchFactory:Jc,placeholder:"Enter username"}),t.jsx(Mt,{parentStore:s,path:"email",branchFactory:tu,placeholder:"Enter email address"}),t.jsx(Mt,{parentStore:s,path:"age",branchFactory:su,placeholder:"Enter age"}),t.jsx(j,{spacing:3,align:"stretch",children:t.jsx(L,{colorScheme:"forest",isDisabled:!r.canSubmit,onClick:()=>s.submit(),isLoading:r.isSubmitting,children:"Submit Form"})})]}),t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsx(f,{size:"md",children:"Form State"}),t.jsxs(d,{p:4,bg:"gray.50",borderRadius:"md",fontFamily:"mono",fontSize:"sm",children:[t.jsx(c,{mb:2,fontWeight:"semibold",children:"Current Values:"}),t.jsxs(c,{children:['Username: "',r.username.value,'"']}),t.jsxs(c,{children:['Email: "',r.email.value,'"']}),t.jsxs(c,{children:["Age: ",r.age.value]})]}),t.jsxs(d,{p:4,bg:"gray.50",borderRadius:"md",fontFamily:"mono",fontSize:"sm",children:[t.jsx(c,{mb:2,fontWeight:"semibold",children:"Form Status:"}),t.jsxs(P,{children:[t.jsx(c,{children:"Can Submit:"}),t.jsx(_,{colorScheme:r.canSubmit?"green":"orange",children:r.canSubmit?"Yes":"No"})]}),t.jsxs(P,{children:[t.jsx(c,{children:"Submitting:"}),t.jsx(_,{colorScheme:r.isSubmitting?"blue":"gray",children:r.isSubmitting?"Yes":"No"})]})]})]})]})})},iu=()=>t.jsx(E,{children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(f,{size:"lg",children:"Deeper Thoughts - Validation Troubleshooting Guide"}),t.jsx(c,{children:'There are basically two modes of validation - "hard" validation that prevents certain patterns from ever appearing in state and "soft" validation in which errors and gates change based on the validity of certain field(s).'}),t.jsxs(c,{as:"ul",size:"sm",children:[t.jsxs("li",{children:[t.jsx("b",{children:"Hard Validation"})," is managed in three different ways in Forest. Every new value candidate goes through these",t.jsxs("ol",{children:[t.jsxs("li",{children:[t.jsx("code",{children:".pre"}),' - a function that "filters" or fixes bad data; it occurs before tests are ran. It accepts a candidate value and returns a (potentially fixed) value. The purpose of pre is to catch "correctable" errors like data sorting, stringy numbers, or other minor flaws in prospective data. it is not ',t.jsx("i",{children:"technically"}),' a validator but it may prevent "mostly good" changes from being blocked on correctable issues']}),t.jsxs("li",{children:[t.jsx("code",{children:".schema"})," - managed by she schema property in the constructor params, it defines a Zod instance to define a schema that the state must follow; its basically parametric typescript - but unlike TS it is actually an enforced ruleset in React that dynamically blocks bad data from being entered in state."]}),t.jsxs("li",{children:[t.jsx("code",{children:".tests"})," - a function or array of functions that if they return a string or throw, prevent bad data from being saved into state; these test errors will throw to the outer scope; you may want to put catchers around code that might trigger tests. if tests is an array of functions, they are executed in order and any failure blocks subsequent tests from running."]})]})]}),t.jsxs("li",{children:[t.jsx("b",{children:"Soft Validation"}),' is encoded in pre or in actions to assert "annotation" on the state as a whole or specific fields; it is the sort of thing you expect to work with forms where the user is not prevented from entering a bad data, but they are'," ",t.jsx("i",{children:"informed"})," about the state of their field or form with error messages. Obviously, for this to work both the bad data and the error message (and potentially an isValid boolean) exist for every field and potentially the form as a whole. there are two ways of doing this - embedding these properties in state or writing actions such as",t.jsxs("code",{children:["isValid(value, fieldName, fieldValue): ","{isValid: boolean, error? string}"," "]}),"or ",t.jsxs("code",{children:["isEmailValid(): ","{isValid: boolean, error? string}"]})]})]}),t.jsxs(d,{layerStyle:"infoBox",bg:"blue.50",children:[t.jsx(f,{size:"sm",children:" In short:"}),t.jsxs(j,{spacing:2,align:"start",fontSize:"sm",children:[t.jsxs(c,{children:[t.jsx("strong",{children:'Transient ("soft") UI Feedback/ data correction'}),"  Use",t.jsx(J,{children:"prep"}),"functions or feedback actions."]}),t.jsxs(c,{children:[t.jsx("strong",{children:"Type Safety, data prefiltering / sanitation?"}),"  Use ",t.jsx(J,{children:"Zod"})," ",'schema validation for "dynamic typescript like" format enforcement']}),t.jsxs(c,{children:[t.jsx("strong",{children:"Complex Business Rules?"}),"  Use ",t.jsx(J,{children:"tests"})," function(s)"]})]}),t.jsxs(c,{size:"sm",children:["again - data updating occurs ",t.jsx("b",{children:"in this order"}),"; if it matters, for instance, you can trust that your candidates conform to your schema before executing your tests."]})]}),t.jsxs(d,{layerStyle:" infoBox",bg:" gray.50",children:[t.jsx(f,{size:" sm",children:"Do I have to use Zod?"}),t.jsxs(c,{children:["Technically the schema parameter expects an object with a ",t.jsx("code",{children:"parse(value)"})," ","method that throws (or returns a descriptive error string) on bad code. If you don't want to pull in Zod you can put any another framework or a custom parser in to schema as long as it exposes a parse method; if it doesn't create an object and a parse method and enclose your validator inside of it. (FWIW Zod is not bundled with Forestry so this option may appeal if you are fanatic about bundle size reduction.)"]})]})]})});function Vr(){return t.jsx(E,{title:"Source Code",children:t.jsxs(d,{children:[t.jsx(c,{color:"gray.600",mb:4,children:"Here's how to implement advanced form validation using Forest branches with individual field state management:"}),t.jsx(q,{tabs:[{label:"Form Component",language:"tsx",snippet:"advancedFormComponent",folder:"ValidationSystem"},{label:"Field Branch Component",language:"tsx",snippet:"field-branch-component"},{label:"Branch Configuration",language:"typescript",snippet:"usernameBranchConfig",folder:"ValidationSystem"},{label:"Form State Factory",language:"typescript",snippet:"formStateFactory",folder:"ValidationSystem"}]})]})})}const ou=()=>t.jsx(oe,{maxW:"container.xl",py:8,children:t.jsxs(j,{spacing:8,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{size:"xl",mb:4,children:"Validation System"}),t.jsx(c,{textStyle:"hero",children:"Learn about Forestry 4's comprehensive validation system with practical examples of schema validation, business logic tests, and UI state management."})]}),t.jsxs(E,{title:"What KIND of Validation/Struture do you want to enforce?",children:[t.jsx(Je,{src:"/img/how-to-limit-values.svg",width:"full",mx:8,maxHeight:"80vh"}),t.jsxs(c,{textStyle:"body",children:["Validation is derived from data ",t.jsx("i",{children:"structure"})," and business ",t.jsx("i",{children:"rules."}),"the nature of the desired form defines how and where you limit, flag or filter your input. When you want to accept failures but flag them (as is the case with most form input) you have to explode each candidate field into a cluster of value / state / error metadata to precsely manage each field entry."]})]}),t.jsxs(E,{title:"HOW do you want to constrain data?",children:[t.jsx(Je,{src:"/img/how-to-handle-bad-values.svg",width:"full",mx:8,maxHeight:"80vh"}),t.jsx(c,{textStyle:"body",children:'There is usually one of three pattens to how you handle "bad data" - fix it, mark it, or reject it. What you do - and when - defines how you want to structure your constraints.'})]}),t.jsxs(E,{title:"Form Demo",children:[t.jsxs(c,{textStyle:"body",children:["Try filling out the form below. Notice how validation provides immediate feedback, handles async operations, and manages complex field dependencies. This example is more fully parsed ",t.jsx(V,{to:"/examples/form",children:"Here"})]}),t.jsx(Ur,{})]}),t.jsx(Vr,{}),t.jsx(iu,{})]})}),lu=()=>t.jsx(d,{maxW:"6xl",mx:"auto",p:6,children:t.jsxs(j,{spacing:8,align:"stretch",children:[t.jsxs(d,{textAlign:"center",children:[t.jsx(f,{size:"2xl",mb:4,children:"Schema Validation with Zod"}),t.jsx(c,{textStyle:"hero",children:"Use Zod schemas for runtime type validation and enhanced type safety in Forestry stores. Schemas provide structural validation, constraint enforcement, and clear error messages."})]}),t.jsx(E,{children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(f,{size:"lg",children:"Why Use Zod Schemas?"}),t.jsxs(ie,{columns:{base:1,md:2},spacing:6,children:[t.jsxs(d,{layerStyle:"card",bg:"green.50",children:[t.jsx(f,{size:"md",mb:2,color:"green.700",children:"Runtime Validation"}),t.jsx(c,{fontSize:"sm",children:"Catch invalid state structures at runtime, preventing bugs from malformed data that TypeScript alone cannot detect."})]}),t.jsxs(d,{layerStyle:"card",bg:"blue.50",children:[t.jsx(f,{size:"md",mb:2,color:"blue.700",children:"Type Safety"}),t.jsxs(c,{fontSize:"sm",children:["Generate TypeScript types directly from schemas using ",t.jsx(J,{children:"z.infer"}),", ensuring perfect alignment between runtime and compile-time validation."]})]}),t.jsxs(d,{layerStyle:"card",bg:"purple.50",children:[t.jsx(f,{size:"md",mb:2,color:"purple.700",children:"Constraint Enforcement"}),t.jsx(c,{fontSize:"sm",children:"Define business rules like min/max values, string patterns, and array lengths directly in the schema for automatic validation."})]}),t.jsxs(d,{layerStyle:"card",bg:"orange.50",children:[t.jsx(f,{size:"md",mb:2,color:"orange.700",children:"Clear Error Messages"}),t.jsx(c,{fontSize:"sm",children:"Zod provides detailed, human-readable error messages that help developers quickly identify and fix validation issues."})]})]})]})}),t.jsx(E,{children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(f,{size:"lg",children:"Basic Schema Setup"}),t.jsxs(c,{color:"gray.600",children:["Define your state schema and use it as the ",t.jsx(J,{children:"schema"})," property in Store constructor. Forestry will automatically validate state changes against this schema."]}),t.jsx(Q,{language:"typescript",snippetName:"zodSchemaValidation",folder:"ChangeValue"})]})}),t.jsx(E,{children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(f,{size:"lg",children:"Common Schema Patterns"}),t.jsx(q,{tabs:[{label:"Basic Types",language:"typescript",snippet:"basicTypes",folder:"SchemaValidation"},{label:"Complex Objects",language:"typescript",snippet:"complexObjects",folder:"SchemaValidation"},{label:"Arrays & Validation",language:"typescript",snippet:"arraysValidation",folder:"SchemaValidation"},{label:"Conditional Logic",language:"typescript",snippet:"conditionalLogic",folder:"SchemaValidation"}]})]})}),t.jsx(E,{children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(f,{size:"lg",children:"Integration with Prep Functions"}),t.jsx(c,{color:"gray.600",children:"While schemas handle structural validation, prep functions handle business logic and user input validation. They work together for comprehensive validation."}),t.jsxs(_e,{status:"info",children:[t.jsx(Ae,{}),t.jsxs(d,{children:[t.jsx(c,{fontWeight:"semibold",children:"Schema vs Prep Validation"}),t.jsxs(Kt,{mt:2,spacing:1,children:[t.jsxs(v,{children:[t.jsx("strong",{children:"Schema:"})," Structure, types, constraints (throws errors)"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Prep:"})," Business rules, user input (sets quality feedback)"]})]})]})]}),t.jsx(Q,{language:"typescript",snippetName:"schemaPrepIntegration",folder:"SchemaValidation"})]})}),t.jsx(E,{children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(f,{size:"lg",children:"Schema Best Practices"}),t.jsxs(ie,{columns:{base:1,lg:2},spacing:6,children:[t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:3,color:"green.600",children:" Do"}),t.jsxs(j,{spacing:3,align:"stretch",children:[t.jsxs(d,{layerStyle:"highlight",bg:"green.50",children:[t.jsx(c,{fontWeight:"semibold",children:"Define schemas at factory level"}),t.jsx(c,{textStyle:"description",children:"Create schemas alongside your factory functions for reusability"})]}),t.jsxs(d,{layerStyle:"highlight",bg:"green.50",children:[t.jsx(c,{fontWeight:"semibold",children:"Use meaningful constraints"}),t.jsx(c,{textStyle:"description",children:"Add min/max, patterns, and business-relevant validation rules"})]}),t.jsxs(d,{layerStyle:"highlight",bg:"green.50",children:[t.jsx(c,{fontWeight:"semibold",children:"Infer TypeScript types"}),t.jsxs(c,{textStyle:"description",children:["Use ",t.jsx(J,{children:"z.infer<typeof Schema>"})," for type safety"]})]})]})]}),t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:3,color:"red.600",children:" Don't"}),t.jsxs(j,{spacing:3,align:"stretch",children:[t.jsxs(d,{layerStyle:"highlight",bg:"red.50",children:[t.jsx(c,{fontWeight:"semibold",children:"Duplicate validation logic"}),t.jsx(c,{textStyle:"description",children:"Don't repeat schema constraints in prep functions"})]}),t.jsxs(d,{layerStyle:"highlight",bg:"red.50",children:[t.jsx(c,{fontWeight:"semibold",children:"Over-constrain schemas"}),t.jsx(c,{textStyle:"description",children:"Keep schemas focused on structure, not business rules"})]}),t.jsxs(d,{layerStyle:"highlight",bg:"red.50",children:[t.jsx(c,{fontWeight:"semibold",children:"Ignore schema errors"}),t.jsx(c,{textStyle:"description",children:"Schema validation errors indicate serious structural issues"})]})]})]})]})]})})]})}),cu=xe({id:B(),amount:pe(),description:B(),timestamp:pe()}),uu=xe({id:B(),name:B(),balance:pe().min(0,"Account balance cannot be negative")}),du=xe({productId:B(),name:B(),quantity:pe().min(1),price:pe().min(0)}),hu=xe({id:B(),items:st(du),status:et(["pending","processing","confirmed","failed"]),totalAmount:pe().min(0),processedAt:_l().optional()}),pu=xe({bankAccounts:Bt(B(),uu),bankTransactions:st(cu),orders:Bt(B(),hu),inventory:Bt(B(),pe().min(0)),paymentStatus:et(["pending","processing","completed","failed"]),migrationStatus:et(["idle","running","completed","failed"]),migrationProgress:pe().min(0).max(100),migrationError:B().optional(),isProcessing:ue(),lastError:B().optional()});class mu extends ce{constructor(){super({name:"transaction-demo-comprehensive",value:{bankAccounts:{checking:{id:"checking",name:"Checking Account",balance:1e3},savings:{id:"savings",name:"Savings Account",balance:5e3}},bankTransactions:[],orders:{},inventory:{laptop:5,mouse:20,keyboard:15},paymentStatus:"pending",migrationStatus:"idle",migrationProgress:0,isProcessing:!1},prep:(n,r)=>{const s=pu.safeParse({...r,...n});if(!s.success)throw new Error(`Invalid state: ${s.error.message}`);return s.data}})}transferFunds(n,r,s){this.$transact({suspendValidation:!0,action:()=>{if(n===r)throw new Error("Cannot transfer to the same account");if(s<=0)throw new Error("Transfer amount must be greater than 0");const a=this.value.bankAccounts[n],i=this.value.bankAccounts[r];if(!a||!i)throw new Error("Invalid account");if(a.balance<s)throw new Error("Insufficient funds");this.mutate(l=>{l.bankAccounts[n].balance-=s}),this.mutate(l=>{l.bankAccounts[r].balance+=s});const o={id:Date.now().toString(),amount:s,description:`Transfer from ${a.name} to ${i.name}`,timestamp:Date.now()};this.mutate(l=>{l.bankTransactions.push(o)})}})}processOrder(n){this.$transact({suspendValidation:!1,action:()=>{const r=`order_${Date.now()}`;this.$transact({suspendValidation:!0,action:()=>{for(const s of n.items){if(this.value.inventory[s.productId]<s.quantity)throw new Error(`Insufficient inventory for ${s.name}`);this.mutate(i=>{i.inventory[s.productId]-=s.quantity})}}}),this.$transact({suspendValidation:!0,action:()=>{this.set("paymentStatus","processing");const s=this.processPayment(n.totalAmount);if(!s.success)throw new Error(`Payment failed: ${s.error}`);this.set("paymentStatus","completed")}}),this.mutate(s=>{s.orders[r]={...n,id:r,status:"confirmed",processedAt:new Date}})}})}processPayment(n){return n<=0?{success:!1,error:"Invalid payment amount"}:Math.random()<.1?{success:!1,error:"Payment gateway error"}:{success:!0}}migrateData(n){try{this.$transact({suspendValidation:!0,action:()=>{this.set("migrationStatus","running"),this.set("migrationProgress",0),this.set("migrationError",void 0);const r=n.steps.length;for(let s=0;s<r;s++){const a=n.steps[s];this.processStep(a);const i=Math.round((s+1)/r*100);this.set("migrationProgress",i)}this.set("migrationStatus","completed")}})}catch(r){throw this.set("migrationStatus","failed"),this.set("migrationError",r.message),r}}processStep(n){if(n.includes("critical")&&Math.random()<.2)throw new Error(`Critical step failed: ${n}`)}batchUpdateInventory(n){this.$transact({suspendValidation:!0,action:()=>{for(const r of n){if(r.quantity<0)throw new Error(`Invalid quantity for ${r.productId}`);this.mutate(s=>{s.inventory[r.productId]=r.quantity})}}})}reset(){this.mutate(n=>{n.bankAccounts={checking:{id:"checking",name:"Checking Account",balance:1e3},savings:{id:"savings",name:"Savings Account",balance:5e3}},n.bankTransactions=[],n.orders={},n.inventory={laptop:5,mouse:20,keyboard:15},n.paymentStatus="pending",n.migrationStatus="idle",n.migrationProgress=0,n.migrationError=void 0,n.isProcessing=!1,n.lastError=void 0})}}const gu=()=>new mu,Wr=()=>{const e=qt(),[n,r]=Se(gu),[s,a]=ye.useState("100"),[i,o]=ye.useState("checking"),[l,u]=ye.useState("savings"),h=()=>{if(i===l){e({title:"Invalid Transfer",description:"Cannot transfer to the same account",status:"warning",duration:3e3,isClosable:!0});return}try{r.$.transferFunds(i,l,parseFloat(s)),e({title:"Transfer Successful",description:`Transferred $${s} from ${i} to ${l}`,status:"success",duration:3e3,isClosable:!0})}catch(y){e({title:"Transfer Failed",description:y.message,status:"error",duration:5e3,isClosable:!0})}},b=()=>{try{r.$.performDataMigration(),e({title:"Migration Successful",description:"Data migration completed successfully",status:"success",duration:3e3,isClosable:!0})}catch(y){e({title:"Migration Failed",description:y.message,status:"error",duration:5e3,isClosable:!0})}};return t.jsxs(d,{children:[t.jsxs(ie,{columns:{base:1,md:3},spacing:4,mb:6,children:[t.jsxs(Ot,{children:[t.jsx(Pt,{children:"Checking Account"}),t.jsxs(Nt,{children:["$",n.bankAccounts.checking.balance.toFixed(2)]}),t.jsx(Lt,{children:n.bankAccounts.checking.name})]}),t.jsxs(Ot,{children:[t.jsx(Pt,{children:"Savings Account"}),t.jsxs(Nt,{children:["$",n.bankAccounts.savings.balance.toFixed(2)]}),t.jsx(Lt,{children:n.bankAccounts.savings.name})]}),t.jsxs(Ot,{children:[t.jsx(Pt,{children:"Total Transactions"}),t.jsx(Nt,{children:n.bankTransactions.length}),t.jsx(Lt,{children:"Completed transfers"})]})]}),t.jsx(Pe,{mb:6}),t.jsxs(d,{mb:6,children:[t.jsx(c,{fontSize:"md",fontWeight:"semibold",mb:3,children:"Bank Transfer"}),t.jsxs(ie,{columns:{base:1,md:4},spacing:3,mb:3,children:[t.jsxs(Ne,{children:[t.jsx(Le,{fontSize:"sm",children:"From Account"}),t.jsxs(dn,{value:i,onChange:y=>o(y.target.value),children:[t.jsx("option",{value:"checking",children:"Checking"}),t.jsx("option",{value:"savings",children:"Savings"})]})]}),t.jsxs(Ne,{children:[t.jsx(Le,{fontSize:"sm",children:"To Account"}),t.jsxs(dn,{value:l,onChange:y=>u(y.target.value),children:[t.jsx("option",{value:"checking",children:"Checking"}),t.jsx("option",{value:"savings",children:"Savings"})]})]}),t.jsxs(Ne,{children:[t.jsx(Le,{fontSize:"sm",children:"Amount"}),t.jsx(be,{type:"number",value:s,onChange:y=>a(y.target.value),placeholder:"100"})]}),t.jsx(d,{display:"flex",alignItems:"end",children:t.jsx(L,{colorScheme:"blue",onClick:h,w:"full",isDisabled:i===l||!s||parseFloat(s)<=0,children:"Transfer"})})]}),i===l&&t.jsx(c,{fontSize:"sm",color:"orange.500",mt:2,children:" Please select different accounts for transfer"}),s&&parseFloat(s)<=0&&t.jsx(c,{fontSize:"sm",color:"red.500",mt:2,children:" Transfer amount must be greater than 0"})]}),t.jsx(Pe,{mb:6}),t.jsxs(P,{spacing:4,mb:6,children:[t.jsx(L,{colorScheme:"purple",onClick:b,children:"Run Data Migration"}),t.jsx(L,{colorScheme:"red",variant:"outline",onClick:r.$.reset,children:"Reset Demo"})]}),t.jsx(c,{textStyle:"description",fontStyle:"italic",mb:6,children:" Try transferring more than the available balance to see transaction rollback in action!"}),n.bankTransactions.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(Pe,{mt:6,mb:4}),t.jsxs(d,{children:[t.jsx(c,{fontSize:"md",fontWeight:"semibold",mb:3,children:"Transaction History"}),t.jsxs(ir,{size:"sm",variant:"simple",children:[t.jsx(or,{children:t.jsxs(he,{children:[t.jsx(Ee,{children:"ID"}),t.jsx(Ee,{children:"Description"}),t.jsx(Ee,{isNumeric:!0,children:"Amount"}),t.jsx(Ee,{children:"Time"})]})}),t.jsx(lr,{children:n.bankTransactions.map(y=>t.jsxs(he,{children:[t.jsx(A,{children:t.jsxs(_,{colorScheme:"blue",fontSize:"xs",children:["#",y.id.slice(-4)]})}),t.jsx(A,{fontSize:"sm",children:y.description}),t.jsx(A,{isNumeric:!0,children:t.jsxs(c,{color:"green.600",fontWeight:"medium",children:["$",y.amount.toFixed(2)]})}),t.jsx(A,{fontSize:"xs",color:"gray.500",children:new Date(y.timestamp).toLocaleTimeString()})]},y.id))})]})]})]})]})},fu=()=>(ln(),t.jsx(oe,{maxW:"container.xl",py:8,children:t.jsxs(j,{spacing:8,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{variant:"page",children:"Transaction System"}),t.jsx(c,{textStyle:"hero",children:"Forestry 4's transaction system provides atomic operations with automatic rollback, optional validation suspension, and nested transaction support for complex business operations. Not only does a transaction ensure complex operations succeed or fail as a unit, it also clamps update notification; subscribers only update after the action completes, so you can do multiple operations inside a transactions function and only output one update to subscribers."})]}),t.jsxs(E,{title:"Core Transaction Concepts",children:[t.jsxs(ie,{columns:{base:1,md:2},spacing:6,children:[t.jsxs(d,{children:[t.jsxs(f,{size:"md",mb:3,color:"green.600",children:[t.jsx(te,{mr:2}),"Atomic Operations"]}),t.jsx(c,{textStyle:"description",mb:3,children:"All operations within a transaction succeed or fail together. No partial updates."}),t.jsxs(le,{spacing:2,fontSize:"sm",children:[t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),"Multiple state changes grouped together"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),"Automatic rollback on any failure"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),"Maintains data consistency"]})]})]}),t.jsxs(d,{children:[t.jsxs(f,{size:"md",mb:3,color:"blue.600",children:[t.jsx(dt,{mr:2}),"Validation Suspension"]}),t.jsx(c,{textStyle:"description",mb:3,children:"Temporarily allow invalid intermediate states during complex operations."}),t.jsxs(le,{spacing:2,fontSize:"sm",children:[t.jsxs(v,{children:[t.jsx(R,{as:dt,color:"blue.500"}),"Suspend validation during transaction"]}),t.jsxs(v,{children:[t.jsx(R,{as:dt,color:"blue.500"}),"Final state must still be valid"]}),t.jsxs(v,{children:[t.jsx(R,{as:dt,color:"blue.500"}),"Enables complex multi-step operations"]})]})]})]}),t.jsxs(d,{children:[t.jsxs(f,{size:"md",mb:3,color:"purple.600",children:[t.jsx(Fe,{mr:2}),"Nested Transactions"]}),t.jsx(c,{textStyle:"description",mb:3,children:"Transactions can be nested, with inner transactions rolling back to outer transaction boundaries."}),t.jsxs(le,{spacing:2,fontSize:"sm",children:[t.jsxs(v,{children:[t.jsx(R,{as:Fe,color:"purple.500"}),"Inner transactions can be caught and handled"]}),t.jsxs(v,{children:[t.jsx(R,{as:Fe,color:"purple.500"}),"Outer transaction continues if inner error is caught"]}),t.jsxs(v,{children:[t.jsx(R,{as:Fe,color:"purple.500"}),"Uncaught errors bubble up and rollback all levels; use try/catch to interrupt cascading failure"]})]})]})]}),t.jsxs(E,{title:"Live Transaction Demo",children:[t.jsx(c,{color:"gray.600",mb:6,children:"This comprehensive banking demo shows atomic transactions in action. Try different operations to see how transactions ensure data consistency and automatic rollback on failures."}),t.jsx(Wr,{})]}),t.jsx(E,{title:"Source Code",children:t.jsx(q,{tabs:[{label:"Demo Component",language:"tsx",snippet:"TransactionDemo-component"},{label:"Store Factory",language:"typescript",snippet:"transactionDemoStoreFactory"},{label:"Unit Tests",language:"typescript",snippet:"transaction-demo-example-tests"}]})}),t.jsx(E,{title:"Transaction API",children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:3,children:"Basic Transaction Syntax"}),t.jsx(Q,{snippetName:"basicTransactionSyntax",folder:"Transactions",language:"typescript"})]}),t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:3,children:"Transaction Parameters"}),t.jsx(d,{p:4,bg:"gray.50",borderRadius:"md",children:t.jsxs(j,{spacing:3,align:"stretch",children:[t.jsxs(Z,{title:"suspendValidation: boolean",titleAsCode:!0,language:"typescript",codeTitle:"Validation Suspension Example",snippetName:"suspendValidationExample",snippetFolder:"Transactions",children:["When ",t.jsx(J,{children:"true"}),", validation is suspended during the transaction, allowing temporarily invalid states. Final state must still be valid."]}),t.jsxs(Z,{title:"action: (value: DataType) => void",titleAsCode:!0,language:"typescript",codeTitle:"Action Function Example",snippetName:"actionFunctionExample",snippetFolder:"Transactions",children:["The function containing all operations to be executed atomically. Use",t.jsx(J,{children:"this.$"})," to call other actions within the transaction. Actions"," ",t.jsx("i",{children:"cannot be lambdas / arrow functions"})," and must be ",t.jsx("b",{children:"synchronous"}),". Transactional integrity cannot be maintained over async operations, but you can call transactions from inside async functions (as long as the action itself is sync)."]})]})})]}),t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:3,children:"Error Handling & Rollback"}),t.jsx(Q,{snippetName:"errorHandlingRollback",folder:"Transactions",language:"typescript"})]})]})}),t.jsx(E,{title:"Best Practices",children:t.jsxs(ie,{columns:{base:1,md:2},spacing:6,children:[t.jsx(j,{spacing:4,align:"stretch",children:t.jsxs(d,{children:[t.jsx(f,{size:"sm",color:"green.600",mb:2,children:" Best Practices"}),t.jsxs(le,{spacing:2,fontSize:"sm",children:[t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),"Use transactions for multi-step operations that must succeed or fail together"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),"Suspend validation when intermediate states may be temporarily invalid"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),"Handle transaction errors gracefully with try/catch"]})]})]})}),t.jsx(j,{spacing:4,align:"stretch",children:t.jsxs(d,{children:[t.jsx(f,{size:"sm",color:"red.600",mb:2,children:" These won't work"}),t.jsxs(le,{spacing:2,fontSize:"sm",children:[t.jsxs(v,{children:[t.jsx(R,{as:Fe,color:"red.500"}),"Don't use transactions for simple single-step operations"]}),t.jsxs(v,{children:[t.jsx(R,{as:Fe,color:"red.500"}),"Don't expect suspended transactions to permanently sidestep validation. the suspendValidation only is in effect until the close of the function."]}),t.jsxs(v,{children:[t.jsx(R,{as:Fe,color:"red.500"}),"Don't perform async operations inside transaction functions"]}),t.jsxs(v,{children:[t.jsx(R,{as:Fe,color:"red.500"}),"action ",t.jsx("b",{children:"must"})," be a function - they are bound to the store instance which does not work for lambdas"]})]})]})})]})}),t.jsx(E,{title:"Troubleshooting",children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:3,color:"orange.600",children:"Common Issues & Solutions"}),t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(d,{p:4,bg:"orange.50",borderRadius:"md",border:"1px",borderColor:"orange.200",children:[t.jsx(c,{fontWeight:"semibold",color:"orange.800",mb:2,children:'"Transaction failed but state seems unchanged"'}),t.jsx(c,{textStyle:"description",color:"gray.700",children:"This is expected behavior. When a transaction fails, all changes are rolled back automatically."}),t.jsx(Q,{snippetName:"transactionErrorCheck",folder:"Transactions",language:"typescript"})]}),t.jsxs(d,{p:4,bg:"red.50",borderRadius:"md",border:"1px",borderColor:"red.200",children:[t.jsx(c,{fontWeight:"semibold",color:"red.800",mb:2,children:'"Validation errors even with suspendValidation: true"'}),t.jsxs(c,{textStyle:"description",color:"gray.700",children:[t.jsx(J,{children:"suspendValidation"})," only suspends validation during the transaction. The final state must still pass all validation rules."]}),t.jsx(Q,{snippetName:"validationErrorExample",folder:"Transactions",language:"typescript"})]}),t.jsxs(d,{p:4,bg:"blue.50",borderRadius:"md",border:"1px",borderColor:"blue.200",children:[t.jsx(c,{fontWeight:"semibold",color:"blue.800",mb:2,children:'"Nested transaction behavior is confusing"'}),t.jsx(c,{textStyle:"description",color:"gray.700",children:"Inner transactions can be caught and handled. Only uncaught errors bubble up to outer transactions."}),t.jsx(Q,{snippetName:"nestedTransactionExample",folder:"Transactions",language:"typescript"})]})]})]}),t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:3,children:"Debugging Transactions"}),t.jsx(c,{textStyle:"description",mb:3,children:"Use the transaction stack observer to debug complex transaction flows:"}),t.jsx(Q,{snippetName:"transactionDebugging",folder:"Transactions",language:"typescript"})]})]})})]})})),xu=()=>t.jsxs(oe,{maxW:"container.xl",py:8,children:[t.jsxs(f,{size:"xl",mb:4,children:["RxJS Integration",t.jsx(_,{ml:3,colorScheme:"purple",children:"Power Tool"})]}),t.jsx(E,{title:"Leverage RxJS operators and reactive programming patterns with Forestry 4",children:t.jsxs(d,{children:[t.jsxs(c,{mt:4,children:["Every Forest instance exposes an rxjs ",t.jsx("code",{children:"$subject"}),". You can observe or"," ",t.jsx("code",{children:".pipe(...)"})," a stores' output to throttle it, or combine or modify store stream(s)."]}),t.jsxs(c,{children:["Stores follow the observable pattern closely; they don't immediately derive from BehaviorSubjects but they do follow the pattern - methods like",t.jsx("code",{children:"next(.candidate), .complete(), .subscribe(listener)"}),"behave as you would expect for an RxJS Observable."]})]})}),t.jsx(E,{title:"Immer values for consisntly unique values",children:t.jsxs(d,{children:[t.jsxs(c,{fontSize:"lg",children:[t.jsx("a",{href:"https://immerjs.github.io/immer/",children:"Immer"})," enforces immutability and as a side effect unique references in store values"]}),t.jsx(c,{mt:4,children:"Like ReactToolkit, values in states are immutable; this has strong benefits in react ensuring that for instance, every time you add an element to an array or map, its returned as a new array or map every time, triggering updates to dependency lists or components."}),t.jsxs(c,{children:["the ",t.jsx("code",{children:".mutate(fn)"})," method in stores are in fact wrappers for",t.jsx("a",{target:"_new",href:"https://immerjs.github.io/immer/produce/",children:"Immer's produce(fn)"})," ","utility."]})]})})]}),bu=()=>t.jsx(oe,{maxW:"container.xl",py:8,children:t.jsxs(d,{children:[t.jsxs(f,{size:"xl",mb:4,children:["Advanced Patterns",t.jsx(_,{ml:3,colorScheme:"purple",children:"Power Tool"})]}),t.jsx(c,{textStyle:"hero",children:"Advanced patterns, debugging techniques, and performance optimization."}),t.jsx(c,{mt:4,color:"gray.500",children:"This page is under construction. Coming soon!"})]})}),yu=()=>t.jsx(d,{children:t.jsxs(Ke,{children:[t.jsx(d,{layerStyle:"sidebar",mt:8,children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(f,{children:"API"}),t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(c,{fontWeight:"semibold",color:"blue.600",mb:2,children:"Core Classes"}),t.jsx(j,{spacing:1,align:"stretch",pl:2,children:t.jsx(we,{href:"#forest",layerStyle:"navLink",children:"Forest"})})]}),t.jsxs(d,{children:[t.jsx(c,{fontWeight:"semibold",color:"green.600",mb:2,children:"Forest Methods"}),t.jsxs(j,{spacing:1,align:"stretch",pl:2,children:[t.jsx(we,{href:"#forest-constructor",layerStyle:"navLink",children:"Constructor & Properties"}),t.jsx(we,{href:"#forest-core",layerStyle:"navLink",children:"Core"}),t.jsx(we,{href:"#forest-branching",layerStyle:"navLink",children:"Branching"}),t.jsx(we,{href:"#forest-transactions",layerStyle:"navLink",children:"Transaction"}),t.jsx(we,{href:"#forest-validation",layerStyle:"navLink",children:"Validation"})]})]}),t.jsxs(d,{children:[t.jsx(c,{fontWeight:"semibold",color:"orange.600",mb:2,children:"Types"}),t.jsxs(j,{spacing:1,align:"stretch",pl:2,children:[t.jsx(we,{href:"#types-config",layerStyle:"navLink",children:"Configuration Types"}),t.jsx(we,{href:"#types-validation",layerStyle:"navLink",children:"Validation Types"}),t.jsx(we,{href:"#types-utility",layerStyle:"navLink",children:"Utility Types"})]})]})]})]})}),t.jsx(d,{layerStyle:"mainContent",children:t.jsx(oe,{maxW:"container.lg",children:t.jsxs(j,{spacing:12,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{variant:"page",children:"Forest API"}),t.jsx(c,{textStyle:"hero",children:"Complete API documentation for Forest and ForestBranch classes."})]}),t.jsx(E,{title:"Forest class",id:"forest",children:t.jsx(c,{textStyle:"body",children:"The state management class that supports branching and hierarchical state management. Forest includes all core store functionality plus advanced features for managing complex nested data structures. In general you will subclass this class to add custom action / method utility but it can be used directly"})}),t.jsxs(E,{id:"forest-constructor",title:"Construtcor and properties",children:[t.jsx(d,{mb:6,children:t.jsx(Z,{title:"new Forest<DataType>(params: StoreParams)",children:"Creates a new Forest instance with the specified data type and actions. In general you will subclass Forest to enable custom methods, but you can instantiate a Forest directly if you only wish to use base methods."})}),t.jsxs(d,{children:[t.jsx(f,{size:"sm",mb:3,children:"Properties"}),t.jsxs(le,{spacing:3,children:[t.jsxs(v,{children:[t.jsx(J,{children:"value: DataType"})," - Current forest value (readonly)"]}),t.jsxs(v,{children:[t.jsx(J,{children:"name: string"})," - Forest identifier"]}),t.jsxs(v,{children:[t.jsx(J,{children:"$: Actions"})," - Exposed ",t.jsx(V,{to:"/change",children:"action"})," methods."]}),t.jsxs(v,{children:[t.jsx(J,{children:"acts: Actions"})," - Alias for $ property"]}),t.jsxs(v,{children:[t.jsx(J,{children:"res: Map<string, any>"})," - container for external resources such as database connectors, DOM references. Changing res entries does not trigger any subscriber updates. Mainly useful for direct Forest instances that need un-storable values (Dom references etc.)"]}),t.jsxs(v,{children:[t.jsx(J,{children:"isActive: boolean"})," - Whether forest accepts updates; set to false when ",t.jsx("code",{children:"complete()"})," is called"]}),t.jsxs(v,{children:[t.jsx(J,{children:"path: Path"})," - the path between this store and its parent; is empty array [] for root Forest"]}),t.jsxs(v,{children:[t.jsx(J,{children:"parent?: StoreBranch"})," - null for root Forest"]}),t.jsxs(v,{children:[t.jsx(J,{children:"isRoot: boolean"})," - whether the branch has a parent or is the root."]}),t.jsxs(v,{children:[t.jsx(J,{children:"root: Forest"})," - Returns self (this) for a root Forest implementation, and topmost forest on a branch"]})]})]})]}),t.jsxs(d,{id:"forest-core",layerStyle:"methodCard",children:[t.jsx(f,{size:"md",mb:4,children:"Core Methods"}),t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(Z,{title:"next(value: Partial<DataType>): void",snippetName:"nextExample",snippetFolder:"APIReference",codeTitle:"Updating Forest Values",children:"Updates the forest with a new value."}),t.jsx(Z,{title:"subscribe(listener: Listener<DataType>): Subscription",snippetName:"subscribeExample",snippetFolder:"APIReference",codeTitle:"Subscribing to Changes",children:"Subscribes to forest changes. Returns RxJS Subscription for cleanup."}),t.jsx(Z,{title:"get(path?: Path): any",snippetName:"getPathExample",snippetFolder:"APIReference",codeTitle:"Getting Values by Path",children:"Gets value at specified path. Returns entire value if no path provided."}),t.jsx(Z,{title:"set(path: Path, value: unknown): boolean",snippetName:"setValueExample",snippetFolder:"APIReference",codeTitle:"Setting Values Example",children:"Sets value at specified path using Immer for immutable updates. Returns true if successful."}),t.jsx(Z,{title:"complete(): DataType",children:"Completes the forest and all branches, preventing further updates. Returns final value. note - branch completions effect only that branch and any sub-branches it spawned; completing the root Forest will terminate the entire forest and all its branches and sub-branches."})]})]}),t.jsxs(d,{id:"forest-branching",layerStyle:"methodCard",children:[t.jsx(f,{size:"md",mb:4,children:"Branching Methods"}),t.jsx(j,{spacing:6,align:"stretch",children:t.jsxs(Z,{title:"$branch<Type, Actions>(path: Path, params: StoreParams<Type>): ForestBranch",snippetName:"branchCreationExample",snippetFolder:"APIReference",codeTitle:"Branch Creation Example",children:["Creates a new branch at the specified path with its own actions and validation. The utility of a branch is that it focuses on a subsection of state and can have focused methods that target specific elements of the store.",t.jsx("br",{})," ",t.jsx("br",{}),"The params have an optional parameter ",t.jsx("code",{children:"subclass"})," that defines a class that will be returned by the $branch method. Also, ",t.jsx("code",{children:"value"})," is neither required nor used as a parameter; value is inferred by the path from the parent Forest."]})})]}),t.jsxs(d,{id:"forest-transactions",layerStyle:"methodCard",children:[t.jsxs(f,{size:"md",mb:4,children:["Transaction Methods",t.jsx(V,{to:"/transactions",style:{marginLeft:"12px"},children:t.jsx(_,{colorScheme:"blue",fontSize:"xs",children:"See detailed guide "})})]}),t.jsx(j,{spacing:6,align:"stretch",children:t.jsxs(Z,{title:"transact(params: TransParams | TransFn, suspendValidation?: boolean): void",snippetName:"transactMethodExamples",snippetFolder:"Transactions",codeTitle:"Transaction Examples",children:["Executes multiple operations as a single atomic transaction across the forest and all branches. All changes within the transaction are applied atomically. It is possible to nest transactions - in which case all subscriptions are suspended until the outermost transactions complete. Any thrown (uncaught) error suspends a transaction and reverts ",t.jsx("i",{children:"all"})," updates made since the beginning of that transaction; in the case of nested transaction, its possible to catch the inner transactions' error in which case the state will be the same as it was before the inner transaction started. ",t.jsx("b",{children:"action must NOT be a lambda/arrow function"}),"."]})})]}),t.jsxs(d,{id:"forest-validation",layerStyle:"methodCard",children:[t.jsxs(f,{size:"md",mb:4,children:["Validation Methods",t.jsx(V,{to:"/validation",style:{marginLeft:"12px"},children:t.jsx(_,{colorScheme:"green",fontSize:"xs",children:"See detailed guide "})})]}),t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(Z,{title:"validate(value: unknown): Validity",snippetName:"validateMethod",snippetFolder:"APIReference",codeTitle:"Validation Examples",children:"Validates a value against schema and tests. Returns validity object with detailed error information. If the current state of the store is under a transaction with suspendValidation, it will always return isValid: true. validate captures any thrown errors from validation functions into the feedback."}),t.jsx(Z,{title:"test(value: unknown): Validity",snippetName:"testMethod",snippetFolder:"APIReference",codeTitle:"Test Function Examples",children:"Identical to validate -- however it ignores any transactional / suspendValidation conditions"})]})]}),t.jsxs(d,{children:[t.jsxs(P,{mb:4,children:[t.jsx(f,{size:"lg",children:"Type Definitions"}),t.jsx(_,{colorScheme:"orange",children:"Types"})]}),t.jsx(c,{textStyle:"body",children:"Key TypeScript interfaces and types used throughout Forestry 4."})]}),t.jsxs(d,{id:"types-config",layerStyle:"methodCard",children:[t.jsx(f,{size:"md",mb:4,children:"Constructor parameter structure"}),t.jsx(j,{spacing:6,align:"stretch",children:t.jsxs(Z,{title:"StoreParams<DataType>",children:["Configuration object for creating Forest instances. Contains:",t.jsxs("ul",{children:[t.jsxs("li",{children:["value ",t.jsx(_,{colorScheme:"red",children:"Required"})," "]}),t.jsx("li",{children:"schema"}),t.jsx("li",{children:"tests"}),t.jsx("li",{children:"prep"}),t.jsx("li",{children:"name"})]})]})})]}),t.jsxs(d,{id:"types-validation",layerStyle:"methodCard",children:[t.jsxs(f,{size:"md",mb:4,children:["Validation Types",t.jsx(V,{to:"/schemas",style:{marginLeft:"12px"},children:t.jsx(_,{colorScheme:"purple",fontSize:"xs",children:"See Schema guide "})})]}),t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(Z,{title:"ValueTestFn<DataType>",children:"Function that tests a value and returns error message or null -- or throws. valid values should return falsy value or not return anything."}),t.jsxs(Z,{title:"Validity",children:["Object returned by test and isValid",t.jsxs("ul",{children:[t.jsx("li",{children:"isValid: boolean"}),t.jsx("li",{children:"error?: Error"})]})]}),t.jsx(Z,{title:"ValidationResult",children:"String error message or null for valid values."})]})]}),t.jsxs(d,{id:"types-utility",layerStyle:"methodCard",children:[t.jsx(f,{size:"md",mb:4,children:"Utility Types"}),t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsxs(Z,{title:"Path",children:["String (",t.jsx("code",{children:"user.id"}),") array (",t.jsx("code",{children:"['user', 'id']"}),") of strings representing object path."]}),t.jsxs(Z,{title:"Listener<DataType>",children:["Function that receives store value changes. it can be either a simple one-property function or a structured"," ",t.jsx("a",{href:"https://rxjs.dev/api/index/interface/Observer",children:"Observer"}),"."]}),t.jsx(Z,{title:"ResourceMap",children:"Map for storing external resources (DOM, WebGL, etc.)."})]})]})]})})})]})}),vu=()=>{const e=[{title:"Todo App",path:"/examples/todo-app",badge:"Classic example",badgeColor:"green",icon:te,description:"A fully-featured todo application demonstrating action-based architecture, form handling, and React integration patterns.",features:["Fully dynamic properties","Event Listeners","Reactive feedback from data summary"]},{title:"Shopping Cart",path:"/examples/shopping-cart",badge:"Validation",badgeColor:"purple",icon:Oe,description:"A shopping cart application showcasing Forestry 4's validation system, schema integration, and complex business logic.",features:["Zod Schema Validation","Custom Test Functions","Real-time Validation","Complex State Management"]},{title:"Form Validation",path:"/examples/form-validation",badge:"Form Patterns",badgeColor:"blue",icon:vs,description:"Advanced form validation with field-level validation, cross-field dependencies, and async validation patterns.",features:["Field-Level Validation","Cross-Field Dependencies","Async Validation","Error State Management"]},{title:"Transaction Demo",path:"/examples/transaction-demo",badge:"Atomic mutation",badgeColor:"orange",icon:js,description:"Comprehensive transaction system example demonstrating atomic operations, rollback capabilities, and complex state management.",features:["Atomic Operations","Automatic Rollback","Nested Transactions","Performance Optimization"]}];return t.jsx(oe,{maxW:"container.xl",py:8,children:t.jsxs(j,{spacing:8,align:"stretch",children:[t.jsxs(d,{textAlign:"center",children:[t.jsx(f,{variant:"page",children:"Practical Examples"}),t.jsx(c,{textStyle:"hero",maxW:"2xl",children:"Functioning examples demonstrating Forestry 4's capabilities in various scenarios. Each example showcases different aspects of the library with complete, working code."})]}),t.jsx(ie,{columns:{base:1,md:2},spacing:6,children:e.map(n=>t.jsx(tt,{as:V,to:n.path,_hover:{transform:"translateY(-2px)",shadow:"lg",textDecoration:"none"},transition:"all 0.2s",cursor:"pointer",children:t.jsx(nt,{children:t.jsxs(j,{align:"stretch",spacing:4,children:[t.jsxs(P,{justify:"space-between",align:"start",children:[t.jsxs(P,{children:[t.jsx(De,{as:n.icon,color:"forest.500",boxSize:5}),t.jsx(f,{variant:"card",children:n.title})]}),t.jsx(_,{colorScheme:n.badgeColor,variant:"subtle",children:n.badge})]}),t.jsx(c,{textStyle:"description",children:n.description}),t.jsxs(d,{children:[t.jsx(c,{textStyle:"description",fontWeight:"semibold",color:"gray.700",children:"Key Features:"}),t.jsx(j,{align:"stretch",spacing:1,children:n.features.map(r=>t.jsxs(P,{spacing:2,children:[t.jsx(te,{color:"green.500",boxSize:3}),t.jsx(c,{textStyle:"description",children:r})]},r))})]}),t.jsx(P,{justify:"flex-end",width:"full",flex:0,children:t.jsx(we,{as:"span",color:"forest.600",fontWeight:"semibold",fontSize:"sm",_hover:{color:"forest.700"},children:t.jsx(L,{colorScheme:"green",size:"lg",children:"View Example"})})})]})})},n.path))}),t.jsx(d,{textAlign:"center",mt:8,children:t.jsx(c,{textStyle:"description",color:"gray.500",children:"More examples coming soon! Each example includes live demos, complete source code, and detailed explanations of the patterns used."})})]})})};function ju(e){return Xt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 128l128 128-128 128z"},child:[]}]})(e)}function wu(e){return Xt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(e)}class Su extends ce{constructor(){super({value:{show:!1}})}toggle(){this.mutate(n=>{n.show=!n.show})}}function ku(){return new Su}const ar=({store:e})=>t.jsx(f,{variant:"card",onClick:e.$.toggle,alignSelf:"flex-start",children:t.jsxs(P,{gap:"md",children:[t.jsx(c,{size:"lg",children:e.value.show?t.jsx(wu,{}):t.jsx(ju,{})}),t.jsx(c,{children:"Architecture Highlights"})]})}),Eu=()=>{const[{show:e},n]=Se(ku);return t.jsxs(oe,{maxW:"container.xl",py:8,children:[t.jsx(Zr,{children:"Todo App example "}),t.jsxs(j,{layerStyle:"section",spacing:8,children:[t.jsx(d,{textAlign:"center",children:t.jsx(c,{textStyle:"hero",maxW:"2xl",children:"The Classic ToDo app with compressed store structure in play."})}),t.jsxs(E,{title:"Live Demo",titleSize:"md",children:[t.jsx(c,{mb:4,color:"gray.600",children:"Try the todo app below. Notice how all interactions are handled through store actions, and the component is purely presentational."}),t.jsx(an,{})]}),t.jsx(E,{title:"Implementation",children:t.jsx(q,{tabs:[{label:"Store Structure",language:"typescript",snippet:"createTodoStore"},{label:"Component Usage",language:"tsx",snippet:"TodoApp"}]})}),e?null:t.jsx(ar,{store:n}),t.jsx(os,{in:e,children:t.jsxs(E,{children:[t.jsx(ar,{store:n}),t.jsx(c,{textStyle:"body",children:"This example demonstrates the ultimate Forestry pattern where the React component is purely declarative JSX with zero business logic."}),t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{variant:"subtle",children:"Pure Component Pattern"}),t.jsx(c,{textStyle:"description",children:"The React component contains no business logic, state management, or event handling code. Everything is delegated to store actions."})]}),t.jsxs(d,{children:[t.jsx(f,{variant:"subtle",children:"Action Categories"}),t.jsxs(le,{spacing:1,fontSize:"sm",children:[t.jsxs(v,{children:[t.jsx("strong",{children:"Data Actions:"})," addTodo, toggleTodo, removeTodo, setFilter, clearCompleted"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"UI Actions:"})," setFilterAll, setFilterActive, setFilterCompleted, handleKeyPress"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Selector Actions:"})," filteredTodos, completedCount, activeCount, isAddDisabled"]})]})]}),t.jsxs(d,{children:[t.jsx(f,{variant:"subtle",children:"Inline Function Calls"}),t.jsx(c,{textStyle:"description",children:"All computed values and event handlers use direct action references without arrow functions, resulting in cleaner JSX and better performance."})]})]})]})})]})]})},Ue=[{id:"laptop",name:"Gaming Laptop",price:1299.99,inStock:5},{id:"mouse",name:"Wireless Mouse",price:49.99,inStock:20},{id:"keyboard",name:"Mechanical Keyboard",price:129.99,inStock:8}];class _u extends ce{constructor(n){super({name:"shopping-cart",value:{items:[],totalCost:0},tests:[function(r){const s=r.items.map(i=>i.productId),a=new Set(s);return s.length!==a.size?"Cannot have the same product multiple times in cart - use quantity instead":null},r=>r.items.filter(a=>a.quantity<=0).length>0?"Cart cannot contain items with zero or negative quantities":null,r=>r.items.filter(a=>!Ue.find(i=>i.id===a.productId)).length>0?"Cart contains products that no longer exist":null,function(r){return r.items.filter(a=>{const i=Ue.find(o=>o.id===a.productId);return i&&a.quantity>i.inStock}).length>0?"Cannot add more items than available in stock":null},function(r){const s=r.items.reduce((a,i)=>{const o=Ue.find(l=>l.id===i.productId);return a+(o?o.price*i.quantity:0)},0);return Math.abs(r.totalCost-s)>.01?"Total cost calculation is incorrect - financial integrity violation":null},function(r){return r.items.reduce((a,i)=>a+i.quantity,0)>100?"Cart cannot contain more than 100 total items":null}]}),this.handleError=n}addItem(n,r){const s=this.value.items.findIndex(a=>a.productId===n);this.mutate(a=>{s>=0?a.items[s].quantity+=r:a.items.push({productId:n,quantity:r})})}addItemFromEvent(n){const r=n.currentTarget,s=r.dataset.productId,a=parseInt(r.dataset.quantity||"1");if(!s){console.error("addItemFromEvent: missing data-product-id attribute");return}this.addItem(s,a)}removeItem(n){this.mutate(r=>{r.items=r.items.filter(s=>s.productId!==n)})}updateQuantity(n,r){this.mutate(s=>{const a=s.items.find(i=>i.productId===n);a&&(a.quantity=r)})}updateProduct(n,r){this.updateQuantity(n,r)}clearCart(){this.mutate(n=>{n.items=[],n.totalCost=0})}safeAddItemFromEvent(n){if(!this.handleError)return this.addItemFromEvent(n);try{this.addItemFromEvent(n)}catch(r){this.handleError(r,"Cannot Add Item")}}safeUpdateQuantity(n,r){if(!this.handleError)return this.updateQuantity(n,r);try{this.updateQuantity(n,r)}catch(s){this.handleError(s,"Cannot Update Quantity")}}safeUpdateProduct(n,r){if(!this.handleError)return this.updateProduct(n,r);try{this.updateProduct(n,r)}catch(s){this.handleError(s,"Cannot Update Quantity")}}safeAddItem(n,r){if(!this.handleError)return this.addItem(n,r);try{this.addItem(n,r)}catch(s){this.handleError(s,"Cannot Add Item")}}prep(n,r){const s=n.items||r.items,a=s.reduce((i,o)=>{const l=Ue.find(u=>u.id===o.productId);return i+(l?l.price*o.quantity:0)},0);return{items:s,totalCost:a}}}function Au(e){return new _u(e)}const Ut=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Tu=()=>{const{handleError:e}=ln(),[n,r]=Se(Au,e);return t.jsxs(ie,{columns:{base:1,lg:2},spacing:6,children:[t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsx(f,{size:"md",children:"Available Products"}),Ue.map(s=>t.jsx(d,{p:3,border:"1px",borderColor:"gray.200",borderRadius:"md",children:t.jsxs(P,{justify:"space-between",children:[t.jsxs(j,{align:"start",spacing:1,children:[t.jsx(c,{fontWeight:"semibold",children:s.name}),t.jsxs(c,{textStyle:"description",children:["$",s.price]}),t.jsxs(c,{fontSize:"xs",color:"gray.500",children:["Stock: ",s.inStock]})]}),t.jsx(L,{size:"sm",colorScheme:"forest","data-product-id":s.id,"data-quantity":"1",onClick:r.$.safeAddItemFromEvent,children:"Add to Cart"})]})},s.id)),t.jsxs(ie,{columns:{base:1,md:2},spacing:3,children:[t.jsx(L,{colorScheme:"red",variant:"outline",size:"sm","data-product-id":"invalid-product","data-quantity":"1",onClick:r.$.safeAddItemFromEvent,children:"Add Invalid Product"}),t.jsx(L,{colorScheme:"red",variant:"outline",size:"sm","data-product-id":"laptop","data-quantity":"10",onClick:r.$.safeAddItemFromEvent,children:"Exceed Stock"})]})]}),t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(P,{justify:"space-between",children:[t.jsx(f,{size:"md",children:"Shopping Cart"}),t.jsx(L,{colorScheme:"red",variant:"outline",onClick:r.$.clearCart,children:"Clear Cart"})]}),n.items.length===0?t.jsx(c,{color:"gray.500",textAlign:"center",py:4,children:"Cart is empty"}):t.jsxs(j,{spacing:3,align:"stretch",children:[n.items.map(s=>{const a=Ue.find(l=>l.id===s.productId),i=a?a.price:0,o=s.quantity*i;return t.jsxs(d,{p:3,children:[t.jsxs(P,{justify:"space-between",children:[t.jsx(j,{align:"start",spacing:1,children:t.jsxs(P,{children:[t.jsx(cr,{colorScheme:"red",onClick:()=>r.$.removeItem(s.productId)}),t.jsx(c,{fontWeight:"semibold",children:a?a.name:`Unknown (${s.productId})`})]})}),t.jsx(P,{spacing:2,children:t.jsx(ls,{size:"sm",value:s.quantity,min:0,width:"100px",style:{textAlign:"right"},onChange:l=>{const u=parseInt(l)||0;r.$.safeUpdateProduct(s.productId,u)},children:t.jsx(cs,{textAlign:"right"})})})]}),t.jsxs(P,{width:"full",justify:"space-between",children:[t.jsxs(c,{textStyle:"description",children:[Ut.format(i)," each"]}),t.jsx(c,{textStyle:"description",children:Ut.format(o)})]})]},s.productId)}),t.jsxs(P,{width:"full",justify:"space-between",px:4,children:[t.jsx(c,{children:"Total:"}),t.jsxs(c,{fontWeight:800,children:[" $",Ut.format(n.totalCost)]})]})]})]})]})},Cu=()=>t.jsx(E,{children:t.jsxs(j,{spacing:6,align:"stretch",children:[t.jsx(Tu,{}),t.jsxs(d,{children:[t.jsx(f,{size:"md",mb:4,children:"Source Code - Error Handling with Toasts"}),t.jsx(c,{color:"gray.600",mb:4,children:"Here's how to implement global error handling with Chakra UI toasts for validation errors:"}),t.jsx(q,{tabs:[{label:"Demo Component",language:"tsx",snippet:"shopping-cart-demo-component"},{label:"Store Factory",language:"typescript",snippet:"shoppingCartStoreFactory"},{label:"Schema & Validation",language:"typescript",snippet:"shopping-cart-schema-validation"},{label:"Unit Tests",language:"typescript",snippet:"shopping-cart-example-tests"}]})]})]})}),Fu=()=>t.jsx(oe,{maxW:"container.xl",py:8,children:t.jsxs(j,{layerStyle:"section",spacing:8,children:[t.jsxs(d,{textAlign:"center",children:[t.jsxs(f,{size:"xl",mb:4,children:["Shopping Cart Example",t.jsx(_,{ml:3,colorScheme:"purple",children:"Validation Focus"})]}),t.jsx(c,{textStyle:"hero",maxW:"2xl",children:"A shopping cart application demonstrating Forestry 4's validation system, schema integration, and complex business logic handling."})]}),t.jsx(Cu,{}),t.jsxs(E,{title:"Critical Business Rules",children:[t.jsx(c,{color:"gray.600",children:'This example demonstrates validation for critical business rules that should prevent invalid states from being saved. These are "quantum constraints" and system limits that protect data integrity. Unlike formatting for structure enforced by schema, these are dynamic rules that require code introspection to enforce'}),t.jsxs(Kt,{children:[t.jsxs(v,{children:[t.jsx("strong",{children:"No duplicates"})," - Same product can't appear twice (use quantity instead)"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"No negative quantities"})," - Quantities must be positive integers"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Stock limits"})," - Cannot exceed available inventory"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Valid products only"})," - Products must exist in catalog"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"System limits"})," - Maximum 100 total items per cart"]})]})]})]})}),Iu=()=>t.jsxs(oe,{maxW:"container.xl",py:8,children:[t.jsx(f,{variant:"page",children:"Form Validation"}),t.jsx(c,{textStyle:"hero",children:"A comprehensive form validation example demonstrating field-level validation, cross-field dependencies, async validation, and error handling patterns."}),t.jsxs(j,{layerStyle:"section",spacing:8,children:[t.jsxs(E,{title:"Form Demo",layerStyle:"methodCard",w:"full",children:[t.jsx(c,{mb:4,color:"gray.600",children:"Try filling out the form below. Notice how validation provides immediate feedback, handles async operations, and manages complex field dependencies."}),t.jsx(Ur,{})]}),t.jsx(Vr,{}),t.jsx(E,{title:"    Features Demonstrated",children:t.jsxs(le,{spacing:2,children:[t.jsxs(v,{children:[t.jsx("strong",{children:"Field-Level Validation:"})," Individual field validation with specific error messages"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Cross-Field Dependencies:"})," Password confirmation, conditional required fields"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Async Validation:"})," Username availability, email verification"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Dynamic Validation Rules:"})," Rules that change based on other field values"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Error State Management:"})," Field-specific error display and clearing"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Form Submission Flow:"})," Validation before submission with loading states"]})]})}),t.jsxs(E,{title:"Branched Stores",children:[t.jsx(c,{color:"gray.600",children:"This example showcases Forestry 4's branch system. Each form field is managed by its own branch with independent validation, while the parent forest coordinates overall form state."}),t.jsxs(d,{p:4,bg:"blue.50",borderRadius:"md",children:[t.jsx(c,{fontWeight:"semibold",mb:2,children:" Branch Benefits:"}),t.jsxs(j,{spacing:1,align:"start",fontSize:"sm",children:[t.jsxs(c,{children:[" ",t.jsx("strong",{children:"Independent validation"})," - Each field has its own validation logic"]}),t.jsxs(c,{children:[" ",t.jsx("strong",{children:"Focused actions"})," - Field-specific actions like setValue()"]}),t.jsxs(c,{children:[" ",t.jsx("strong",{children:"Isolated state"})," - Changes to one field don't affect others"]}),t.jsxs(c,{children:[" ",t.jsx("strong",{children:"Coordinated updates"})," - Parent store sees all field changes"]}),t.jsxs(c,{children:[" ",t.jsx("strong",{children:"Modular design"})," - Easy to add/remove fields without affecting others"]})]})]})]}),t.jsxs(d,{layerStyle:"methodCard",w:"full",children:[t.jsx(f,{size:"md",mb:4,children:"Validation Architecture"}),t.jsxs(_e,{status:"info",mb:4,children:[t.jsx(Ae,{}),"This example demonstrates a multi-layered validation approach with field-level, form-level, and async validation patterns."]}),t.jsxs(j,{spacing:4,align:"stretch",children:[t.jsxs(d,{children:[t.jsx(f,{size:"sm",mb:2,children:"Field-Level Validation"}),t.jsx(c,{textStyle:"description",children:"Each field has its own validation rules that run immediately on change, providing instant feedback to users."})]}),t.jsxs(d,{children:[t.jsx(f,{size:"sm",mb:2,children:"Cross-Field Dependencies"}),t.jsx(c,{textStyle:"description",children:"Some fields depend on others (password confirmation, conditional requirements) and are validated whenever dependent fields change."})]}),t.jsxs(d,{children:[t.jsx(f,{size:"sm",mb:2,children:"Async Validation"}),t.jsx(c,{textStyle:"description",children:"Username and email fields perform server-side validation to check availability and validity, with proper loading states and error handling."})]}),t.jsxs(d,{children:[t.jsx(f,{size:"sm",mb:2,children:"Form-Level Validation"}),t.jsx(c,{textStyle:"description",children:"Overall form validation ensures all fields are valid before allowing submission, with comprehensive error reporting."})]})]})]}),t.jsxs(d,{layerStyle:"methodCard",w:"full",children:[t.jsx(f,{size:"md",mb:4,children:"Validation Schema"}),t.jsx(Q,{snippetName:"UserRegistrationSchema",language:"typescript",title:"Form Schema with Complex Rules"})]}),t.jsxs(d,{layerStyle:"methodCard",w:"full",children:[t.jsx(f,{size:"md",mb:4,children:"Store Implementation"}),t.jsx(Q,{snippetName:"formValidationStoreFactory",language:"typescript",title:"Form Store with Advanced Validation"})]}),t.jsxs(d,{layerStyle:"methodCard",w:"full",children:[t.jsx(f,{size:"md",mb:4,children:"Form Validation Best Practices"}),t.jsxs(Kt,{children:[t.jsxs(v,{children:[t.jsx("strong",{children:"Immediate Feedback:"})," Validate fields as users type for better UX"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Progressive Enhancement:"})," Start with basic validation, add async checks"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Clear Error Messages:"})," Provide specific, actionable error information"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Loading States:"})," Show progress during async validation and submission"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Accessibility:"})," Proper ARIA labels and error associations"]}),t.jsxs(v,{children:[t.jsx("strong",{children:"Error Recovery:"})," Allow users to easily correct and retry"]})]})]})]})]}),zu=()=>t.jsxs(oe,{maxW:"container.xl",py:8,children:[t.jsx(f,{variant:"page",children:" Transaction System Example"}),t.jsxs(j,{layerStyle:"section",spacing:8,children:[t.jsx(c,{textStyle:"hero",maxW:"2xl",children:"A comprehensive example demonstrating Forestry 4's transaction system for atomic operations, rollback capabilities, and complex state management scenarios."}),t.jsx(E,{title:"Features Demonstrated",children:t.jsxs(le,{spacing:2,children:[t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Atomic Operations:"})," Multi-step operations that succeed or fail as a unit"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Automatic Rollback:"})," State restoration when transactions fail"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Validation Control:"})," Suspend/resume validation during transactions"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Nested Transactions:"})," Complex operations with multiple transaction levels"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Error Handling:"})," Graceful failure handling with detailed error information"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Performance Optimization:"})," Batch operations for better performance"]})]})}),t.jsxs(E,{title:"Live Transaction Demo",children:[t.jsx(c,{color:"gray.600",mb:4,children:"Try the interactive demo below to see transactions in action. Notice how operations are atomic - they either complete successfully or roll back completely."}),t.jsx(Wr,{})]}),t.jsxs(E,{title:"Transaction Concepts",children:[t.jsxs(_e,{status:"info",mb:4,children:[t.jsx(Ae,{}),"Transactions ensure data consistency by treating multiple operations as a single, atomic unit that either completes entirely or rolls back completely."]}),t.jsxs(d,{children:[t.jsx(f,{size:"sm",mb:2,children:"Atomicity"}),t.jsx(c,{textStyle:"description",children:"All operations within a transaction succeed together or fail together. No partial updates are left in an inconsistent state."})]}),t.jsxs(d,{children:[t.jsx(f,{size:"sm",mb:2,children:"Rollback Safety"}),t.jsx(c,{textStyle:"description",children:"If any operation fails, the entire transaction is rolled back to the original state before the transaction began."})]}),t.jsxs(d,{children:[t.jsx(f,{size:"sm",mb:2,children:"Validation Control"}),t.jsx(c,{textStyle:"description",children:"Validation can be suspended during transactions to allow intermediate invalid states, then resumed for final validation."})]}),t.jsxs(d,{children:[t.jsx(f,{size:"sm",mb:2,children:"Performance Benefits"}),t.jsx(c,{textStyle:"description",children:"Batch multiple operations together to reduce validation overhead and improve performance for complex state changes."})]})]}),t.jsxs(E,{title:"Source Code",children:[t.jsx(c,{color:"gray.600",mb:4,children:"Here's the complete implementation showing modern Forestry 4.1.x transaction patterns with comprehensive testing:"}),t.jsx(q,{tabs:[{label:"Demo Component",language:"tsx",snippet:"TransactionDemo-component"},{label:"Store Factory",language:"typescript",snippet:"transactionDemoStoreFactory"},{label:"Unit Tests",language:"typescript",snippet:"transaction-demo-example-tests"}]})]}),t.jsxs(d,{layerStyle:"methodCard",w:"full",children:[t.jsx(f,{size:"md",mb:4,children:"Transaction Best Practices"}),t.jsxs(le,{spacing:3,children:[t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Use for Multi-Step Operations:"})," Any operation that requires multiple state changes"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Suspend Validation Wisely:"})," Suspend for intermediate states, validate at the end"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Handle Errors Gracefully:"})," Provide meaningful error messages and recovery options"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Keep Transactions Focused:"})," Don't make transactions too large or complex"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Test Rollback Scenarios:"})," Ensure your error handling and rollback logic works"]}),t.jsxs(v,{children:[t.jsx(R,{as:te,color:"green.500"}),t.jsx("strong",{children:"Use for Performance:"})," Batch operations to reduce validation overhead"]})]})]})]})]});function Ru(){return t.jsxs(d,{minH:"100vh",children:[t.jsx($s,{}),t.jsx(d,{as:"main",pt:"120px",children:t.jsxs(ms,{children:[t.jsx(se,{path:"/",element:t.jsx(gc,{})}),t.jsx(se,{path:"/why",element:t.jsx(wc,{})}),t.jsx(se,{path:"/store",element:t.jsx(rr,{})}),t.jsx(se,{path:"/forest",element:t.jsx(rr,{})}),t.jsx(se,{path:"/change",element:t.jsx(Ic,{})}),t.jsx(se,{path:"/react",element:t.jsx(Wc,{})}),t.jsx(se,{path:"/other-frameworks",element:t.jsx(Hc,{})}),t.jsx(se,{path:"/branching",element:t.jsx(Lc,{})}),t.jsx(se,{path:"/validation",element:t.jsx(ou,{})}),t.jsx(se,{path:"/schemas",element:t.jsx(lu,{})}),t.jsx(se,{path:"/transactions",element:t.jsx(fu,{})}),t.jsx(se,{path:"/rxjs",element:t.jsx(xu,{})}),t.jsx(se,{path:"/advanced",element:t.jsx(bu,{})}),t.jsx(se,{path:"/examples/todo-app",element:t.jsx(Eu,{})}),t.jsx(se,{path:"/examples/shopping-cart",element:t.jsx(Fu,{})}),t.jsx(se,{path:"/examples/form-validation",element:t.jsx(Iu,{})}),t.jsx(se,{path:"/examples/transaction-demo",element:t.jsx(zu,{})}),t.jsx(se,{path:"/api",element:t.jsx(yu,{})}),t.jsx(se,{path:"/examples",element:t.jsx(vu,{})})]})})]})}const $u=us({styles:{global:e=>({body:{bg:e.colorMode==="light"?"tree-light":"gray.800",...e.colorMode==="light"&&{backgroundImage:'url("/img/background-timberline.png")',backgroundRepeat:"repeat-x !important",backgroundAttachment:"scroll",backgroundPosition:"center top",backgroundSize:"80%"}}})},colors:{"tree-light":"hsl(179,80%,89%)",brand:{50:"#e6f7ff",100:"#bae7ff",200:"#91d5ff",300:"#69c0ff",400:"#40a9ff",500:"#1890ff",600:"#096dd9",700:"#0050b3",800:"#003a8c",900:"#002766"},forest:{50:"#f0fff4",100:"#c6f6d5",200:"#9ae6b4",300:"#68d391",400:"#48bb78",500:"#38a169",600:"#2f855a",700:"#276749",800:"#22543d",900:"#1a202c"}},fonts:{heading:`'Urbanist', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif`,body:`'Poppins', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif`,mono:"'Fira Sans', 'Monaco', 'Menlo', 'Ubuntu Mono', monospace"},layerStyles:{card:{py:1,px:1,borderRadius:"md",mb:2},highlight:{p:3,borderRadius:"md"},doDontItem:{p:3,borderRadius:"md",border:"1px solid"},section:{spacing:6,align:"stretch"},infoBox:{p:4,borderRadius:"md"},sidebar:{position:"fixed",left:0,top:0,h:"100vh",w:"280px",bg:"gray.50",borderRight:"1px",borderColor:"gray.200",overflowY:"auto",p:6,zIndex:10},mainContent:{ml:"280px",p:8,maxW:"none"},methodCard:{p:6,borderRadius:"lg",border:"1px",borderColor:"gray.200",mb:6,bg:"white",shadow:"sm"},codeExample:{p:4,bg:"gray.50",borderRadius:"md",border:"1px",borderColor:"gray.200",fontFamily:"mono",fontSize:"sm",overflowX:"auto"},methodSignature:{py:3,borderBottom:"1px solid",borderColor:"red.600",fontFamily:"mono",fontSize:"sm",fontWeight:"semibold",color:"gray.800",display:"block"},navLink:{display:"block",py:2,px:3,borderRadius:"md",fontSize:"sm",color:"gray.700",textDecoration:"none",_hover:{bg:"gray.100",color:"brand.600"}}},textStyles:{body:{color:"gray.600",mb:4},description:{color:"gray.600",fontSize:"sm",mb:3},hero:{fontSize:"xl",color:"gray.600",maxW:"4xl",mx:"auto",mb:3}},components:{Button:{defaultProps:{colorScheme:"brand"}},Code:{baseStyle:{fontSize:"sm",fontFamily:"mono"}},Heading:{baseStyle:{fontWeight:"bold",fontFamily:"heading",lineHeight:"shorter",color:"gray.800"},sizes:{xs:{fontSize:"sm",mb:1,lineHeight:"base"},sm:{fontSize:"md",mb:2,lineHeight:"base"},md:{fontSize:"lg",mb:3,lineHeight:"short"},lg:{fontSize:"xl",mb:4,lineHeight:"short"},xl:{fontSize:"2xl",mb:4,lineHeight:"shorter",fontWeight:"bold"},"2xl":{fontSize:"3xl",mb:6,lineHeight:"shorter",fontWeight:"bold"},"3xl":{fontSize:"4xl",mb:6,lineHeight:"none",fontWeight:"bold"},"4xl":{fontSize:"5xl",mb:8,lineHeight:"none",fontWeight:"bold"}},variants:{section:e=>({...e.theme.components.Heading.sizes.lg,color:"gray.700",fontWeight:"medium"}),card:e=>({...e.theme.components.Heading.sizes.md,color:"gray.800",fontWeight:"semibold"}),page:e=>({...e.theme.components.Heading.sizes["3xl"],color:"gray.900",fontWeight:"bold",textAlign:"center"}),subtle:e=>({...e.theme.components.Heading.sizes.sm,color:"gray.600",fontWeight:"medium"})}}}});bs.createRoot(document.getElementById("root")).render(t.jsx(ye.StrictMode,{children:t.jsx(ds,{theme:$u,toastOptions:{defaultOptions:{position:"top-right",duration:4e3}},children:t.jsx(gs,{children:t.jsx(Ru,{})})})}));
