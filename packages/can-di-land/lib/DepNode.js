"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DepNode=void 0;class DepNode{constructor(e,r,t){this.key=e,this.can=r,this.parent=t}get deps(){var e=null==(e=this.can.configs.get(this.key))?void 0:e.deps;return null!=e&&e.length?e.map(e=>new DepNode(e,this.can,this)):[]}get parents(){return this.parent?[...this.parent.parents,this.key]:[]}get errors(){return this.deps.map(e=>this.parents.includes(e.key)?(console.error("circular dependency for ",e.key,"parents are ",e.parents),Object.assign(new Error("circular dependency"),{key:e.key})):e.errors).flat()}}exports.DepNode=DepNode;