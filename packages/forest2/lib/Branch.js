Object.defineProperty(exports,"__esModule",{value:!0}),exports.Branch=void 0;let types_trees_1=require("./types.trees");class Branch{constructor(e,t){this.tree=e,this.change=t,this.time=e.forest.nextTime}add(e){e=new Branch(this.tree,e);return this.link(this,e),e}get value(){return(0,types_trees_1.isMutator)(this.change)?this.change.next(this,this.change.seed):this.change.next}linkTo(e){return this.link(this,e)}link(e,t){e&&(e.next=t),t&&(t.prev=e)}}exports.Branch=Branch;