Object.defineProperty(exports,"__esModule",{value:!0});let Tree_1=require("./Tree");class Forest{constructor(e){this.trees=new Map,this.engines=new Map,e.forEach(e=>this.dataEngine(e))}tree(e,t){if(!t){if(this.trees.has(e))return this.trees.get(e);throw new Error("cannot find tree "+e)}if(this.trees.has(e))throw new Error("cannot redefine tree "+e);t=new Tree_1.Tree(this,e,t);return this.trees.set(e,t),t}dataEngine(e){if("string"!=typeof e)return this.engines.set(e.name,e),e;if(this.engines.has(e))return this.engines.get(e);throw new Error("cannot find engine "+e)}}exports.default=Forest;