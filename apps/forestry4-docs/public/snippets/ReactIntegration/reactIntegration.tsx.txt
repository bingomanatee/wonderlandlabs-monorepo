// âœ… Use Forestry hook for proper integration
const [todoValue, forest] = useForestryLocal(todoForestFactory);

// Computed values (derived state)
const filteredTodos = useMemo(() => {
  switch (todoValue.filter) {
    case 'active':
      return todoValue.todos.filter(todo => !todo.completed);
    case 'completed':
      return todoValue.todos.filter(todo => todo.completed);
    default:
      return todoValue.todos;
  }
}, [todoValue.todos, todoValue.filter]);

const completedCount = todoValue.todos.filter(todo => todo.completed).length;
const activeCount = todoValue.todos.length - completedCount;
