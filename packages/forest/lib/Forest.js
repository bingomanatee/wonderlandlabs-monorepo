"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const types_1=require("./types"),Branch_1=__importDefault(require("./Branch"));class Forest{constructor(e){}branches=new Map;createBranch(e,r){if(r)return this.createBranch({...e,name:r});if(!(0,types_1.isBranchConfig)(e))throw new Error("cannot create a branch without a name");if(this.branches.has(e.name))throw new Error("cannot redefine branch "+e.name);r=new Branch_1.default(e,this);return this.branches.set(e.name,r),r}}exports.default=Forest;