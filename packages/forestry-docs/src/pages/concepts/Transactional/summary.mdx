If an action throws an error, the state of all trees is reset to the values
they had before the action began.
