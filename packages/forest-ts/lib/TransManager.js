"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const TransHandler_1=require("./TransHandler");class TransManager{constructor(e){this.tree=e,this.pendingHandlers=[],this.nextHandlerId=1}start(e){e=new TransHandler_1.TransHandler(this,this.nextHandlerId,e);return this.nextHandlerId+=1,this.pendingHandlers.push(e),e}remove(r,e){const n=[],s=[];this.pendingHandlers.forEach(e=>{(e.id>=r?s:n).push(e)}),!e&&n.length&&this.tree.revert(s)}}exports.default=TransManager;